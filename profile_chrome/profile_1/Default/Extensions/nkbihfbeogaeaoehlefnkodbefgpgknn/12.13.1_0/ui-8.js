LavaPack.loadBundle([[7099,{"./usePrevious":7098,lodash:5108,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useScrollRequired=void 0;var a=e("react"),o=e("lodash"),r=e("./usePrevious");n.useScrollRequired=(e=[],{offsetPxFromBottom:t=16}={})=>{var n,s;const i=(0,a.useRef)(null),l=(0,r.usePrevious)(null===(n=i.current)||void 0===n?void 0:n.offsetHeight),[c,u]=(0,a.useState)(!1),[d,m]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1),g=()=>{if(!i.current)return;const e=i.current&&i.current.scrollHeight>i.current.clientHeight,n=e&&Math.round(i.current.scrollTop)+i.current.offsetHeight+t>=i.current.scrollHeight;e!==d&&(u(!1),m(e)),p(!e||n),e&&!n||u(!0)};(0,a.useEffect)(g,[i,...e]),(0,a.useEffect)((()=>{var e;l!==(null===(e=i.current)||void 0===e?void 0:e.offsetHeight)&&g()}),[null===(s=i.current)||void 0===s?void 0:s.offsetHeight]);return{isScrollable:d,isScrolledToBottom:f,hasScrolledToBottom:c,scrollToBottom:()=>{p(!0),u(!0),i.current&&i.current.scrollTo({top:i.current.scrollHeight,behavior:"smooth"})},setHasScrolledToBottom:u,ref:i,onScroll:(0,o.debounce)(g,25)}}}}},{package:"$root$",file:"ui/hooks/useScrollRequired.js"}],[7100,{"../helpers/constants/routes":6985,"../selectors":7653,"react-redux":5460,"react-router-dom":5487},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSegmentContext=function(){const e=(0,o.useRouteMatch)({path:i,exact:!0,strict:!0}),t=((0,a.useSelector)(s.txDataSelector)||{}).origin,n=t?{url:t}:undefined;return{page:e?{path:e.path,title:r.PATH_NAME_MAP[e.path],url:e.path}:undefined,referrer:n}};var a=e("react-redux"),o=e("react-router-dom"),r=e("../helpers/constants/routes"),s=e("../selectors");const i=Object.keys(r.PATH_NAME_MAP)}}},{package:"$root$",file:"ui/hooks/useSegmentContext.js"}],[7101,{"../ducks/app/app":6952,"./useGasFeeEstimates":7078,lodash:5108,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldAnimateGasEstimations=function(){const{isGasEstimatesLoading:e,gasFeeEstimates:t}=(0,i.useGasFeeEstimates)(),n=(0,o.useDispatch)(),l=(0,o.useSelector)(s.getGasLoadingAnimationIsShowing),c=(0,a.useRef)(t),u=!(0,r.isEqual)(c.current,t),d=(0,r.isEqual)(c.current,{});u&&(c.current=t);const m=e||u&&!d;(0,a.useEffect)((()=>{!1===l&&!0===m&&n((0,s.toggleGasLoadingAnimation)(!0))}),[n,l,m]),(0,a.useEffect)((()=>{let e;return l&&!m&&(e=setTimeout((()=>{n((0,s.toggleGasLoadingAnimation)(!1))}),2e3)),()=>{e&&clearTimeout(e)}}),[n,l,m])};var a=e("react"),o=e("react-redux"),r=e("lodash"),s=e("../ducks/app/app"),i=e("./useGasFeeEstimates")}}},{package:"$root$",file:"ui/hooks/useShouldAnimateGasEstimations.js"}],[7102,{"../../shared/constants/time":5984,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldShowSpeedUp=function(e,t){const{transactions:n,hasRetried:r}=e,[s={}]=n,{submittedTime:i}=s,[l,c]=(0,a.useState)((()=>Date.now()-i>5e3&&t&&!r));return(0,a.useEffect)((()=>{let e;return r||!t||l||(Date.now()-i>5*o.SECOND?c(!0):e=setTimeout((()=>{c(!0),clearTimeout(e)}),5001-(Date.now()-i))),()=>{e&&clearTimeout(e)}}),[i,l,r,t]),l};var a=e("react"),o=e("../../shared/constants/time")}}},{package:"$root$",file:"ui/hooks/useShouldShowSpeedUp.js"}],[7103,{"../../shared/lib/transactions-controller-utils":6004,"../../shared/modules/selectors/networks":6033,"../../shared/modules/swaps.utils":6037,"./useTokenFiatAmount":7110,"@metamask/transaction-controller":3344,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSwappedTokenValue=function(e,t){const{symbol:n,decimals:c,address:u}=t,{primaryTransaction:d,initialTransaction:m}=e,{type:f}=m,{from:p}=m.txParams||{},g=(0,a.useSelector)(i.getCurrentChainId),h=f===o.TransactionType.swap&&((null==t?void 0:t.symbol)===d.destinationTokenSymbol||(0,s.isSwapsDefaultTokenAddress)(t.address,g)&&(0,s.isSwapsDefaultTokenSymbol)(d.destinationTokenSymbol,g)),y=[o.TransactionType.swap].includes(f)&&h?(0,r.getSwapsTokensReceivedFromTxMeta)(d.destinationTokenSymbol,m,u,p,c,null,g):[o.TransactionType.swap,o.TransactionType.swapAndSend].includes(f)&&d.swapTokenValue,v="string"==typeof y&&-1===Math.sign(y),k=(0,l.useTokenFiatAmount)(u,y||"",n),T=(0,l.useTokenFiatAmount)(d.sourceTokenAddress,y,d.sourceTokenSymbol);let b;y&&(h?b=k:f===o.TransactionType.swapAndSend&&(b=T));return{swapTokenValue:y,swapTokenFiatAmount:b,isViewingReceivedTokenFromSwap:h,isNegative:v}};var a=e("react-redux"),o=e("@metamask/transaction-controller"),r=e("../../shared/lib/transactions-controller-utils"),s=e("../../shared/modules/swaps.utils"),i=e("../../shared/modules/selectors/networks"),l=e("./useTokenFiatAmount")}}},{package:"$root$",file:"ui/hooks/useSwappedTokenValue.js"}],[7104,{"../../shared/constants/preferences":5977,"../selectors":7653,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTheme=function(){const e=(0,o.useSelector)(r.getTheme),[t,n]=(0,a.useState)(e);return(0,a.useEffect)((()=>{const t=e&&e!==s.ThemeType.os?e:document.documentElement.getAttribute("data-theme");i.includes(t)||(console.warn(`useTheme: Invalid theme resolved to "${t}". Defaulting to "${s.ThemeType.light}".`),n(s.ThemeType.light)),n(t)}),[e]),t};var a=e("react"),o=e("react-redux"),r=e("../selectors"),s=e("../../shared/constants/preferences");const i=Object.values(s.ThemeType).filter((e=>e!==s.ThemeType.os))}}},{package:"$root$",file:"ui/hooks/useTheme.ts"}],[7105,{react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTimeout=function(e,t,n=!0){const o=(0,a.useRef)(),[r,s]=(0,a.useState)(null);(0,a.useEffect)((()=>{o.current=e}),[e]),(0,a.useEffect)((()=>{if("start"!==r)return undefined;const e=setTimeout((()=>{o.current()}),t);return s(e),()=>{clearTimeout(r)}}),[t,r]);const i=(0,a.useCallback)((()=>{clearTimeout(r),s("start")}),[r]);n&&i();return i};var a=e("react")}}},{package:"$root$",file:"ui/hooks/useTimeout.js"}],[7107,{"../../shared/modules/transaction.utils":6038,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenData=function(e,t=!0){return(0,a.useMemo)((()=>t&&e?(0,o.parseStandardTokenTransactionData)(e):null),[t,e])};var a=e("react"),o=e("../../shared/modules/transaction.utils")}}},{package:"$root$",file:"ui/hooks/useTokenData.js"}],[7108,{"../ducks/metamask/metamask":6967,"../selectors":7653,"../store/actions":7667,"./useMultiPolling":7086,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-redux"),r=e("../selectors"),s=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=(a=e("./useMultiPolling"))&&a.__esModule?a:{default:a};n.default=()=>{const e=(0,o.useSelector)(r.getUseTokenDetection),t=(0,o.useSelector)(i.getCompletedOnboarding),n=(0,o.useSelector)(i.getIsUnlocked),a=(0,o.useSelector)(r.getChainIdsToPoll),c=t&&n&&e;return(0,l.default)({startPolling:s.tokenDetectionStartPolling,stopPollingByPollingToken:s.tokenDetectionStopPollingByPollingToken,input:c?[a]:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenDetectionPolling.ts"}],[7109,{"../../shared/lib/metamask-controller-utils":5996,"../../shared/lib/transactions-controller-utils":6004,"./useTokenData":7107,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenDisplayValue=function(e,t,n=!0){const i=(0,s.useTokenData)(e,n),l=(0,o.getTokenValueParam)(i),c=Boolean(n&&e&&t&&null!==t.decimals&&t.decimals!==undefined&&l);return(0,a.useMemo)((()=>c?(0,r.calcTokenAmount)(l,t.decimals).toString(10):null),[c,l,t])};var a=e("react"),o=e("../../shared/lib/metamask-controller-utils"),r=e("../../shared/lib/transactions-controller-utils"),s=e("./useTokenData")}}},{package:"$root$",file:"ui/hooks/useTokenDisplayValue.js"}],[7111,{"../ducks/metamask/metamask":6967,"../selectors":7653,"../store/actions":7667,"./useMultiPolling":7086,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-redux"),r=e("../selectors"),s=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=(a=e("./useMultiPolling"))&&a.__esModule?a:{default:a};n.default=()=>{const e=(0,o.useSelector)(r.getUseTokenDetection),t=(0,o.useSelector)(r.getUseTransactionSimulations),n=(0,o.useSelector)(r.getPetnamesEnabled),a=(0,o.useSelector)(i.getCompletedOnboarding),c=(0,o.useSelector)(i.getIsUnlocked),u=(0,o.useSelector)(r.getUseExternalServices),d=(0,o.useSelector)(r.getChainIdsToPoll),m=a&&c&&u&&(e||n||t);return(0,l.default)({startPolling:s.tokenListStartPolling,stopPollingByPollingToken:s.tokenListStopPollingByPollingToken,input:m?d:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenListPolling.ts"}],[7112,{"../ducks/metamask/metamask":6967,"../selectors":7653,"../store/actions":7667,"./useMultiPolling":7086,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-redux"),r=e("../selectors"),s=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=(a=e("./useMultiPolling"))&&a.__esModule?a:{default:a};n.default=()=>{const e=(0,o.useSelector)(i.getCompletedOnboarding),t=(0,o.useSelector)(i.getIsUnlocked),n=(0,o.useSelector)(r.getUseCurrencyRateCheck),a=(0,o.useSelector)(r.getChainIdsToPoll),c=(0,o.useSelector)(r.getTokenExchangeRates),u=(0,o.useSelector)(r.getTokensMarketData),d=(0,o.useSelector)(r.getMarketData),m=e&&t&&n;return(0,l.default)({startPolling:s.tokenRatesStartPolling,stopPollingByPollingToken:s.tokenRatesStopPollingByPollingToken,input:m?a:[]}),{tokenExchangeRates:c,tokensMarketData:u,marketData:d}}}}},{package:"$root$",file:"ui/hooks/useTokenRatesPolling.ts"}],[7113,{"../../shared/constants/time":5984,"../../shared/modules/selectors/networks":6033,"../../shared/modules/string-utils":6036,"../selectors":7653,"./useEqualityCheck":7075,"@metamask/eth-token-tracker":1916,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenTracker=function({tokens:e,address:t,includeFailedTokens:n=!1,hideZeroBalanceTokens:a=!1}){const{chainId:m,rpcUrl:f}=(0,s.useSelector)(l.getProviderConfig),{address:p}=(0,s.useSelector)(i.getSelectedInternalAccount,s.shallowEqual),g=t??p,[h,y]=(0,o.useState)((()=>(null==e?void 0:e.length)>=0)),[v,k]=(0,o.useState)([]),[T,b]=(0,o.useState)(null),x=(0,o.useRef)(null),w=(0,d.useEqualityCheck)(e),C=(0,o.useCallback)((e=>{const t=(a?e.filter((e=>Number(e.balance)>0)):e).map((e=>{const t=w.find((t=>(0,u.isEqualCaseInsensitive)(t.address,e.address)));return{...e,isERC721:null==t?void 0:t.isERC721,image:null==t?void 0:t.image}}));k(t),y(!1),b(null)}),[a,w]),E=(0,o.useCallback)((e=>{b(e),y(!1)}),[]),_=(0,o.useCallback)((()=>{x.current&&(x.current.stop(),x.current.removeAllListeners("update"),x.current.removeAllListeners("error"),x.current=null)}),[]),S=(0,o.useCallback)(((e,t)=>{_(),x.current=new r.default({userAddress:e,provider:global.ethereumProvider,tokens:t,includeFailedTokens:n,pollingInterval:8*c.SECOND,balanceDecimals:5}),x.current.on("update",C),x.current.on("error",E),x.current.updateBalances()}),[C,n,E,_]);return(0,o.useEffect)((()=>_),[_]),(0,o.useEffect)((()=>{y(!0),g&&m!==undefined&&global.ethereumProvider?(0===w.length&&C([]),S(g,w)):_()}),[g,_,m,f,w,C,S]),{loading:h,tokensWithBalances:v,error:T}};var a,o=e("react"),r=(a=e("@metamask/eth-token-tracker"))&&a.__esModule?a:{default:a},s=e("react-redux"),i=e("../selectors"),l=e("../../shared/modules/selectors/networks"),c=e("../../shared/constants/time"),u=e("../../shared/modules/string-utils"),d=e("./useEqualityCheck")}}},{package:"$root$",file:"ui/hooks/useTokenTracker.js"}],[7114,{"../../shared/constants/network":5972,"../../shared/constants/swaps":5982,"../../shared/modules/hexstring-utils":6021,"../../shared/modules/selectors/networks":6033,"../../shared/modules/swaps.utils":6037,"../ducks/metamask/metamask":6967,"../ducks/swaps/swaps":6975,"../helpers/utils/token-util":7025,"../selectors":7653,"./useEqualityCheck":7075,"@metamask/assets-controllers":1442,"bignumber.js":4195,lodash:5108,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRenderableTokenData=k,n.useTokensToSearch=function({usersTokens:e=[],topTokens:t={},shuffledTokensList:n,tokenBucketPriority:a=h.TokenBucketPriority.owned}){const l=(0,r.useSelector)(d.getCurrentChainId),c=(0,r.useSelector)(u.getTokenExchangeRates,i.isEqual),g=(0,r.useSelector)(m.getConversionRate),y=(0,r.useSelector)(m.getCurrentCurrency),T=(0,r.useSelector)(u.getSwapsDefaultToken,r.shallowEqual),b=(0,r.useSelector)(u.getTokenList,i.isEqual),x=(0,v.useEqualityCheck)(t),w=(0,v.useEqualityCheck)(e),C=k(T,c,g,y,l,b),E=(0,v.useEqualityCheck)(C),_=(0,r.useSelector)(f.getSwapsTokens,i.isEqual)||[],S=_.length?_:[E,...n.filter((e=>e.symbol!==E.symbol))],I=(0,v.useEqualityCheck)(S);return(0,o.useMemo)((()=>{const e=w.reduce(((e,t)=>({...e,[t.address.toLowerCase()]:t})),{}),t={owned:[],top:[],others:[]};return(0,i.uniqBy)([E,...I,...w],(e=>e.address.toLowerCase())).forEach((n=>{const o=k({...e[n.address.toLowerCase()],...n},c,g,y,l,b);a===h.TokenBucketPriority.owned?(0,p.isSwapsDefaultTokenSymbol)(o.symbol,l)||e[n.address.toLowerCase()]?t.owned.push(o):x[n.address.toLowerCase()]?t.top[x[n.address.toLowerCase()].index]=o:t.others.push(o):x[n.address.toLowerCase()]?t.top[x[n.address.toLowerCase()].index]=o:(0,p.isSwapsDefaultTokenSymbol)(o.symbol,l)||e[n.address.toLowerCase()]?t.owned.push(o):t.others.push(o)})),t.owned=t.owned.sort((({rawFiat:e},{rawFiat:t})=>new s.default(e||0).gt(t||0)?-1:1)),t.top=t.top.filter(Boolean),a===h.TokenBucketPriority.owned?[...t.owned,...t.top,...t.others]:[...t.top,...t.owned,...t.others]}),[I,w,x,c,g,y,E,l,b,a])};var a,o=e("react"),r=e("react-redux"),s=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},i=e("lodash"),l=e("@metamask/assets-controllers"),c=e("../helpers/utils/token-util"),u=e("../selectors"),d=e("../../shared/modules/selectors/networks"),m=e("../ducks/metamask/metamask"),f=e("../ducks/swaps/swaps"),p=e("../../shared/modules/swaps.utils"),g=e("../../shared/modules/hexstring-utils"),h=e("../../shared/constants/swaps"),y=e("../../shared/constants/network"),v=e("./useEqualityCheck");function k(e,t,n,a,o,r){var i,u;const{symbol:d,name:m,address:f,iconUrl:h,string:v,balance:k,decimals:T}=e;let b;(0,p.isSwapsDefaultTokenSymbol)(d,o)?b=1:v&&n>0&&(b=t[(0,g.toChecksumHexAddress)(f)]);const x=(0,c.getTokenFiatAmount)(b,n,a,v,d,!0)||"",w=x?(0,c.getTokenFiatAmount)(b,n,a,v,d,!1):"",C=o===y.CHAIN_IDS.SEPOLIA?y.CHAIN_IDS.MAINNET:o,E=(d===y.CURRENCY_SYMBOLS.ETH&&o===y.CHAIN_IDS.MAINNET||d===y.CURRENCY_SYMBOLS.ETH&&o===y.CHAIN_IDS.SEPOLIA||d===y.CURRENCY_SYMBOLS.BNB&&o===y.CHAIN_IDS.BSC||d===y.CURRENCY_SYMBOLS.MATIC&&o===y.CHAIN_IDS.POLYGON||d===y.CURRENCY_SYMBOLS.AVALANCHE&&o===y.CHAIN_IDS.AVALANCHE||d===y.CURRENCY_SYMBOLS.ETH&&o===y.CHAIN_IDS.OPTIMISM||d===y.CURRENCY_SYMBOLS.ETH&&o===y.CHAIN_IDS.ARBITRUM||d===y.CURRENCY_SYMBOLS.ETH&&o===y.CHAIN_IDS.LINEA_MAINNET||d===y.CURRENCY_SYMBOLS.ETH&&o===y.CHAIN_IDS.ZKSYNC_ERA||d===y.CURRENCY_SYMBOLS.ETH&&o===y.CHAIN_IDS.BASE?h:(0,l.formatIconUrlWithProxy)({chainId:C,tokenAddress:f||""}))||(null==e?void 0:e.image);return{...e,primaryLabel:d,secondaryLabel:m||(null===(i=r[null==f?void 0:f.toLowerCase()])||void 0===i?void 0:i.name),rightPrimaryLabel:v&&`${new s.default(v).round(6).toString()} ${d}`,rightSecondaryLabel:x,iconUrl:E,identiconAddress:E?null:f,balance:k,decimals:T,name:m||(null===(u=r[null==f?void 0:f.toLowerCase()])||void 0===u?void 0:u.name),rawFiat:w,image:e.image||e.iconUrl}}}}},{package:"$root$",file:"ui/hooks/useTokensToSearch.js"}],[7115,{"../../shared/constants/bridge":5958,"../../shared/constants/transaction":5986,"../../shared/lib/metamask-controller-utils":5996,"../../shared/modules/string-utils":6036,"../ducks/bridge-status/selectors":6954,"../ducks/locale/locale":6966,"../ducks/metamask/metamask":6967,"../helpers/constants/common":6977,"../helpers/constants/transactions":6991,"../helpers/utils/common.util":7005,"../helpers/utils/token-util":7025,"../helpers/utils/transactions.util":7026,"../helpers/utils/util":7028,"../pages/bridge/hooks/useBridgeTokenDisplayData":7134,"../pages/confirmations/components/simulation-details/formatAmount":7313,"../selectors/selectors":7660,"../store/actions":7667,"./bridge/useBridgeChainInfo":7037,"./useCurrencyDisplay":7071,"./useCurrentAsset":7073,"./useI18nContext":7081,"./useSwappedTokenValue":7103,"./useTokenData":7107,"./useTokenDisplayValue":7109,"./useTokenFiatAmount":7110,"./useUserPreferencedCurrency":7116,"@metamask/transaction-controller":3344,"bignumber.js":4195,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionDisplayData=function(e){var t,n,O,N,R,B,j,$;const L=(0,a.useDispatch)(),W=(0,a.useSelector)(x.getIntlLocale),q=(0,A.useCurrentAsset)(),G=(0,a.useSelector)(p.getTokens),H=(0,a.useSelector)(p.getNfts),V=(0,a.useSelector)(i.getDetectedTokensInCurrentNetwork)||[],U=(0,a.useSelector)(i.getTokenList),z=(0,C.useI18nContext)(),K=(0,a.useSelector)(k.selectBridgeHistoryForAccount),Q=e.initialTransaction.id,J=K[Q],{destNetwork:X}=(0,D.default)({bridgeHistoryItem:J,srcTxMeta:e.initialTransaction}),Y=w.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==X?void 0:X.chainId],{initialTransaction:Z,primaryTransaction:ee}=e,{type:te}=Z,{from:ne,to:ae}=Z.txParams||{},oe=(0,a.useSelector)((e=>{var t;return(0,i.getKnownMethodData)(e,null==Z||null===(t=Z.txParams)||void 0===t?void 0:t.data)}))||{},re=(0,l.getStatusKey)(ee),se=re in f.PENDING_STATUS_HASH,ie=re===r.TransactionStatus.submitted,le=(0,o.useRef)(!0),ce=null===(t=ee.txParams)||void 0===t?void 0:t.value,ue=(0,m.formatDateWithYearContext)(Z.time);let de,me="-",fe=!1,pe=ae;const ge=f.TOKEN_CATEGORY_HASH[te];let he=null;const[ye,ve]=(0,o.useState)(null);ge&&(he=G.find((({address:e})=>(0,y.isEqualCaseInsensitive)(e,pe)))||V.find((({address:e})=>(0,y.isEqualCaseInsensitive)(e,pe)))||U[pe.toLowerCase()]);(0,o.useEffect)((()=>()=>{le.current=!1}),[]),(0,o.useEffect)((()=>{!async function(){if(ge&&!he){var e;const t=await(0,d.getAssetDetails)(ae,ne,null==Z||null===(e=Z.txParams)||void 0===e?void 0:e.data,H);!0===le.current&&ve(t)}}()}),[ge,he,pe,ne,null==Z||null===(n=Z.txParams)||void 0===n?void 0:n.data,H,ae,le]),ye&&(he={address:ye.toAddress,symbol:ye.symbol,decimals:ye.decimals});const ke=(0,M.useTokenData)(null==Z||null===(O=Z.txParams)||void 0===O?void 0:O.data,ge),Te=(0,d.getTokenIdParam)(ke)??(0,v.getTokenValueParam)(ke),be=ge&&H.find((({address:e,tokenId:t})=>(0,y.isEqualCaseInsensitive)(e,pe)&&t===Te)),xe=(0,I.useTokenDisplayValue)(null==ee||null===(N=ee.txParams)||void 0===N?void 0:N.data,he,ge),we=(0,E.useTokenFiatAmount)(null===(R=he)||void 0===R?void 0:R.address,xe,null===(B=he)||void 0===B?void 0:B.symbol),Ce=(0,m.stripHttpSchemes)(Z.origin||(null===(j=Z.msgParams)||void 0===j?void 0:j.origin)||"");let Ee,_e,Se=ge?null===($=he)||void 0===$?void 0:$.symbol:undefined,Ie=ge?xe:undefined,Me=ge?we:undefined;const{swapTokenValue:Pe,isNegative:Ae,swapTokenFiatAmount:De,isViewingReceivedTokenFromSwap:Oe}=(0,P.useSwappedTokenValue)(e,q),Fe=(0,T.useBridgeTokenDisplayData)(e);if(F.includes(te))Ee=g.TransactionGroupCategory.signatureRequest,_e=z("signatureRequest"),de=Ce,fe=!0;else if(te===r.TransactionType.swap)Ee=g.TransactionGroupCategory.swap,_e=z("swapTokenToToken",[Z.sourceTokenSymbol,Z.destinationTokenSymbol]),de=Ce,fe=!0,Se=Oe?q.symbol:Z.sourceTokenSymbol,Ie=Pe,Me=De,me=Ae?"":Oe?"+":"-";else if(te===r.TransactionType.swapAndSend){const e=Z.swapAndSendRecipient===ne;pe=Z.swapAndSendRecipient,Ee=g.TransactionGroupCategory.swapAndSend,_e=z("sendTokenAsToken",[Z.sourceTokenSymbol,Z.destinationTokenSymbol]),de=Ce,fe=!0,Se=Oe&&e?q.symbol:Z.sourceTokenSymbol,Ie=Pe,Me=De,me=Ae?"":Oe&&e?"+":"-"}else if(te===r.TransactionType.swapApproval)Ee=g.TransactionGroupCategory.approval,_e=z("swapApproval",[ee.sourceTokenSymbol]),de=Ce,fe=!0,Se=ee.sourceTokenSymbol;else if(te===r.TransactionType.tokenMethodApprove){var Ne;Ee=g.TransactionGroupCategory.approval,me="",_e=z("approveSpendingCap",[(null===(Ne=he)||void 0===Ne?void 0:Ne.symbol)||z("token").toLowerCase()]),de=Ce,fe=!0}else if(te===r.TransactionType.tokenMethodSetApprovalForAll){var Re;Ee=g.TransactionGroupCategory.approval,me="",_e=z("setApprovalForAllTitle",[(null===(Re=he)||void 0===Re?void 0:Re.symbol)||z("token")]),de=Ce,fe=!0}else if(te===r.TransactionType.tokenMethodIncreaseAllowance){var Be;Ee=g.TransactionGroupCategory.approval,me="",_e=z("approveIncreaseAllowance",[(null===(Be=he)||void 0===Be?void 0:Be.symbol)||z("token")]),de=Ce,fe=!0}else if(te===r.TransactionType.contractInteraction){Ee=g.TransactionGroupCategory.interaction;const e=(0,l.getTransactionTypeTitle)(z,te);_e=(null==oe?void 0:oe.name)&&(0,c.camelCaseToCapitalize)(oe.name)||e,de=Ce,fe=!0}else if(te===r.TransactionType.deployContract)Ee=g.TransactionGroupCategory.interaction,_e=(0,l.getTransactionTypeTitle)(z,te),de=Ce,fe=!0;else if(te===r.TransactionType.incoming)Ee=g.TransactionGroupCategory.receive,_e=z("receive"),me="",de=z("fromAddress",[(0,m.shortenAddress)(ne)]);else if(te===r.TransactionType.tokenMethodTransferFrom||te===r.TransactionType.tokenMethodTransfer){var je;Ee=g.TransactionGroupCategory.send,_e=z("sendSpecifiedTokens",[(null===(je=he)||void 0===je?void 0:je.symbol)||(null==be?void 0:be.name)||z("token")]),pe=(0,d.getTokenAddressParam)(ke),de=z("toAddress",[(0,m.shortenAddress)(pe)])}else te===r.TransactionType.tokenMethodSafeTransferFrom?(Ee=g.TransactionGroupCategory.send,_e=z("safeTransferFrom"),pe=(0,d.getTokenAddressParam)(ke),de=z("toAddress",[(0,m.shortenAddress)(pe)])):te===r.TransactionType.simpleSend?(Ee=g.TransactionGroupCategory.send,_e=z("send"),de=z("toAddress",[(0,m.shortenAddress)(pe)])):te===r.TransactionType.bridgeApproval?(_e=z("bridgeApproval"),Ee=g.TransactionGroupCategory.approval,_e=z("bridgeApproval",[ee.sourceTokenSymbol]),de=Ce,fe=!0,Se=ee.sourceTokenSymbol):te===r.TransactionType.bridge?(_e=z("bridgeToChain",[Y||""]),Ee=Fe.category,Se=Fe.sourceTokenSymbol,Ie=(0,b.formatAmount)(W,new s.default(Fe.sourceTokenAmountSent??0)),Me=Fe.displayCurrencyAmount):L((0,h.captureSingleException)(`useTransactionDisplayData does not recognize transaction type. Type received is: ${te}`));const $e=(0,_.useUserPreferencedCurrency)(u.PRIMARY),Le=(0,_.useUserPreferencedCurrency)(u.SECONDARY),[We]=(0,S.useCurrencyDisplay)(ce,{prefix:me,displayValue:Ie,suffix:Se,...$e}),[qe]=(0,S.useCurrencyDisplay)(ce,{prefix:me,displayValue:Me,hideLabel:ge||Boolean(Pe),...Le});return{title:_e,category:Ee,date:ue,subtitle:de,subtitleContainsOrigin:fe,primaryCurrency:te===r.TransactionType.swap&&se?"":We,senderAddress:ne,recipientAddress:pe,secondaryCurrency:ge&&!we||[r.TransactionType.swap,r.TransactionType.swapAndSend].includes(te)&&!De?undefined:qe,displayedStatusKey:re,isPending:se,isSubmitted:ie}};var a=e("react-redux"),o=e("react"),r=e("@metamask/transaction-controller"),s=O(e("bignumber.js")),i=e("../selectors/selectors"),l=e("../helpers/utils/transactions.util"),c=e("../helpers/utils/common.util"),u=e("../helpers/constants/common"),d=e("../helpers/utils/token-util"),m=e("../helpers/utils/util"),f=e("../helpers/constants/transactions"),p=e("../ducks/metamask/metamask"),g=e("../../shared/constants/transaction"),h=e("../store/actions"),y=e("../../shared/modules/string-utils"),v=e("../../shared/lib/metamask-controller-utils"),k=e("../ducks/bridge-status/selectors"),T=e("../pages/bridge/hooks/useBridgeTokenDisplayData"),b=e("../pages/confirmations/components/simulation-details/formatAmount"),x=e("../ducks/locale/locale"),w=e("../../shared/constants/bridge"),C=e("./useI18nContext"),E=e("./useTokenFiatAmount"),_=e("./useUserPreferencedCurrency"),S=e("./useCurrencyDisplay"),I=e("./useTokenDisplayValue"),M=e("./useTokenData"),P=e("./useSwappedTokenValue"),A=e("./useCurrentAsset"),D=O(e("./bridge/useBridgeChainInfo"));function O(e){return e&&e.__esModule?e:{default:e}}const F=[null,undefined,r.TransactionType.sign,r.TransactionType.personalSign,r.TransactionType.signTypedData,r.TransactionType.ethDecrypt,r.TransactionType.ethGetEncryptionPublicKey]}}},{package:"$root$",file:"ui/hooks/useTransactionDisplayData.js"}],[7116,{"../../shared/constants/common":5959,"../constants":6936,"../helpers/constants/common":6977,"../selectors":7653,"../selectors/multichain":7656,"./useMultichainSelector":7089,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useUserPreferencedCurrency=function(e,t={}){const n=(0,a.useSelector)(o.getSelectedInternalAccount),u=t.account??n,d=(0,c.useMultichainSelector)(r.getMultichainNativeCurrency,u),{showNativeTokenAsMainBalance:m}=(0,a.useSelector)(o.getPreferences,a.shallowEqual),f=(0,c.useMultichainSelector)(r.getMultichainShouldShowFiat,u),p={currency:(0,c.useMultichainSelector)(r.getMultichainCurrentCurrency,u),numberOfDecimals:t.numberOfDecimals||t.fiatNumberOfDecimals||2},g={currency:d||i.EtherDenomination.ETH,numberOfDecimals:t.numberOfDecimals||t.ethNumberOfDecimals||l.ETH_DEFAULT_DECIMALS};if(t.showNativeOverride)return g;if(t.showFiatOverride)return p;if(!f)return g;if(t.shouldCheckShowNativeToken&&m||!t.shouldCheckShowNativeToken)return e===s.PRIMARY?g:p;return e===s.PRIMARY?p:g};var a=e("react-redux"),o=e("../selectors"),r=e("../selectors/multichain"),s=e("../helpers/constants/common"),i=e("../../shared/constants/common"),l=e("../constants"),c=e("./useMultichainSelector")}}},{package:"$root$",file:"ui/hooks/useUserPreferencedCurrency.js"}],[7117,{"../app/scripts/constants/sentry-state":7,"../app/scripts/lib/util":166,"../shared/constants/alerts":5955,"../shared/constants/app":5957,"../shared/constants/copy":5960,"../shared/lib/error-utils":5993,"../shared/lib/switch-direction":6e3,"../shared/lib/trace":6002,"../shared/modules/object.utils":6026,"../shared/modules/selectors/networks":6033,"./ducks/alerts":6949,"./ducks/metamask/metamask":6967,"./helpers/utils/tags":7024,"./helpers/utils/tx-helper":7027,"./pages":7440,"./selectors":7653,"./store/actions":7667,"./store/background-connection":7668,"./store/store":7669,"copy-to-clipboard":4355,lodash:5108,loglevel:5114,react:5502,"react-dom":5331,util:5900,"webextension-polyfill":5934},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=async function(e){const{backgroundConnection:t,traceContext:n}=e,o=await(0,v.trace)({name:v.TraceName.GetState,parentContext:n},(()=>(0,a.promisify)(t.getState.bind(t))())),r=await async function(e,t,n){const{traceContext:a}=n,o=(0,I.getStartupTraceTags)({metamask:e}),r=await(0,v.trace)({name:v.TraceName.SetupStore,parentContext:a,tags:o},(()=>O(e,t,n.activeTab)));return global.metamask={updateCurrentLocale:e=>{r.dispatch(T.updateCurrentLocale(e))},setFeatureFlag:(e,t)=>{r.dispatch(T.setFeatureFlag(e,t))}},await(0,v.trace)({name:v.TraceName.InitialActions,parentContext:a},(()=>async function(e){const t=e.getState(),n=(0,x.getNetworkToAutomaticallySwitchTo)(t);n?await e.dispatch(T.automaticallySwitchNetwork(n,(0,x.getOriginOfCurrentTab)(t))):(0,x.getSwitchedNetworkDetails)(t)&&await e.dispatch(T.clearSwitchedNetworkDetails());if((0,u.getEnvironmentType)()===p.ENVIRONMENT_TYPE_POPUP){const t=Date.now();global.metamask.id=t,await e.dispatch(T.setCurrentExtensionPopupId(t))}}(r))),(0,v.trace)({name:v.TraceName.FirstRender,parentContext:a},(()=>(0,l.render)(i.default.createElement(E.default,{store:r}),n.container))),r}(o,t,e);return await(0,a.promisify)(t.startPatches.bind(t))(),function(e){0;window.stateHooks.getCleanAppState=async function(){const t=(0,s.clone)(e.getState());return t.version=global.platform.getVersion(),t.browser=window.navigator.userAgent,t},window.stateHooks.getSentryAppState=function(){const t=e.getState();return(0,m.maskObject)(t,f.SENTRY_UI_STATE)},window.stateHooks.getLogs=function(){const t=e.getState(),{logs:n}=t.metamask;return Object.values(n).sort(((e,t)=>e.timestamp-t.timestamp))}}(r),r},n.setupInitialStore=O,n.updateBackgroundConnection=void 0;var a=e("util"),o=P(e("copy-to-clipboard")),r=P(e("loglevel")),s=e("lodash"),i=P(e("react")),l=e("react-dom"),c=P(e("webextension-polyfill")),u=e("../app/scripts/lib/util"),d=e("../shared/constants/alerts"),m=e("../shared/modules/object.utils"),f=e("../app/scripts/constants/sentry-state"),p=e("../shared/constants/app"),g=e("../shared/constants/copy"),h=P(e("../shared/lib/switch-direction")),y=e("../shared/lib/error-utils"),v=e("../shared/lib/trace"),k=e("../shared/modules/selectors/networks"),T=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("./store/actions")),b=P(e("./store/store")),x=e("./selectors"),w=e("./ducks/alerts"),C=e("./ducks/metamask/metamask"),E=P(e("./pages")),_=P(e("./helpers/utils/tx-helper")),S=e("./store/background-connection"),I=e("./helpers/utils/tags");function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function P(e){return e&&e.__esModule?e:{default:e}}let A;r.default.setLevel(global.METAMASK_DEBUG?"debug":"warn",!1);const D=e=>{(0,S.setBackgroundConnection)(e),e.onNotification((e=>{if("sendUpdate"!==e.method)throw new Error(`Internal JSON-RPC Notification Not Handled:\n\n ${JSON.stringify(e)}`);A.dispatch(T.updateMetamaskState(e.params[0]))}))};async function O(e,t,n){e.featureFlags||(e.featureFlags={});const{currentLocaleMessages:a,enLocaleMessages:o}=await(0,y.setupLocale)(e.currentLocale);"rtl"===e.textDirection&&(0,h.default)("rtl");const r={activeTab:n,metamask:e,appState:{},localeMessages:{currentLocale:e.currentLocale,current:a,en:o}};if(D(t),(0,u.getEnvironmentType)()===p.ENVIRONMENT_TYPE_POPUP){var s;const{origin:e}=r.activeTab,t=(0,x.getPermittedAccountsForCurrentTab)(r),n=(null===(s=(0,x.getSelectedInternalAccount)(r))||void 0===s?void 0:s.address)??"",a=(0,C.getUnconnectedAccountAlertShown)(r),o=(0,C.getUnconnectedAccountAlertEnabledness)(r);e&&o&&!a[e]&&t.length>0&&!t.includes(n)&&(r[d.AlertTypes.unconnectedAccount]={state:w.ALERT_STATE.OPEN},T.setUnconnectedAccountAlertShown(e))}const i=(0,b.default)(r);A=i;const l=(0,x.getUnapprovedTransactions)(e),c=(0,_.default)(l,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.networkId,(0,k.getCurrentChainId)({metamask:e}));return c.length>0&&i.dispatch(T.showConfTxPage({id:c[0].id})),i}n.updateBackgroundConnection=D,window.logStateString=async function(e){const t=await window.stateHooks.getCleanAppState(),n=window.stateHooks.getLogs();c.default.runtime.getPlatformInfo().then((a=>{t.platform=a,t.logs=n;const o=JSON.stringify(t,null,2);e(null,o)})).catch((t=>{e(t)}))},window.logState=function(e){return window.logStateString(((t,n)=>{t?console.error(t.message):e?((0,o.default)(n,g.COPY_OPTIONS),console.log("State log copied")):console.log(n)}))}}}},{package:"$root$",file:"ui/index.js"}],[7118,{"../../../shared/modules/string-utils":6036,"../../components/app/assets/nfts/nft-details/nft-details":6097,"../../ducks/metamask/metamask":6967,"../../helpers/constants/routes":6985,"../../selectors":7653,"./components/native-asset":7125,"./components/token-asset":7126,"./util":7130,react:5502,"react-redux":5460,"react-router-dom":5487},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),s=e("../../../shared/modules/string-utils"),i=p(e("../../components/app/assets/nfts/nft-details/nft-details")),l=e("../../selectors"),c=e("../../ducks/metamask/metamask"),u=e("../../helpers/constants/routes"),d=p(e("./components/token-asset")),m=e("./util"),f=p(e("./components/native-asset"));function p(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,o.useSelector)(l.getSelectedAccountTokensAcrossChains),t=(0,r.useParams)(),{chainId:n,asset:p,id:g}=t,h=(0,o.useSelector)((e=>(0,c.getNFTsByChainId)(e,n))),y=(0,m.findAssetByAddress)(e,p,n),v=h.find((({address:e,tokenId:t})=>(0,s.isEqualCaseInsensitive)(e,p)&&g===t.toString()));let k;return(0,a.useEffect)((()=>{const e=document.querySelector(".app");null==e||e.scroll(0,0)}),[]),k=v?a.default.createElement(i.default,{nft:v}):y&&n?null!=y&&y.address?a.default.createElement(d.default,{chainId:n,token:y}):a.default.createElement(f.default,{chainId:n,token:y}):a.default.createElement(r.Redirect,{to:{pathname:u.DEFAULT_ROUTE}}),a.default.createElement("div",{className:"main-container asset__container"},k)}}}},{package:"$root$",file:"ui/pages/asset/asset.tsx"}],[7119,{"../../../components/component-library":6528,"../../../components/ui/menu":6880,"../../../contexts/i18n":6939,"../../../helpers/constants/design-system":6979,"../../../helpers/constants/routes":6985,"../../../selectors":7653,"prop-types":5256,react:5502,"react-redux":5460,"react-router-dom":5487},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("react-router-dom"),i=e("react-redux"),l=e("../../../contexts/i18n"),c=e("../../../components/ui/menu"),u=e("../../../selectors"),d=e("../../../helpers/constants/routes"),m=e("../../../components/component-library"),f=e("../../../helpers/constants/design-system");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const g=({onRemove:e,onClickBlockExplorer:t,onViewTokenDetails:n,tokenSymbol:a,isNativeAsset:r})=>{const p=(0,o.useContext)(l.I18nContext),[g,h]=(0,o.useState)(!1),y=(0,s.useHistory)(),v=(0,i.useSelector)(u.getBlockExplorerLinkText),k=(0,o.useRef)(!1);return o.default.createElement("div",{ref:k},o.default.createElement(m.ButtonIcon,{className:"asset-options__button","data-testid":"asset-options__button",onClick:()=>h(!0),ariaLabel:p("assetOptions"),iconName:m.IconName.MoreVertical,color:f.Color.textDefault,size:m.ButtonIconSize.Sm}),g?o.default.createElement(c.Menu,{anchorElement:k.current,onHide:()=>h(!1)},o.default.createElement(c.MenuItem,{iconName:m.IconName.Export,"data-testid":"asset-options__etherscan",onClick:"addBlockExplorer"===v.firstPart?()=>{y.push(`${d.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{h(!1),t()}},p(v.firstPart,""===v.secondPart?null:[p("blockExplorerAssetAction")])),r?null:o.default.createElement(c.MenuItem,{iconName:m.IconName.Trash,"data-testid":"asset-options__hide",onClick:()=>{h(!1),e()}},p("hideTokenSymbol",[a])),r||!n?null:o.default.createElement(c.MenuItem,{iconName:m.IconName.Info,"data-testid":"asset-options__token-details",onClick:()=>{h(!1),n()}},p("tokenDetails"))):null)};g.propTypes={isNativeAsset:r.default.bool,onClickBlockExplorer:r.default.func.isRequired,onRemove:e=>{if(!1===e.isNativeAsset&&"function"!=typeof e.onRemove)throw new Error("When isNativeAsset is true, onRemove is a required prop")},onViewTokenDetails:r.default.func,tokenSymbol:e=>{if(!1===e.isNativeAsset&&"string"!=typeof e.tokenSymbol)throw new Error("When isNativeAsset is true, tokenSymbol is a required prop")}};n.default=g}}},{package:"$root$",file:"ui/pages/asset/components/asset-options.js"}],[7120,{"../../../../shared/constants/transaction":5986,"../../../../shared/modules/conversion.utils":6015,"../../../../shared/modules/hexstring-utils":6021,"../../../../shared/modules/selectors/networks":6033,"../../../components/app/assets/token-cell":6111,"../../../components/app/assets/util/calculateTokenBalance":6115,"../../../components/app/transaction-list":6446,"../../../components/app/wallet-overview/coin-buttons":6453,"../../../components/component-library":6528,"../../../components/multichain":6693,"../../../ducks/metamask/metamask":6967,"../../../ducks/ramps":6969,"../../../helpers/constants/design-system":6979,"../../../helpers/constants/routes":6985,"../../../helpers/utils/confirm-tx.util":7006,"../../../helpers/utils/portfolio":7021,"../../../hooks/useI18nContext":7081,"../../../hooks/useMultichainSelector":7089,"../../../hooks/useTokenBalances":7106,"../../../selectors":7653,"../../../selectors/multichain":7656,"../util":7130,"./chart/asset-chart":7122,"./token-buttons":7127,"@metamask/assets-controllers":1442,"@metamask/keyring-api":2113,lodash:5108,react:5502,"react-redux":5460,"react-router-dom":5487},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),s=e("@metamask/keyring-api"),i=e("lodash"),l=e("@metamask/assets-controllers"),c=e("../../../selectors"),u=e("../../../helpers/constants/design-system"),d=e("../../../components/component-library"),m=e("../../../helpers/utils/confirm-tx.util"),f=e("../../../hooks/useI18nContext"),p=e("../../../components/multichain"),g=e("../../../../shared/constants/transaction"),h=O(e("../../../components/app/assets/token-cell")),y=O(e("../../../components/app/transaction-list")),v=e("../util"),k=e("../../../helpers/constants/routes"),T=e("../../../ducks/metamask/metamask"),b=e("../../../../shared/modules/hexstring-utils"),x=O(e("../../../components/app/wallet-overview/coin-buttons")),w=e("../../../ducks/ramps"),C=e("../../../components/app/assets/util/calculateTokenBalance"),E=e("../../../hooks/useTokenBalances"),_=e("../../../hooks/useMultichainSelector"),S=e("../../../selectors/multichain"),I=e("../../../../shared/modules/selectors/networks"),M=e("../../../helpers/utils/portfolio"),P=e("../../../../shared/modules/conversion.utils"),A=O(e("./chart/asset-chart")),D=O(e("./token-buttons"));function O(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function N(e,t){return a.default.createElement(d.Box,{display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween},a.default.createElement(d.Text,{color:u.TextColor.textAlternative,variant:u.TextVariant.bodyMdMedium},e),t)}n.default=({asset:e,optionsButton:t})=>{var n,O,F,R,B,j,$;const L=(0,f.useI18nContext)(),W=(0,o.useHistory)(),q=(0,r.useSelector)(c.getSelectedAccount),G=(0,r.useSelector)(T.getCurrentCurrency),H=(0,r.useSelector)(T.getConversionRate),V=(0,r.useSelector)(w.getIsNativeTokenBuyable),{chainId:U,type:z,symbol:K,name:Q,image:J,decimals:X}=e,Y=(0,r.useSelector)((e=>(0,c.getSwapsDefaultToken)(e,U)),i.isEqual),Z=(0,r.useSelector)((e=>(0,c.getIsSwapsChain)(e,U))),ee=(0,r.useSelector)((e=>(0,c.getIsBridgeChain)(e,U))),te=(0,r.useSelector)(c.getSelectedInternalAccount,i.isEqual),ne=te.methods.includes(s.EthMethod.SignTransaction)||te.methods.includes(s.EthMethod.SignUserOperation),ae=(0,r.useSelector)(c.getMarketData),oe=(0,r.useSelector)(c.getCurrencyRates),re=(0,r.useSelector)(c.getIsTestnet),se=(0,_.useMultichainSelector)(S.getMultichainShouldShowFiat,q),ie=!re,le=(0,r.useSelector)(c.getShowFiatInTestnets),ce=se&&(ie||re&&le),ue=(0,r.useSelector)(c.getSelectedAccountNativeTokenCachedBalanceByChainId),{tokenBalances:de}=(0,E.useTokenBalances)({chainIds:[U]}),me=de[q.address],fe=(0,r.useSelector)(c.getParticipateInMetaMetrics),pe=(0,r.useSelector)(c.getDataCollectionForMarketing),ge=(0,r.useSelector)(c.getMetaMetricsId),he=z===g.AssetType.token?(0,b.toChecksumHexAddress)(e.address):(0,l.getNativeTokenAddress)(U),ye=null==me||null===(n=me[U])||void 0===n?void 0:n[he],ve=(0,C.calculateTokenBalance)({isNative:z===g.AssetType.native,chainId:U,address:he,decimals:X,nativeBalances:ue,selectedAccountTokenBalancesAcrossChains:me}),ke=null===(O=ae[U])||void 0===O||null===(O=O[he])||void 0===O?void 0:O.currency,Te=(null===(F=ae[U])||void 0===F||null===(F=F[he])||void 0===F?void 0:F.price)||undefined,be=z===g.AssetType.native?null===(R=oe[K])||void 0===R?void 0:R.conversionRate:(null===(B=oe[ke])||void 0===B?void 0:B.conversionRate)||0,xe=Te*be*parseFloat(String(ve)),we=be!==undefined&&Te!==undefined?be*Te:undefined,Ce=null===(j=ae[U])||void 0===j?void 0:j[he],Ee=H>0&&Ce&&(Ce.marketCap>0||Ce.totalVolume>0||Ce.circulatingSupply>0||Ce.allTimeHigh>0||Ce.allTimeLow>0);e.balance={value:(0,P.hexToDecimal)(ye),display:String(ve),fiat:String(xe)};const _e=(0,a.useMemo)((()=>(0,M.getPortfolioUrl)("","asset_page",ge,fe,pe,te.address,"spending-caps")),[te.address,pe,fe,ge]),Se=null===($=(0,r.useSelector)(I.getNetworkConfigurationsByChainId)[U])||void 0===$?void 0:$.name,Ie=(0,S.getImageForChainId)(U);return a.default.createElement(d.Box,{marginLeft:"auto",marginRight:"auto",marginTop:4,className:"asset__content"},a.default.createElement(d.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,justifyContent:u.JustifyContent.spaceBetween,paddingLeft:2,paddingRight:4,paddingBottom:1},a.default.createElement(d.Box,{display:u.Display.Flex},a.default.createElement(d.ButtonIcon,{color:u.IconColor.iconAlternative,marginRight:1,size:d.ButtonIconSize.Sm,ariaLabel:L("back"),iconName:d.IconName.ArrowLeft,onClick:()=>W.push(k.DEFAULT_ROUTE)}),a.default.createElement(d.Text,{"data-testid":"asset-name",color:u.TextColor.textAlternative},Q&&K&&Q!==K?`${Q} (${K})`:Q??K)),t),a.default.createElement(A.default,{chainId:U,address:he,currentPrice:we,currency:G}),a.default.createElement(d.Box,{marginTop:4},z===g.AssetType.native?a.default.createElement(x.default,{account:te,trackingLocation:"asset-page",isBuyableChain:V,isSigningEnabled:ne,isSwapsChain:Z,isBridgeChain:ee,chainId:U,defaultSwapsToken:Y}):a.default.createElement(D.default,{token:e})),a.default.createElement(d.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,paddingTop:5},a.default.createElement(d.Text,{variant:u.TextVariant.headingMd,paddingBottom:2,paddingLeft:4},L("yourBalance")),[g.AssetType.token,g.AssetType.native].includes(z)&&a.default.createElement(h.default,{key:`${K}-${he}`,token:{address:he,chainId:U,symbol:K,image:J,tokenFiatAmount:ce&&Te?xe:null,string:ve?ve.toString():"",decimals:e.decimals,aggregators:z===g.AssetType.token&&e.aggregators?e.aggregators:[],isNative:z===g.AssetType.native}}),a.default.createElement(d.Box,{marginTop:2,display:u.Display.Flex,flexDirection:u.FlexDirection.Column,gap:7},[g.AssetType.token,g.AssetType.native].includes(z)&&a.default.createElement(d.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,paddingLeft:4,paddingRight:4},a.default.createElement(d.Text,{variant:u.TextVariant.headingMd,paddingBottom:4},L("tokenDetails")),a.default.createElement(d.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,gap:2},N(L("network"),a.default.createElement(d.Text,{display:u.Display.Flex,alignItems:u.AlignItems.center,gap:1,"data-testid":"asset-network"},a.default.createElement(d.AvatarNetwork,{src:Ie,name:Se,size:d.AvatarNetworkSize.Sm}),Se)),z===g.AssetType.token&&a.default.createElement(d.Box,null,N(L("contractAddress"),a.default.createElement(p.AddressCopyButton,{address:he,shorten:!0})),a.default.createElement(d.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,gap:2},e.decimals!==undefined&&N(L("tokenDecimal"),a.default.createElement(d.Text,null,e.decimals)),e.aggregators&&e.aggregators.length>0&&a.default.createElement(d.Box,null,a.default.createElement(d.Text,{color:u.TextColor.textAlternative,variant:u.TextVariant.bodyMdMedium},L("tokenList")),a.default.createElement(d.Text,null,e.aggregators.map((e=>e.replace(/^metamask$/iu,"MetaMask"))).join(", "))))),N(L("spendingCaps"),a.default.createElement(d.ButtonLink,{className:"asset-page__spending-caps mm-text--body-md-medium",href:_e,target:"_blank",rel:"noopener noreferrer"},L("editInPortfolio"))))),Ee&&a.default.createElement(d.Box,{paddingLeft:4,paddingRight:4},a.default.createElement(d.Text,{variant:u.TextVariant.headingMd,paddingBottom:4},L("marketDetails")),a.default.createElement(d.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,gap:2},Ce.marketCap>0&&N(L("marketCap"),a.default.createElement(d.Text,{"data-testid":"asset-market-cap"},(0,v.localizeLargeNumber)(L,be*Ce.marketCap))),Ce.totalVolume>0&&N(L("totalVolume"),a.default.createElement(d.Text,null,(0,v.localizeLargeNumber)(L,be*Ce.totalVolume))),Ce.circulatingSupply>0&&N(L("circulatingSupply"),a.default.createElement(d.Text,null,(0,v.localizeLargeNumber)(L,Ce.circulatingSupply))),Ce.allTimeHigh>0&&N(L("allTimeHigh"),a.default.createElement(d.Text,null,(0,m.formatCurrency)(""+be*Ce.allTimeHigh,G,(0,v.getPricePrecision)(be*Ce.allTimeHigh)))),Ce.allTimeLow>0&&N(L("allTimeLow"),a.default.createElement(d.Text,null,(0,m.formatCurrency)(""+be*Ce.allTimeLow,G,(0,v.getPricePrecision)(be*Ce.allTimeLow)))))),a.default.createElement(d.Box,{marginBottom:8},a.default.createElement(d.Text,{paddingLeft:4,paddingRight:4,variant:u.TextVariant.headingMd},L("yourActivity")),z===g.AssetType.native?a.default.createElement(y.default,{hideTokenTransactions:!0}):a.default.createElement(y.default,{tokenAddress:he})))))}}}},{package:"$root$",file:"ui/pages/asset/components/asset-page.tsx"}],[7121,{"../../../components/component-library":6528,"../../../helpers/constants/design-system":6979,"../../../helpers/utils/confirm-tx.util":7006,"../util":7130,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../helpers/constants/design-system"),r=e("../../../components/component-library"),s=e("../../../helpers/utils/confirm-tx.util"),i=e("../util");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const c=a.default.createElement("svg",{className:"chart-up",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("path",{d:"M9.75 3.8125L6.25 7.4875L4.91667 5.3875L2.25 8.1875",strokeLinecap:"round",strokeLinejoin:"round"}),a.default.createElement("path",{d:"M8.08398 3.8125H9.75065V5.5625",strokeLinecap:"round",strokeLinejoin:"round"})),u=a.default.createElement("svg",{className:"chart-down",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("path",{d:"M9.75 8.1875L6.25 4.5125L4.91667 6.6125L2.25 3.8125",strokeLinecap:"round",strokeLinejoin:"round"}),a.default.createElement("path",{d:"M8.08398 8.1875H9.75065V6.4375",strokeLinecap:"round",strokeLinejoin:"round"})),d=(0,a.forwardRef)(((e,t)=>{const[{price:n,date:l},d]=(0,a.useState)({price:e.price,date:e.date});(0,a.useImperativeHandle)(t,(()=>({setPrice:d})));const{loading:m,currency:f,comparePrice:p}=e,g=n!==undefined&&p!==undefined?n-p:undefined;return a.default.createElement(r.Box,{marginLeft:4,marginRight:4},a.default.createElement(r.Text,{"data-testid":"asset-hovered-price",style:{width:"100px"},variant:o.TextVariant.headingLg,borderRadius:o.BorderRadius.LG,marginBottom:1,backgroundColor:m&&!n?o.BackgroundColor.backgroundAlternative:o.BackgroundColor.transparent},n?(0,s.formatCurrency)(`${n}`,f,(0,i.getPricePrecision)(n)):""),a.default.createElement(r.Box,null,g!==undefined&&p!==undefined?a.default.createElement(r.Box,{style:{opacity:m?i.loadingOpacity:1}},g>=0?c:u,a.default.createElement(r.Text,{display:o.Display.InlineBlock,variant:o.TextVariant.bodyMdMedium,marginLeft:1,marginRight:1,color:g>=0?o.TextColor.successDefault:o.TextColor.errorDefault},(0,s.formatCurrency)(`${Math.abs(g)}`,f,(0,i.getPricePrecision)(g))," ","(",g>=0?"+":"",(g/p*100).toFixed(2),"%)"),a.default.createElement(r.Text,{display:o.Display.InlineBlock,variant:o.TextVariant.bodyMdMedium,color:o.TextColor.textAlternative},(0,i.getShortDateFormatter)().format(l))):a.default.createElement(r.Text,{style:{width:"200px"},backgroundColor:m?o.BackgroundColor.backgroundAlternative:o.BackgroundColor.transparent,borderRadius:o.BorderRadius.LG,variant:o.TextVariant.bodyMdMedium},"")))}));n.default=d}}},{package:"$root$",file:"ui/pages/asset/components/asset-price.tsx"}],[7122,{"../../../../components/component-library":6528,"../../../../helpers/constants/design-system":6979,"../../../../hooks/useI18nContext":7081,"../../../../hooks/useTheme":7104,"../../useHistoricalPrices":7129,"../../util":7130,"../asset-price":7121,"./chart-tooltip":7123,"./crosshair-plugin":7124,"@metamask/design-tokens":1533,"chart.js":4309,classnames:4314,react:5502,"react-chartjs-2":5327},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("chart.js"),r=e("react-chartjs-2"),s=y(e("classnames")),i=e("@metamask/design-tokens"),l=e("../../../../hooks/useTheme"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../components/component-library"),d=e("../../../../hooks/useI18nContext"),m=e("../../useHistoricalPrices"),f=e("../../util"),p=y(e("../asset-price")),g=y(e("./chart-tooltip")),h=e("./crosshair-plugin");function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},k.apply(null,arguments)}o.Chart.register(o.LinearScale,o.PointElement,o.LineElement,o.Filler,o.Decimation,h.CrosshairPlugin);const T={normalized:!0,parsing:!1,aspectRatio:2.9,layout:{autoPadding:!1,padding:0},animation:{duration:0},fill:!0,backgroundColor:({chart:e})=>{const t=e.ctx.createLinearGradient(0,0,0,e.height);return t.addColorStop(0,`${e.options.borderColor}60`),t.addColorStop(1,`${e.options.borderColor}00`),t},elements:{line:{borderWidth:2},point:{pointStyle:!1}},plugins:{decimation:{algorithm:"lttb",samples:150,threshold:150,enabled:!0}}};n.default=({chainId:e,address:t,currentPrice:n,currency:o})=>{var h;const y=(0,d.useI18nContext)(),v=(0,l.useTheme)(),[b,x]=(0,a.useState)("1D"),w=(0,a.useRef)(),C=(0,a.useRef)(),{loading:E,data:{prices:_,edges:S}}=(0,m.useHistoricalPrices)({chainId:e,address:t,currency:o,timeRange:b}),{xMin:I,xMax:M,yMin:P,yMax:A}=S??{},D={...T,borderColor:"dark"===v?i.brandColor.blue400:i.brandColor.blue500,scales:{x:{min:null==I?void 0:I.x,max:null==M?void 0:M.x,display:!1,type:"linear"},y:{min:null==P?void 0:P.y,max:null==A?void 0:A.y,display:!1}}};return n&&(E||_)?a.default.createElement(u.Box,{borderRadius:c.BorderRadius.LG},a.default.createElement(p.default,{ref:C,loading:E,currency:o,price:n,date:Date.now(),comparePrice:null==_||null===(h=_[0])||void 0===h?void 0:h.y}),a.default.createElement(u.Box,{"data-testid":"asset-price-chart",marginTop:4,borderRadius:c.BorderRadius.LG,backgroundColor:E&&!_?c.BackgroundColor.backgroundAlternative:c.BackgroundColor.transparent},a.default.createElement(u.Box,{style:{opacity:E&&_?f.loadingOpacity:1}},a.default.createElement(g.default,k({point:A},S,{currency:o})),a.default.createElement(u.Box,{style:{aspectRatio:`${D.aspectRatio}`},display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:n?c.JustifyContent.flexEnd:c.JustifyContent.flexStart},a.default.createElement(r.Line,{ref:w,data:{datasets:[{data:_}]},options:D,updateMode:"none",onMouseMove:e=>{var t;const n=null==w||null===(t=w.current)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.datasets)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.data;if(n){const t=e.target,o=n[Math.max(0,Math.min(n.length-1,Math.round(e.nativeEvent.offsetX/t.clientWidth*n.length)))];var a;if(o)null==C||null===(a=C.current)||void 0===a||a.setPrice({price:o.y,date:o.x})}},onMouseOut:()=>{var e;null==C||null===(e=C.current)||void 0===e||e.setPrice({price:n,date:Date.now()})}})),a.default.createElement(g.default,k({point:P},S,{currency:o}))),a.default.createElement(u.Box,{style:_?undefined:{visibility:"hidden"},display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween,marginTop:4,marginLeft:4,marginRight:4},[[y("oneDayAbbreviation"),"1D"],[y("oneWeekAbbreviation"),"7D"],[y("oneMonthAbbreviation"),"1M"],[y("threeMonthsAbbreviation"),"3M"],[y("oneYearAbbreviation"),"1Y"],[y("all"),"1000Y"]].map((([e,t])=>a.default.createElement(u.ButtonBase,{key:t,className:(0,s.default)("time-range-button",{"time-range-button__selected":t===b}),onClick:()=>x(t),variant:c.TextVariant.bodySmMedium,size:u.ButtonBaseSize.Sm,backgroundColor:c.BackgroundColor.transparent,color:c.TextColor.textAlternative},e)))))):null}}}},{package:"$root$",file:"ui/pages/asset/components/chart/asset-chart.tsx"}],[7123,{"../../../../components/component-library":6528,"../../../../helpers/constants/design-system":6979,"../../../../helpers/utils/confirm-tx.util":7006,"../../util":7130,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../../components/component-library"),s=e("../../../../helpers/utils/confirm-tx.util"),i=e("../../../../helpers/constants/design-system"),l=e("../../util");n.default=({point:e,xMin:t,xMax:n,currency:a})=>{const c=e&&t&&n?(e.x-t.x)/(n.x-t.x):0;return o.default.createElement(r.Box,{style:{...c<.5?{paddingRight:100-200*c+"%"}:{paddingLeft:100-2*(100-100*c)+"%"},direction:c<.5?r.TextDirection.LeftToRight:r.TextDirection.RightToLeft}},o.default.createElement(r.Text,{marginLeft:4,marginRight:4,variant:i.TextVariant.bodySmMedium,color:i.TextColor.textAlternative,textAlign:i.TextAlign.Center},(null==e?void 0:e.y)===undefined?"":(0,s.formatCurrency)(`${null==e?void 0:e.y}`,a,(0,l.getPricePrecision)(null==e?void 0:e.y))))}}}},{package:"$root$",file:"ui/pages/asset/components/chart/chart-tooltip.tsx"}],[7124,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CrosshairPlugin=void 0;n.CrosshairPlugin={id:"crosshair",afterEvent(e,{event:t}){e.crosshairX="mouseout"===t.type?undefined:t.x??undefined,e.draw()},afterDraw(e){if(e.crosshairX!==undefined){const t=e.data.datasets[0].data,n=t[Math.max(0,Math.min(t.length-1,Math.round(e.crosshairX/e.width*t.length)))];if(n){const{x:t,y:a}=e.scales,o=t.getPixelForValue(n.x),r=a.getPixelForValue(n.y);e.ctx.lineWidth=1,e.ctx.strokeStyle="#BBC0C5",e.ctx.beginPath(),e.ctx.moveTo(o,0),e.ctx.lineTo(o,e.height),e.ctx.stroke(),e.ctx.beginPath(),e.ctx.arc(o,r,3,0,2*Math.PI),e.ctx.fillStyle=e.options.borderColor,e.ctx.fill()}}}}}}},{package:"$root$",file:"ui/pages/asset/components/chart/crosshair-plugin.ts"}],[7125,{"../../../../shared/constants/metametrics":5968,"../../../../shared/constants/transaction":5986,"../../../../shared/modules/selectors/networks":6033,"../../../contexts/metametrics":6943,"../../../helpers/utils/util":7028,"../../../hooks/useIsOriginalNativeTokenSymbol":7082,"../../../selectors":7653,"./asset-options":7119,"./asset-page":7120,"@metamask/etherscan-link":1976,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/etherscan-link"),s=e("../../../selectors"),i=e("../../../../shared/modules/selectors/networks"),l=e("../../../../shared/constants/transaction"),c=e("../../../hooks/useIsOriginalNativeTokenSymbol"),u=e("../../../../shared/constants/metametrics"),d=e("../../../helpers/utils/util"),m=e("../../../contexts/metametrics"),f=g(e("./asset-options")),p=g(e("./asset-page"));function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.default=({token:e,chainId:t})=>{const{symbol:n}=e,g=(0,s.getNativeCurrencyForChain)(t),{type:h}=(0,o.useSelector)(i.getProviderConfig)??{},{address:y}=(0,o.useSelector)(s.getSelectedInternalAccount),v=(0,o.useSelector)(s.getRpcPrefsForCurrentProvider),k=(0,r.getAccountLink)(y,t,v),T=(0,a.useContext)(m.MetaMetricsContext),b=(0,c.useIsOriginalNativeTokenSymbol)(t,n,h);return a.default.createElement(p.default,{asset:{chainId:t,type:l.AssetType.native,symbol:n,image:g,decimals:e.decimals,isOriginalNativeSymbol:!0===b},optionsButton:a.default.createElement(f.default,{isNativeAsset:!0,onClickBlockExplorer:()=>{T({event:"Clicked Block Explorer Link",category:u.MetaMetricsEventCategory.Navigation,properties:{link_type:"Account Tracker",action:"Asset Options",block_explorer_domain:(0,d.getURLHostName)(k)}}),global.platform.openTab({url:k})}})})}}}},{package:"$root$",file:"ui/pages/asset/components/native-asset.tsx"}],[7126,{"../../../../shared/constants/metametrics":5968,"../../../../shared/constants/transaction":5986,"../../../../shared/modules/selectors/networks":6033,"../../../../shared/modules/string-utils":6036,"../../../contexts/metametrics":6943,"../../../helpers/utils/util":7028,"../../../hooks/useTokenFiatAmount":7110,"../../../hooks/useTokenTracker":7113,"../../../selectors":7653,"../../../store/actions":7667,"./asset-options":7119,"./asset-page":7120,"@metamask/etherscan-link":1976,react:5502,"react-redux":5460,"react-router-dom":5487},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/etherscan-link"),s=e("react-router-dom"),i=e("../../../selectors"),l=e("../../../../shared/modules/string-utils"),c=e("../../../hooks/useTokenTracker"),u=e("../../../../shared/constants/transaction"),d=e("../../../hooks/useTokenFiatAmount"),m=e("../../../helpers/utils/util"),f=e("../../../contexts/metametrics"),p=e("../../../store/actions"),g=e("../../../../shared/constants/metametrics"),h=e("../../../../shared/modules/selectors/networks"),y=k(e("./asset-options")),v=k(e("./asset-page"));function k(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}n.default=({token:e,chainId:t})=>{var n,k,T;const{address:b,symbol:x,isERC721:w}=e,C=(0,o.useSelector)(i.getTokenList),E=(0,o.useSelector)(h.getNetworkConfigurationsByChainId),_=null===(n=E[t])||void 0===n?void 0:n.defaultBlockExplorerUrlIndex,S=_===undefined?null:null===(k=E[t])||void 0===k?void 0:k.blockExplorerUrls[_],{address:I}=(0,o.useSelector)(i.getSelectedInternalAccount),M=(0,o.useSelector)(i.selectERC20TokensByChain),P=(0,s.useHistory)(),A=(0,o.useDispatch)(),D=(0,a.useContext)(f.MetaMetricsContext),O=Object.values(C).find((e=>(0,l.isEqualCaseInsensitive)(e.symbol,x)&&(0,l.isEqualCaseInsensitive)(e.address,b))),F=null==M||null===(T=M[t])||void 0===T||null===(T=T.data)||void 0===T?void 0:T[b.toLowerCase()],N=(null==O?void 0:O.name)||(null==F?void 0:F.name)||x,R=(null==O?void 0:O.iconUrl)||(null==F?void 0:F.iconUrl)||"",B=null==O?void 0:O.aggregators,{tokensWithBalances:j}=(0,c.useTokenTracker)({tokens:[e],address:undefined}),$=null==j?void 0:j[0],L=(0,d.useTokenFiatAmount)(b,null==$?void 0:$.string,x,{},!1),W=(0,r.getTokenTrackerLink)(e.address,t,"",I,{blockExplorerUrl:S??""});return a.default.createElement(v.default,{asset:{chainId:t,type:u.AssetType.token,address:b,symbol:x,name:N,decimals:e.decimals,image:R,aggregators:B,balance:{value:null==$?void 0:$.balance,display:`${(0,m.roundToDecimalPlacesRemovingExtraZeroes)(null==$?void 0:$.string,5)}`,fiat:L},isERC721:w},optionsButton:a.default.createElement(y.default,{isNativeAsset:!1,onRemove:()=>A((0,p.showModal)({name:"HIDE_TOKEN_CONFIRMATION",token:e,history:P})),onClickBlockExplorer:()=>{D({event:"Clicked Block Explorer Link",category:g.MetaMetricsEventCategory.Navigation,properties:{link_type:"Token Tracker",action:"Token Options",block_explorer_domain:(0,m.getURLHostName)(W)}}),global.platform.openTab({url:W})},tokenSymbol:e.symbol})})}}}},{package:"$root$",file:"ui/pages/asset/components/token-asset.tsx"}],[7127,{"../../../../shared/constants/metametrics":5968,"../../../../shared/constants/transaction":5986,"../../../../shared/modules/selectors/networks":6033,"../../../components/component-library":6528,"../../../components/ui/icon-button/icon-button":6849,"../../../contexts/i18n":6939,"../../../contexts/metametrics":6943,"../../../ducks/ramps":6969,"../../../ducks/send":6972,"../../../ducks/swaps/swaps":6975,"../../../helpers/constants/design-system":6979,"../../../helpers/constants/error-keys":6980,"../../../helpers/constants/routes":6985,"../../../helpers/utils/hardware":7010,"../../../hooks/bridge/useBridging":7040,"../../../hooks/ramps/useRamps/useRamps":7058,"../../../selectors":7653,"../../../store/actions":7667,react:5502,"react-redux":5460,"react-router-dom":5487},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),s=e("../../../contexts/i18n"),i=e("../../../helpers/constants/routes"),l=e("../../../ducks/send"),c=e("../../../helpers/utils/hardware"),u=e("../../../ducks/swaps/swaps"),d=C(e("../../../hooks/ramps/useRamps/useRamps")),m=e("../../../selectors"),f=e("../../../../shared/modules/selectors/networks"),p=C(e("../../../hooks/bridge/useBridging")),g=e("../../../helpers/constants/error-keys"),h=e("../../../store/actions"),y=e("../../../contexts/metametrics"),v=e("../../../../shared/constants/metametrics"),k=e("../../../../shared/constants/transaction"),T=e("../../../helpers/constants/design-system"),b=C(e("../../../components/ui/icon-button/icon-button")),x=e("../../../components/component-library"),w=e("../../../ducks/ramps");function C(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}n.default=({token:e})=>{const t=(0,o.useDispatch)(),n=(0,a.useContext)(s.I18nContext),C=(0,a.useContext)(y.MetaMetricsContext),E=(0,r.useHistory)(),_=(0,o.useSelector)(m.getCurrentKeyring),S=(0,c.isHardwareKeyring)(_.type),I=(0,o.useSelector)(f.getCurrentChainId),M=(0,o.useSelector)(m.getNetworkConfigurationIdByChainId),P=(0,o.useSelector)(m.getIsSwapsChain),A=(0,o.useSelector)(m.getIsBridgeChain),D=(0,o.useSelector)(w.getIsNativeTokenBuyable),{openBuyCryptoInPdapp:O}=(0,d.default)(),{openBridgeExperience:F}=(0,p.default)();(0,a.useEffect)((()=>{e.isERC721&&t((0,h.showModal)({name:"CONVERT_TOKEN_TO_NFT",tokenAddress:e.address}))}),[e.isERC721,e.address,t]);const N=async()=>{if(I!==e.chainId)try{const n=M[e.chainId];await t((0,h.setActiveNetworkWithError)(n)),await t((0,h.setSwitchedNetworkDetails)({networkClientId:n}))}catch(t){throw console.error(`Failed to switch chains.\n        Target chainId: ${e.chainId}, Current chainId: ${I}.\n        ${t}`),t}};return a.default.createElement(x.Box,{display:T.Display.Flex,justifyContent:T.JustifyContent.spaceEvenly},a.default.createElement(b.default,{className:"token-overview__button",Icon:a.default.createElement(x.Icon,{name:x.IconName.PlusMinus,color:T.IconColor.primaryInverse,size:x.IconSize.Sm}),label:n("buyAndSell"),"data-testid":"token-overview-buy",onClick:()=>{O(),C({event:v.MetaMetricsEventName.NavBuyButtonClicked,category:v.MetaMetricsEventCategory.Navigation,properties:{location:"Token Overview",text:"Buy",chain_id:I,token_symbol:e.symbol}})},disabled:e.isERC721||!D,tooltipRender:null}),a.default.createElement(b.default,{className:"token-overview__button",onClick:async()=>{C({event:v.MetaMetricsEventName.NavSendButtonClicked,category:v.MetaMetricsEventCategory.Navigation,properties:{token_symbol:e.symbol,location:v.MetaMetricsSwapsEventSource.TokenView,text:"Send",chain_id:e.chainId}},{excludeMetaMetricsId:!1});try{await N(),await t((0,l.startNewDraftTransaction)({type:k.AssetType.token,details:e})),E.push(i.SEND_ROUTE)}catch(e){if(!e.message.includes(g.INVALID_ASSET_TYPE))throw e}},Icon:a.default.createElement(x.Icon,{name:x.IconName.Arrow2UpRight,color:T.IconColor.primaryInverse,size:x.IconSize.Sm}),label:n("send"),"data-testid":"eth-overview-send",disabled:e.isERC721,tooltipRender:null}),P&&a.default.createElement(b.default,{className:"token-overview__button",Icon:a.default.createElement(x.Icon,{name:x.IconName.SwapHorizontal,color:T.IconColor.primaryInverse,size:x.IconSize.Sm}),onClick:async()=>{var n,a,o,r,s;(await N(),C({event:v.MetaMetricsEventName.NavSwapButtonClicked,category:v.MetaMetricsEventCategory.Swaps,properties:{token_symbol:e.symbol,location:v.MetaMetricsSwapsEventSource.TokenView,text:"Swap",chain_id:I}}),t((0,u.setSwapsFromToken)({...e,address:null===(n=e.address)||void 0===n?void 0:n.toLowerCase(),iconUrl:e.image,balance:null==e||null===(a=e.balance)||void 0===a?void 0:a.value,string:null==e||null===(o=e.balance)||void 0===o?void 0:o.display})),S)?null===(r=(s=global.platform).openExtensionInBrowser)||void 0===r||r.call(s,i.PREPARE_SWAP_ROUTE,undefined,!1):E.push(i.PREPARE_SWAP_ROUTE)},label:n("swap"),tooltipRender:null}),A&&a.default.createElement(b.default,{className:"token-overview__button","data-testid":"token-overview-bridge",Icon:a.default.createElement(x.Icon,{name:x.IconName.Bridge,color:T.IconColor.primaryInverse,size:x.IconSize.Sm}),label:n("bridge"),onClick:async()=>{var t,n;await N(),F(v.MetaMetricsSwapsEventSource.TokenView,{...e,iconUrl:e.image,balance:null==e||null===(t=e.balance)||void 0===t?void 0:t.value,string:null==e||null===(n=e.balance)||void 0===n?void 0:n.display,name:e.name??""})},tooltipRender:null}))}}}},{package:"$root$",file:"ui/pages/asset/components/token-buttons.tsx"}],[7128,{"./asset":7118},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./asset"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/asset/index.js"}],[7129,{"../../../shared/constants/time":5984,"../../../shared/lib/fetch-with-cache":5994,"../../selectors":7653,"./util":7130,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useHistoricalPrices=void 0;var a,o=e("react"),r=e("react-redux"),s=(a=e("../../../shared/lib/fetch-with-cache"))&&a.__esModule?a:{default:a},i=e("../../../shared/constants/time"),l=e("../../selectors"),c=e("./util");n.useHistoricalPrices=({chainId:e,address:t,currency:n,timeRange:a})=>{const u=(0,r.useSelector)(l.getShouldShowFiat)&&(0,c.chainSupportsPricing)(e),[d,m]=(0,o.useState)(u),[f,p]=(0,o.useState)({});return(0,o.useEffect)((()=>{u?(m(!0),(0,s.default)({url:`https://price.api.cx.metamask.io/v1/chains/${e}/historical-prices/${t}?vsCurrency=${n}&timePeriod=${a}`,cacheOptions:{cacheRefreshTime:5*i.MINUTE},functionName:"GetAssetHistoricalPrices",fetchOptions:{headers:{"X-Client-Id":"extension"}}}).catch((()=>({}))).then((e=>{var t;const n=null==e||null===(t=e.prices)||void 0===t?void 0:t.map((e=>({x:null==e?void 0:e[0],y:null==e?void 0:e[1]})));let a;if(n&&n.length>0){let[e,t,o,r]=[];for(const a of n)e=!e||a.x<e.x?a:e,t=!t||a.x>t.x?a:t,o=!o||a.y<o.y?a:o,r=!r||a.y>r.y?a:r;a={xMin:e,xMax:t,yMin:o,yMax:r}}p({prices:n,edges:a}),m(!1)}))):(p({}),m(!1))}),[u,e,t,n,a]),{loading:d,data:f}}}}},{package:"$root$",file:"ui/pages/asset/useHistoricalPrices.ts"}],[7130,{"@metamask/assets-controllers":1442},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.localizeLargeNumber=n.loadingOpacity=n.getShortDateFormatterV2=n.getShortDateFormatter=n.getPricePrecision=n.findAssetByAddress=n.chainSupportsPricing=void 0;var a=e("@metamask/assets-controllers");n.getShortDateFormatter=()=>Intl.DateTimeFormat(navigator.language,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"});n.getShortDateFormatterV2=()=>Intl.DateTimeFormat(navigator.language,{year:"numeric",month:"short",day:"numeric"});n.localizeLargeNumber=(e,t)=>t>=1e12?`${(t/1e12).toFixed(2)}${e("trillionAbbreviation")}`:t>=1e9?`${(t/1e9).toFixed(2)}${e("billionAbbreviation")}`:t>=1e6?`${(t/1e6).toFixed(2)}${e("millionAbbreviation")}`:t.toFixed(2);n.getPricePrecision=e=>{if(0===e)return 1;let t=2;for(let n=Math.abs(e);n<1;t++)n*=10;return t};n.chainSupportsPricing=e=>a.SUPPORTED_CHAIN_IDS.includes(e);n.loadingOpacity=.2;n.findAssetByAddress=(e,t,n)=>{if(!n)return console.error("Chain ID is required."),null;const a=e[n];return a?t?a.find((e=>e.address&&e.address.toLowerCase()===t.toLowerCase())):a.find((e=>!e.address)):(console.warn(`No tokens found for chainId: ${n}`),null)}}}},{package:"$root$",file:"ui/pages/asset/util.ts"}],[7131,{"../../../components/component-library":6528,"../../../contexts/i18n":6939,"../../../helpers/constants/routes":6985,react:5502,"react-router-dom":5487},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("../../../helpers/constants/routes"),s=e("../../../components/component-library"),i=e("../../../contexts/i18n");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.useContext)(i.I18nContext),t=(0,o.useHistory)();return a.default.createElement(s.Button,{onClick:()=>{t.push(`${r.CROSS_CHAIN_SWAP_ROUTE}${r.PREPARE_SWAP_ROUTE}`)}},e("cancel"))}}}},{package:"$root$",file:"ui/pages/bridge/awaiting-signatures/awaiting-signatures-cancel-button.tsx"}],[7132,{"../../../../shared/constants/metametrics":5968,"../../../components/component-library":6528,"../../../components/ui/pulse-loader":6898,"../../../contexts/metametrics":6943,"../../../ducks/bridge/selectors":6957,"../../../helpers/constants/design-system":6979,"../../../hooks/useI18nContext":7081,"../../../selectors/selectors":7660,"lodash/isEqual":5096,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e;const t=(0,f.useI18nContext)(),{activeQuote:n}=(0,o.useSelector)(m.getBridgeQuotes,o.shallowEqual),p=null==n||null===(e=n.sentAmount)||void 0===e||null===(e=e.amount)||void 0===e?void 0:e.toNumber(),g=(0,o.useSelector)(m.getFromToken,r.default),h=(0,o.useSelector)(m.getToToken,r.default),y=(0,o.useSelector)(m.getFromChain,r.default),v=(0,o.useSelector)(m.getToChain,r.default),k=(0,o.useSelector)(s.isHardwareWallet),T=(0,o.useSelector)(s.getHardwareWalletType),b=Boolean(null==n?void 0:n.approval),x=(0,a.useContext)(c.MetaMetricsContext);return(0,a.useEffect)((()=>{var e,t;x({event:"Awaiting Signature(s) on a HW wallet",category:u.MetaMetricsEventCategory.Swaps,properties:{needs_two_confirmations:b,token_from:(null==g?void 0:g.symbol)??"",token_to:(null==h?void 0:h.symbol)??"",is_hardware_wallet:k,hardware_wallet_type:T??""},sensitiveProperties:{token_from_amount:(null==n||null===(e=n.quote)||void 0===e?void 0:e.srcTokenAmount)??"",token_to_amount:(null==n||null===(t=n.quote)||void 0===t?void 0:t.destTokenAmount)??""}})}),[]),a.default.createElement("div",{className:"awaiting-bridge-signatures"},a.default.createElement(d.Box,{paddingLeft:6,paddingRight:6,height:l.BlockSize.Full,justifyContent:l.JustifyContent.center,display:l.Display.Flex,flexDirection:l.FlexDirection.Column},a.default.createElement(d.Box,{marginTop:3,marginBottom:4},a.default.createElement(i.default,null)),!b&&a.default.createElement(d.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.headingMd,as:"h3"},t("swapConfirmWithHwWallet")),b&&a.default.createElement(a.default.Fragment,null,a.default.createElement(d.Text,{variant:l.TextVariant.bodyMdBold,marginTop:2},t("bridgeConfirmTwoTransactions")),a.default.createElement("ul",{className:"awaiting-bridge-signatures__steps"},a.default.createElement("li",null,a.default.createElement(d.AvatarBase,{size:d.AvatarBaseSize.Sm,backgroundColor:l.BackgroundColor.primaryMuted,color:l.TextColor.primaryDefault,marginRight:2},"1"),t("bridgeAllowSwappingOf",[a.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"allowAmount"},p),a.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"allowToken"},null==g?void 0:g.symbol),a.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"allowNetwork"},null==y?void 0:y.name)])),a.default.createElement("li",null,a.default.createElement(d.AvatarBase,{size:d.AvatarBaseSize.Sm,backgroundColor:l.BackgroundColor.primaryMuted,color:l.TextColor.primaryDefault,marginRight:2},"2"),t("bridgeFromTo",[a.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"fromAmount"},p),a.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"fromToken"},null==g?void 0:g.symbol),a.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"toNetwork"},null==v?void 0:v.name)]))),a.default.createElement(d.Text,{variant:l.TextVariant.bodyXs},t("bridgeGasFeesSplit")))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=p(e("lodash/isEqual")),s=e("../../../selectors/selectors"),i=p(e("../../../components/ui/pulse-loader")),l=e("../../../helpers/constants/design-system"),c=e("../../../contexts/metametrics"),u=e("../../../../shared/constants/metametrics"),d=e("../../../components/component-library"),m=e("../../../ducks/bridge/selectors"),f=e("../../../hooks/useI18nContext");function p(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/bridge/awaiting-signatures/awaiting-signatures.tsx"}],[7133,{"../../../../shared/constants/network":5972,"../../../../shared/modules/conversion.utils":6015,"../../../../shared/modules/selectors/networks":6033,"../../../store/actions":7667,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.useDispatch)(),t=(0,a.useSelector)(s.getNetworkConfigurationsByChainId),n=(0,a.useSelector)(s.getSelectedNetworkClientId);return{addSourceToken:t=>{const{address:a,decimals:o,symbol:s,icon:i}=t.quote.srcAsset;e((0,r.addToken)({address:a,decimals:o,symbol:s,image:i,networkClientId:n}))},addDestToken:async n=>{const a=(0,i.decimalToPrefixedHex)(n.quote.destChainId),s=t[a];let l;if(!s){const t=o.FEATURED_RPCS.find((e=>e.chainId===a));if(!t)throw new Error("No featured RPC found");l=await e((0,r.addNetwork)(t))}const c=s||l;if(!c)throw new Error("No destination network configuration found");const u=c.defaultRpcEndpointIndex,d=c.rpcEndpoints[u].networkClientId,{address:m,decimals:f,symbol:p,icon:g}=n.quote.destAsset;await e((0,r.addToken)({address:m,decimals:f,symbol:p,image:g,networkClientId:d}))}}};var a=e("react-redux"),o=e("../../../../shared/constants/network"),r=e("../../../store/actions"),s=e("../../../../shared/modules/selectors/networks"),i=e("../../../../shared/modules/conversion.utils")}}},{package:"$root$",file:"ui/pages/bridge/hooks/useAddToken.ts"}],[7134,{"../../../../shared/constants/transaction":5986,"../../../../shared/modules/selectors/networks":6033,"../../../ducks/bridge-status/selectors":6954,"../../../hooks/useTokenFiatAmount":7110,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBridgeTokenDisplayData=function(e){var t,n;const{primaryTransaction:l}=e,c=(0,a.useSelector)(o.getCurrentChainId),u=(0,a.useSelector)(i.selectBridgeHistoryForAccount)[l.id],d=(0,r.useTokenFiatAmount)(l.sourceTokenAddress,null==u||null===(t=u.pricingData)||void 0===t?void 0:t.amountSent,l.sourceTokenSymbol,{},!0,c);return{category:s.TransactionGroupCategory.bridge,displayCurrencyAmount:d,sourceTokenSymbol:l.sourceTokenSymbol,sourceTokenAmountSent:null==u||null===(n=u.pricingData)||void 0===n?void 0:n.amountSent}};var a=e("react-redux"),o=e("../../../../shared/modules/selectors/networks"),r=e("../../../hooks/useTokenFiatAmount"),s=e("../../../../shared/constants/transaction"),i=e("../../../ducks/bridge-status/selectors")}}},{package:"$root$",file:"ui/pages/bridge/hooks/useBridgeTokenDisplayData.ts"}],[7135,{"../../../../shared/constants/bridge":5958,"../../../../shared/modules/bridge-utils/bridge.util":6009,"../../../../shared/modules/conversion.utils":6015,"../../../../shared/types/bridge":6041,"../../../ducks/bridge/actions":6955,"./useHandleTx":7137,"@metamask/transaction-controller":3344,"bignumber.js":4195},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.APPROVAL_TX_ERROR=n.ALLOWANCE_RESET_ERROR=void 0,n.default=function(){const{handleTx:e}=(0,d.default)();return{handleApprovalTx:async({approval:t,quoteResponse:n})=>{try{const a=(0,u.decimalToPrefixedHex)(t.chainId);(0,i.isEthUsdt)(a,n.quote.srcAsset.address)&&await(async({approval:t,quoteResponse:n,hexChainId:a})=>{try{const u=new r.BigNumber(await(0,c.getBridgeERC20Allowance)(l.ETH_USDT_ADDRESS,a)),d=new r.BigNumber(n.quote.srcTokenAmount).plus(n.quote.feeData[s.FeeType.METABRIDGE].amount).toString();if(u.lt(d)&&u.gt(0)){const a=(0,i.getEthUsdtResetData)(),r={...t,data:a};await e({txType:o.TransactionType.bridgeApproval,txParams:r,fieldsToAddToTxMeta:{sourceTokenSymbol:n.quote.srcAsset.symbol}})}}catch(e){throw new Error(`${m}: ${e}`)}})({approval:t,quoteResponse:n,hexChainId:a});return await e({txType:o.TransactionType.bridgeApproval,txParams:t,fieldsToAddToTxMeta:{sourceTokenSymbol:n.quote.srcAsset.symbol}})}catch(e){throw new Error(`${f}: ${e}`)}}}};var a,o=e("@metamask/transaction-controller"),r=e("bignumber.js"),s=e("../../../../shared/types/bridge"),i=e("../../../../shared/modules/bridge-utils/bridge.util"),l=e("../../../../shared/constants/bridge"),c=e("../../../ducks/bridge/actions"),u=e("../../../../shared/modules/conversion.utils"),d=(a=e("./useHandleTx"))&&a.__esModule?a:{default:a};const m=n.ALLOWANCE_RESET_ERROR="Eth USDT allowance reset failed",f=n.APPROVAL_TX_ERROR="Approve transaction failed"}}},{package:"$root$",file:"ui/pages/bridge/hooks/useHandleApprovalTx.ts"}],[7136,{"../../../../shared/modules/Numeric":6006,"../../../../shared/types/bridge":6041,"./useHandleTx":7137,"@metamask/transaction-controller":3344,"bignumber.js":4195},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const{handleTx:e}=(0,l.default)();return{handleBridgeTx:async({quoteResponse:t,approvalTxId:n})=>{const a=new o.BigNumber(t.quote.srcTokenAmount).plus(t.quote.feeData[i.FeeType.METABRIDGE].amount),l=new s.Numeric(a,10).shiftedBy(t.quote.srcAsset.decimals).toString();return await e({txType:r.TransactionType.bridge,txParams:t.trade,fieldsToAddToTxMeta:{destinationChainId:new s.Numeric(t.quote.destChainId,10).toPrefixedHexString().toLowerCase(),sourceTokenAmount:t.quote.srcTokenAmount,sourceTokenSymbol:t.quote.srcAsset.symbol,sourceTokenDecimals:t.quote.srcAsset.decimals,sourceTokenAddress:t.quote.srcAsset.address,destinationTokenAmount:t.quote.destTokenAmount,destinationTokenSymbol:t.quote.destAsset.symbol,destinationTokenDecimals:t.quote.destAsset.decimals,destinationTokenAddress:t.quote.destAsset.address,approvalTxId:n,swapTokenValue:l}})}}};var a,o=e("bignumber.js"),r=e("@metamask/transaction-controller"),s=e("../../../../shared/modules/Numeric"),i=e("../../../../shared/types/bridge"),l=(a=e("./useHandleTx"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useHandleBridgeTx.ts"}],[7137,{"../../../../shared/modules/conversion.utils":6015,"../../../../shared/modules/selectors":6032,"../../../ducks/bridge/utils":6958,"../../../ducks/metamask/metamask":6967,"../../../selectors":7653,"../../../store/actions":7667,"@metamask/transaction-controller":3344,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useDispatch)(),t=(0,o.useSelector)(l.checkNetworkAndAccountSupports1559),n=(0,o.useSelector)(i.getGasFeeEstimates),d=(0,o.useSelector)(u.getIsSmartTransaction);return{handleTx:async({txType:o,txParams:i,fieldsToAddToTxMeta:l})=>{const u=(0,c.decimalToPrefixedHex)(i.chainId),{maxFeePerGas:m,maxPriorityFeePerGas:f}=await(0,s.getTxGasEstimates)({networkAndAccountSupports1559:t,networkGasFeeEstimates:n,txParams:i,hexChainId:u}),p=(0,s.getHexMaxGasLimit)(i.gasLimit??0),g={...i,chainId:u,gasLimit:p,gas:p,maxFeePerGas:m,maxPriorityFeePerGas:f};let h;return h=o===a.TransactionType.bridge&&d?await(0,r.addTransaction)(g,{requireApproval:!1,type:o}):await(0,r.addTransactionAndWaitForPublish)(g,{requireApproval:!1,type:o}),e((0,r.updateTransaction)({...h,...l},!0)),await(0,r.forceUpdateMetamaskState)(e),h}}};var a=e("@metamask/transaction-controller"),o=e("react-redux"),r=e("../../../store/actions"),s=e("../../../ducks/bridge/utils"),i=e("../../../ducks/metamask/metamask"),l=e("../../../selectors"),c=e("../../../../shared/modules/conversion.utils"),u=e("../../../../shared/modules/selectors")}}},{package:"$root$",file:"ui/pages/bridge/hooks/useHandleTx.ts"}],[7138,{"../../../selectors/multichain":7656,"react-redux":5460,"react-router-dom":5487},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsMultichainSwap=void 0;var a=e("react-redux"),o=e("react-router-dom"),r=e("../../../selectors/multichain");n.useIsMultichainSwap=()=>{const{search:e}=(0,o.useLocation)(),t=new URLSearchParams(e),n=(0,a.useSelector)(r.getMultichainIsSolana);return"true"===t.get("swaps")&&n}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useIsMultichainSwap.tsx"}],[7139,{"../../../../shared/constants/metametrics":5968,"../../../../shared/constants/network":5972,"../../../../shared/lib/bridge-status/metrics":5989,"../../../../shared/lib/bridge-status/utils":5990,"../../../../shared/modules/selectors/networks":6033,"../../../../shared/types/bridge-status":6040,"../../../ducks/bridge-status/actions":6953,"../../../ducks/bridge/actions":6955,"../../../ducks/bridge/selectors":6957,"../../../helpers/constants/routes":6985,"../../../hooks/bridge/useCrossChainSwapsEventTracker":7042,"../../../selectors":7653,"../../../store/actions":7667,"./useAddToken":7133,"./useHandleApprovalTx":7135,"./useHandleBridgeTx":7136,"@metamask/utils":3434,"ethereumjs-util":4537,"react-redux":5460,"react-router-dom":5487},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useHistory)(),t=(0,a.useDispatch)(),n=(0,a.useSelector)((e=>e)),s=(0,a.useSelector)(f.getCurrentChainId),{addSourceToken:w,addDestToken:C}=(0,T.default)(),{handleApprovalTx:P}=(0,b.default)(),{handleBridgeTx:A}=(0,x.default)(),D=(0,a.useSelector)(u.isHardwareWallet),{slippage:O}=(0,a.useSelector)(d.getQuoteRequest),F=(0,a.useSelector)(u.getSelectedAddress),N=(0,y.useCrossChainSwapsEventTracker)();return{submitBridgeTransaction:async a=>{D&&e.push(`${i.CROSS_CHAIN_SWAP_ROUTE}${i.AWAITING_SIGNATURES_ROUTE}`);const r={bridgeId:a.quote.bridgeId,bridge:a.quote.bridges[0],srcChainId:a.quote.srcChainId,destChainId:a.quote.destChainId,quote:a.quote,refuel:Boolean(a.quote.refuel)};let u,d;try{null!=a&&a.approval&&(u=await P({approval:a.approval,quoteResponse:a}))}catch(o){var f;E("Approve transaction failed",o),D&&M(o)?(t((0,p.setWasTxDeclined)(!0)),e.push(`${i.CROSS_CHAIN_SWAP_ROUTE}${i.PREPARE_SWAP_ROUTE}`)):(await t((0,l.setDefaultHomeActiveTabName)("activity")),e.push(i.DEFAULT_ROUTE));const s=(0,g.getInitialHistoryItem)({quoteResponse:(0,g.serializeQuoteMetadata)(a),bridgeTxMetaId:"dummy-id",startTime:null===(f=u)||void 0===f?void 0:f.time,slippagePercentage:O??0,initialDestAssetBalance:undefined,targetContractAddress:undefined,account:F,statusRequest:r}),c=(0,v.getCommonProperties)(s,n),d=S(o)?{allowance_reset_transaction:k.StatusTypes.FAILED}:undefined,m=I(o)?{approval_transaction:k.StatusTypes.FAILED}:undefined;return void N({event:h.MetaMetricsEventName.ActionFailed,properties:{...c,...d,...m,error_message:o.message}})}if([m.CHAIN_IDS.LINEA_MAINNET,m.CHAIN_IDS.LINEA_GOERLI,m.CHAIN_IDS.LINEA_SEPOLIA].includes(s)&&null!=a&&a.approval){E("Delaying submitting bridge tx to make Linea confirmation more likely");const e=new Promise((e=>setTimeout(e,_)));await e}try{var y;d=await A({quoteResponse:a,approvalTxId:null===(y=u)||void 0===y?void 0:y.id})}catch(n){return E("Bridge transaction failed",n),void(D&&M(n)?(t((0,p.setWasTxDeclined)(!0)),e.push(`${i.CROSS_CHAIN_SWAP_ROUTE}${i.PREPARE_SWAP_ROUTE}`)):(await t((0,l.setDefaultHomeActiveTabName)("activity")),e.push(i.DEFAULT_ROUTE)))}const T={...r,srcTxHash:d.hash};t((0,c.startPollingForBridgeTxStatus)({bridgeTxMeta:d,statusRequest:T,quoteResponse:(0,g.serializeQuoteMetadata)(a),slippagePercentage:O??0,startTime:d.time})),a.quote.srcAsset.address!==(0,o.zeroAddress)()&&w(a),a.quote.destAsset.address!==(0,o.zeroAddress)()&&await C(a),await t((0,l.setDefaultHomeActiveTabName)("activity")),e.push({pathname:i.DEFAULT_ROUTE,state:{stayOnHomePage:!0}})}}},n.isApprovalTxError=n.isAllowanceResetError=void 0;var a=e("react-redux"),o=e("ethereumjs-util"),r=e("react-router-dom"),s=e("@metamask/utils"),i=e("../../../helpers/constants/routes"),l=e("../../../store/actions"),c=e("../../../ducks/bridge-status/actions"),u=e("../../../selectors"),d=e("../../../ducks/bridge/selectors"),m=e("../../../../shared/constants/network"),f=e("../../../../shared/modules/selectors/networks"),p=e("../../../ducks/bridge/actions"),g=e("../../../../shared/lib/bridge-status/utils"),h=e("../../../../shared/constants/metametrics"),y=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),v=e("../../../../shared/lib/bridge-status/metrics"),k=e("../../../../shared/types/bridge-status"),T=C(e("./useAddToken")),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("./useHandleApprovalTx")),x=C(e("./useHandleBridgeTx"));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function C(e){return e&&e.__esModule?e:{default:e}}const E=(0,s.createProjectLogger)("bridge"),_=5e3,S=e=>(e.message??"").includes(b.ALLOWANCE_RESET_ERROR);n.isAllowanceResetError=S;const I=e=>(e.message??"").includes(b.APPROVAL_TX_ERROR);n.isApprovalTxError=I;const M=e=>{var t;const n=(null===(t=e.message)||void 0===t?void 0:t.toLowerCase())??"";return n.includes("ledger")&&(n.includes("rejected")||n.includes("denied")||n.includes("error while signing"))||n.includes("trezor")&&(n.includes("cancelled")||n.includes("rejected"))||n.includes("lattice")&&n.includes("rejected")||n.includes("user rejected")||n.includes("user cancelled")}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useSubmitBridgeTransaction.ts"}],[7140,{"../../../shared/modules/selectors/networks":6033,"../../components/component-library":6528,"../../components/multichain/pages/page":6761,"../../contexts/i18n":6939,"../../ducks/bridge/actions":6955,"../../ducks/swaps/swaps":6975,"../../helpers/constants/design-system":6979,"../../helpers/constants/routes":6985,"../../helpers/higher-order-components/feature-toggled-route":6996,"../../hooks/bridge/useBridgeExchangeRates":7038,"../../hooks/bridge/useBridging":7040,"../../hooks/bridge/useQuoteFetchEvents":7045,"../../hooks/useGasFeeEstimates":7078,"../../selectors":7653,"../../store/actions":7667,"../swaps/hooks/useSwapsFeatureFlags":7599,"./awaiting-signatures/awaiting-signatures":7132,"./awaiting-signatures/awaiting-signatures-cancel-button":7131,"./hooks/useIsMultichainSwap":7138,"./prepare/bridge-transaction-settings-modal":7147,"./prepare/prepare-bridge-page":7149,react:5502,"react-redux":5460,"react-router-dom":5487},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),s=e("../../contexts/i18n"),i=e("../../ducks/swaps/swaps"),l=e("../../helpers/constants/routes"),c=e("../../store/actions"),u=S(e("../../helpers/higher-order-components/feature-toggled-route")),d=e("../../components/component-library"),m=e("../../../shared/modules/selectors/networks"),f=e("../../selectors"),p=S(e("../../hooks/bridge/useBridging")),g=e("../../components/multichain/pages/page"),h=e("../swaps/hooks/useSwapsFeatureFlags"),y=e("../../ducks/bridge/actions"),v=e("../../hooks/useGasFeeEstimates"),k=e("../../hooks/bridge/useBridgeExchangeRates"),T=e("../../hooks/bridge/useQuoteFetchEvents"),b=e("../../helpers/constants/design-system"),x=S(e("./prepare/prepare-bridge-page")),w=S(e("./awaiting-signatures/awaiting-signatures-cancel-button")),C=S(e("./awaiting-signatures/awaiting-signatures")),E=e("./prepare/bridge-transaction-settings-modal"),_=e("./hooks/useIsMultichainSwap");function S(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.useContext)(s.I18nContext);(0,h.useSwapsFeatureFlags)(),(0,p.default)();const t=(0,r.useHistory)(),n=(0,o.useDispatch)(),S=(0,o.useSelector)(f.getIsBridgeEnabled),I=(0,o.useSelector)(m.getSelectedNetworkClientId),M=async()=>{await n((0,y.resetBridgeState)())};(0,a.useEffect)((()=>(window.addEventListener("beforeunload",M),()=>{window.removeEventListener("beforeunload",M),M()})),[]),(0,v.useGasFeeEstimates)(I),(0,k.useBridgeExchangeRates)(),(0,T.useQuoteFetchEvents)();const P=(0,_.useIsMultichainSwap)(),[A,D]=(0,a.useState)(!1);return a.default.createElement(g.Page,{className:"bridge__container"},a.default.createElement(g.Header,{textProps:{variant:b.TextVariant.headingSm},startAccessory:a.default.createElement(d.ButtonIcon,{iconName:d.IconName.ArrowLeft,size:d.ButtonIconSize.Sm,ariaLabel:e("back"),onClick:async()=>{t.push({pathname:l.DEFAULT_ROUTE,state:{stayOnHomePage:!0}}),n((0,i.clearSwapsState)()),await n((0,c.resetBackgroundSwapsState)()),await M()}}),endAccessory:a.default.createElement(d.ButtonIcon,{iconName:d.IconName.Setting,size:d.ButtonIconSize.Sm,ariaLabel:e("settings"),onClick:()=>{D(!0)}})},e(P?"swap":"bridge")),a.default.createElement(g.Content,{padding:0},a.default.createElement(r.Switch,null,a.default.createElement(u.default,{redirectRoute:l.SWAPS_MAINTENANCE_ROUTE,flag:S,path:l.CROSS_CHAIN_SWAP_ROUTE+l.PREPARE_SWAP_ROUTE,render:()=>a.default.createElement(a.default.Fragment,null,a.default.createElement(E.BridgeTransactionSettingsModal,{isOpen:A,onClose:()=>{D(!1)}}),a.default.createElement(x.default,null))}),a.default.createElement(r.Route,{path:l.CROSS_CHAIN_SWAP_ROUTE+l.AWAITING_SIGNATURES_ROUTE},a.default.createElement(g.Content,null,a.default.createElement(C.default,null)),a.default.createElement(g.Footer,null,a.default.createElement(w.default,null))))))}}}},{package:"$root$",file:"ui/pages/bridge/index.tsx"}],[7141,{"../../../components/component-library":6528,"../../../helpers/constants/design-system":6979,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(null,arguments)}n.default=e=>o.default.createElement(r.Container,i({display:s.Display.Flex,flexDirection:s.FlexDirection.Column,width:s.BlockSize.Full},e))}}},{package:"$root$",file:"ui/pages/bridge/layout/column.tsx"}],[7142,{"./column":7141,"./row":7143,"./tooltip":7144},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Column",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"Row",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"Tooltip",{enumerable:!0,get:function(){return r.default}});var a=s(e("./column")),o=s(e("./row")),r=s(e("./tooltip"));function s(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/bridge/layout/index.tsx"}],[7143,{"../../../components/component-library":6528,"../../../helpers/constants/design-system":6979,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(null,arguments)}n.default=e=>o.default.createElement(r.Container,i({display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,flexWrap:s.FlexWrap.NoWrap,alignItems:s.AlignItems.center},e))}}},{package:"$root$",file:"ui/pages/bridge/layout/row.tsx"}],[7144,{"../../../components/component-library":6528,"../../../helpers/constants/design-system":6979,"./column":7141,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),i=(a=e("./column"))&&a.__esModule?a:{default:a};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(null,arguments)}const u=o.default.forwardRef((({children:e,title:t,triggerElement:n,disabled:a=!1,onClose:l,iconName:u,style:d,...m},f)=>{const[p,g]=(0,o.useState)(!1),[h,y]=(0,o.useState)(null),v=()=>g(!1);return o.default.createElement(r.Box,{ref:f},o.default.createElement(r.Box,{ref:e=>y(e),onMouseEnter:()=>g(!0),onMouseLeave:v,display:s.Display.Flex},n??(u&&o.default.createElement(r.Icon,{color:s.IconColor.iconAlternativeSoft,name:u,size:r.IconSize.Sm}))??o.default.createElement(r.Icon,{name:r.IconName.Question,color:s.IconColor.iconAlternativeSoft,size:r.IconSize.Sm})),!a&&o.default.createElement(r.Popover,c({position:r.PopoverPosition.Auto,referenceElement:h,isOpen:p,onClickOutside:v,style:{maxWidth:"240px",backgroundColor:"var(--color-text-default)",paddingInline:"16px",paddingTop:"8px",paddingBottom:"8px",transitionTimingFunction:"linear",display:"inherit",...d},preventOverflow:!0,flip:!0,hasArrow:!0,isPortal:!0},m),o.default.createElement(i.default,{gap:4},t&&o.default.createElement(r.PopoverHeader,{color:s.TextColor.infoInverse,textAlign:s.TextAlign.Center,justifyContent:l?s.JustifyContent.spaceBetween:s.JustifyContent.center,onClose:l,childrenWrapperProps:{style:{whiteSpace:"nowrap"}}},t),o.default.createElement(r.Text,{justifyContent:s.JustifyContent.center,color:s.TextColor.infoInverse},e))))}));n.default=u}}},{package:"$root$",file:"ui/pages/bridge/layout/tooltip.tsx"}],[7145,{"../../../../shared/constants/metametrics":5968,"../../../../shared/constants/swaps":5982,"../../../components/component-library":6528,"../../../ducks/bridge/selectors":6957,"../../../ducks/metamask/metamask":6967,"../../../helpers/constants/design-system":6979,"../../../hooks/bridge/events/useRequestMetadataProperties":7034,"../../../hooks/bridge/events/useRequestProperties":7035,"../../../hooks/bridge/events/useTradeProperties":7036,"../../../hooks/bridge/useCrossChainSwapsEventTracker":7042,"../../../hooks/bridge/useIsTxSubmittable":7043,"../../../hooks/bridge/useLatestBalance":7044,"../../../hooks/useI18nContext":7081,"../hooks/useSubmitBridgeTransaction":7139,"../layout":7142,"../utils/quote":7162,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeCTAButton=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../components/component-library"),s=e("../../../ducks/bridge/selectors"),i=e("../../../hooks/useI18nContext"),l=b(e("../hooks/useSubmitBridgeTransaction")),c=e("../../../helpers/constants/design-system"),u=b(e("../../../hooks/bridge/useLatestBalance")),d=e("../../../hooks/bridge/useIsTxSubmittable"),m=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),f=e("../../../hooks/bridge/events/useRequestProperties"),p=e("../../../hooks/bridge/events/useRequestMetadataProperties"),g=e("../../../hooks/bridge/events/useTradeProperties"),h=e("../../../../shared/constants/metametrics"),y=e("../../../../shared/constants/swaps"),v=e("../../../ducks/metamask/metamask"),k=e("../layout"),T=e("../utils/quote");function b(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}n.BridgeCTAButton=({onFetchNewQuotes:e})=>{const t=(0,i.useI18nContext)(),n=(0,o.useSelector)(s.getFromToken),b=(0,o.useSelector)(s.getToToken),x=(0,o.useSelector)(s.getFromChain),w=(0,o.useSelector)(s.getFromAmount),{isLoading:C,activeQuote:E,isQuoteGoingToRefresh:_,quotesLastFetchedMs:S}=(0,o.useSelector)(s.getBridgeQuotes),{refreshRate:I}=(0,o.useSelector)(s.getBridgeQuotesConfig),M=(0,T.isQuoteExpired)(_,I,S),{submitBridgeTransaction:P}=(0,l.default)(),[A,D]=(0,a.useState)(!1),{isNoQuotesAvailable:O,isInsufficientBalance:F,isInsufficientGasBalance:N,isInsufficientGasForQuote:R}=(0,o.useSelector)(s.getValidationErrors),B=(0,o.useSelector)(s.getWasTxDeclined),{balanceAmount:j}=(0,u.default)(n,null==x?void 0:x.chainId),{balanceAmount:$}=(0,u.default)(null!=x&&x.chainId?y.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[x.chainId]:null,null==x?void 0:x.chainId),L=(0,d.useIsTxSubmittable)(),W=(0,m.useCrossChainSwapsEventTracker)(),{quoteRequestProperties:q}=(0,f.useRequestProperties)(),G=(0,p.useRequestMetadataProperties)(),H=(0,g.useTradeProperties)(),V=(0,o.useSelector)(v.getNativeCurrency),U=F(j),z=N($),K=R($),Q=(0,a.useMemo)((()=>B?t("youDeclinedTheTransaction"):M?t("bridgeQuoteExpired"):!C||L||E?z||O?"":t(U||K?"alertReasonInsufficientBalance":w?L?"submit":"swapSelectToken":b?"bridgeEnterAmount":"bridgeSelectTokenAndAmount"):""),[C,w,b,V,L,j,U,M,z,K,B,M]),J=(0,a.useMemo)((()=>B||M?t("bridgeFetchNewQuotes"):undefined),[B,M]);return E&&!J?a.default.createElement(r.ButtonPrimary,{width:c.BlockSize.Full,size:E?r.ButtonPrimarySize.Md:r.ButtonPrimarySize.Lg,variant:c.TextVariant.bodyMd,"data-testid":"bridge-cta-button",style:{boxShadow:"none"},onClick:async()=>{if(E&&L&&!A)try{D(!0),q&&G&&H&&W({event:h.MetaMetricsEventName.ActionSubmitted,properties:{...q,...G,...H}}),await P(E)}finally{D(!1)}},loading:A,disabled:!L||M||A},Q):a.default.createElement(k.Row,{alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,gap:1},a.default.createElement(r.Text,{variant:c.TextVariant.bodyMd,textAlign:c.TextAlign.Center,color:c.TextColor.textAlternativeSoft},Q),J&&a.default.createElement(r.ButtonLink,{as:"a",variant:c.TextVariant.bodyMd,style:{whiteSpace:"nowrap"},onClick:e},J))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/bridge-cta-button.tsx"}],[7146,{"../../../../shared/constants/time":5984,"../../../../shared/constants/transaction":5986,"../../../components/component-library":6528,"../../../components/multichain/asset-picker-amount/asset-picker":6640,"../../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs":6637,"../../../ducks/bridge/selectors":6957,"../../../ducks/locale/locale":6966,"../../../ducks/metamask/metamask":6967,"../../../helpers/constants/design-system":6979,"../../../helpers/utils/util":7028,"../../../hooks/bridge/useLatestBalance":7044,"../../../hooks/useCopyToClipboard":7070,"../../../hooks/useI18nContext":7081,"../hooks/useIsMultichainSwap":7138,"../layout":7142,"../utils/quote":7162,"./components/bridge-asset-picker-button":7148,"ethers/lib/utils":4577,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeInputGroup=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("ethers/lib/utils"),i=e("../../../components/component-library"),l=e("../../../components/multichain/asset-picker-amount/asset-picker"),c=e("../../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs"),u=e("../../../hooks/useI18nContext"),d=e("../../../ducks/metamask/metamask"),m=e("../utils/quote"),f=e("../layout"),p=e("../../../helpers/constants/design-system"),g=e("../../../../shared/constants/transaction"),h=(a=e("../../../hooks/bridge/useLatestBalance"))&&a.__esModule?a:{default:a},y=e("../../../ducks/bridge/selectors"),v=e("../../../helpers/utils/util"),k=e("../../../hooks/useCopyToClipboard"),T=e("../../../../shared/constants/time"),b=e("../../../ducks/locale/locale"),x=e("../hooks/useIsMultichainSwap"),w=e("./components/bridge-asset-picker-button");function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},E.apply(null,arguments)}n.BridgeInputGroup=({header:e,token:t,onAssetChange:n,onAmountChange:a,networkProps:C,isTokenListLoading:_,customTokenListGenerator:S,amountFieldProps:I,amountInFiat:M,onMaxButtonClick:P,isMultiselectEnabled:A})=>{var D;const O=(0,u.useI18nContext)(),{isLoading:F}=(0,r.useSelector)(y.getBridgeQuotes),{isInsufficientBalance:N,isEstimatedReturnLow:R}=(0,r.useSelector)(y.getValidationErrors),B=(0,r.useSelector)(d.getCurrentCurrency),j=(0,r.useSelector)(b.getIntlLocale),$=null==C||null===(D=C.network)||void 0===D?void 0:D.chainId,{balanceAmount:L}=(0,h.default)(t,$),[,W]=(0,k.useCopyToClipboard)(T.MINUTE),q=(0,o.useRef)(null),G=(null==I?void 0:I.readOnly)||(null==I?void 0:I.disabled);(0,o.useEffect)((()=>{var e;!G&&q.current&&(q.current.value=(null==I||null===(e=I.value)||void 0===e?void 0:e.toString())??"",q.current.focus())}),[null==I?void 0:I.value,G,t]);const H=(0,x.useIsMultichainSwap)();return o.default.createElement(f.Column,{paddingInline:6,gap:1},o.default.createElement(f.Row,{gap:4},o.default.createElement(i.TextField,E({inputProps:{disableStateStyles:!0,textAlign:p.TextAlign.Start,style:{fontWeight:400,fontSize:Math.max(14,9/Math.max(9,((null==I?void 0:I.value)??"").toString().length)*36),transition:"font-size 0.1s",padding:0}},style:{minWidth:96,maxWidth:190,opacity:G&&null!=I&&I.value?1:undefined},display:p.Display.Flex,inputRef:q,type:i.TextFieldType.Text,className:"amount-input",placeholder:"0",onKeyPress:e=>{e&&!/^[0-9]*\.{0,1}[0-9]*$/u.test(`${I.value??""}${e.key}`)&&e.preventDefault()},onChange:e=>{const t=e.target.value.replace(/[^0-9.]+/gu,"");null==a||a(t)}},I)),o.default.createElement(l.AssetPicker,{header:e,visibleTabs:[c.TabName.TOKENS],asset:t??undefined,onAssetChange:n,networkProps:C,customTokenListGenerator:S,isTokenListLoading:_,isMultiselectEnabled:A},((e,n)=>G&&!t?o.default.createElement(i.Button,{onClick:e,size:i.ButtonSize.Lg,paddingLeft:6,paddingRight:6,fontWeight:p.FontWeight.Normal,style:{whiteSpace:"nowrap"}},O(H?"swapSwapTo":"bridgeTo")):o.default.createElement(w.BridgeAssetPickerButton,{onClick:e,networkImageSrc:n,asset:t??undefined,networkProps:C})))),o.default.createElement(f.Row,{justifyContent:p.JustifyContent.spaceBetween},o.default.createElement(f.Row,null,o.default.createElement(i.Text,{variant:p.TextVariant.bodyMd,fontWeight:p.FontWeight.Normal,color:G&&R?p.TextColor.warningDefault:p.TextColor.textAlternativeSoft,textAlign:p.TextAlign.End,ellipsis:!0},G&&F&&"0"===I.value?O("bridgeCalculatingAmount"):undefined,M&&(0,m.formatCurrencyAmount)(M,B,2))),o.default.createElement(i.Text,{display:p.Display.Flex,gap:1,variant:p.TextVariant.bodyMd,color:!G&&N(L)?p.TextColor.errorDefault:p.TextColor.textAlternativeSoft,onClick:()=>{G&&t&&$&&W((0,s.getAddress)(t.address))},as:G?"a":"p"},G&&t&&$&&t.type===g.AssetType.token?(0,v.shortenString)(t.address,{truncatedCharLimit:11,truncatedStartChars:4,truncatedEndChars:4,skipCharacterInEnd:!1}):undefined,!G&&L?(0,m.formatTokenAmount)(j,L,null==t?void 0:t.symbol):undefined,P&&t&&!(0,m.isNativeAddress)(t.address)&&L&&o.default.createElement(i.ButtonLink,{variant:p.TextVariant.bodyMd,onClick:()=>P(null==L?void 0:L.toFixed())},O("max")))))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/bridge-input-group.tsx"}],[7147,{"../../../../shared/constants/bridge":5958,"../../../../shared/constants/metametrics":5968,"../../../components/component-library":6528,"../../../ducks/bridge/actions":6955,"../../../ducks/bridge/selectors":6957,"../../../helpers/constants/design-system":6979,"../../../hooks/bridge/useCrossChainSwapsEventTracker":7042,"../../../hooks/useI18nContext":7081,"../layout":7142,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeTransactionSettingsModal=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../components/component-library"),s=e("../../../hooks/useI18nContext"),i=e("../../../helpers/constants/design-system"),l=e("../../../ducks/bridge/selectors"),c=e("../../../ducks/bridge/actions"),u=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),d=e("../../../../shared/constants/metametrics"),m=e("../../../../shared/constants/bridge"),f=e("../layout");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const g=[m.BRIDGE_DEFAULT_SLIPPAGE,3];n.BridgeTransactionSettingsModal=({onClose:e,isOpen:t})=>{const n=(0,s.useI18nContext)(),m=(0,u.useCrossChainSwapsEventTracker)(),p=(0,o.useDispatch)(),h=(0,o.useSelector)(l.getSlippage),[y,v]=(0,a.useState)(h),[k,T]=(0,a.useState)(h&&!g.includes(h)?h.toString():undefined),[b,x]=(0,a.useState)(!0),w=(()=>{if(!k)return null;const e=Number(k.replace(",","."));return e<.5?{severity:i.SEVERITIES.WARNING,text:n("swapSlippageLowDescription",[e]),title:n("swapSlippageLowTitle")}:null})();return a.default.createElement(r.Modal,{isOpen:t,onClose:e,className:"bridge-settings-modal"},a.default.createElement(r.ModalOverlay,null),a.default.createElement(r.ModalContent,null,a.default.createElement(r.ModalHeader,{onClose:e},n("transactionSettings")),a.default.createElement(f.Column,{gap:3,padding:4},a.default.createElement(f.Row,{gap:1,justifyContent:i.JustifyContent.flexStart},a.default.createElement(r.Text,null,n("swapsMaxSlippage")),a.default.createElement(f.Tooltip,{position:r.PopoverPosition.Top,iconName:r.IconName.Info,style:{zIndex:1051}},n("swapSlippageTooltip"))),a.default.createElement(f.Row,{gap:2,justifyContent:i.JustifyContent.flexStart},g.map((e=>a.default.createElement(r.Button,{key:e,size:r.ButtonSize.Sm,onClick:t=>{t.preventDefault(),t.stopPropagation(),v(e),T(undefined)},variant:r.ButtonVariant.Secondary,borderColor:y===e&&b?i.BorderColor.primaryDefault:i.BorderColor.borderDefault,borderWidth:y===e&&b?2:1,backgroundColor:y===e&&b?i.BackgroundColor.primaryMuted:i.BackgroundColor.backgroundDefault},a.default.createElement(r.Text,{color:y===e&&b?i.TextColor.primaryDefault:i.TextColor.textDefault},e,"%")))),b&&a.default.createElement(r.Button,{size:r.ButtonSize.Sm,variant:r.ButtonVariant.Secondary,borderColor:k===undefined?i.BorderColor.borderDefault:i.BorderColor.primaryDefault,borderWidth:k===undefined?1:2,backgroundColor:k===undefined?i.BackgroundColor.backgroundDefault:i.BackgroundColor.primaryMuted,onClick:e=>{e.preventDefault(),e.stopPropagation(),x(!1)}},a.default.createElement(r.Text,{color:k===undefined?i.TextColor.textDefault:i.TextColor.primaryDefault},k===undefined?n("customSlippage"):`${k}%`)),!b&&a.default.createElement(r.TextField,{borderColor:i.BorderColor.primaryDefault,borderWidth:2,borderRadius:i.BorderRadius.pill,type:r.TextFieldType.Text,value:k,onChange:e=>{const{value:t}=e.target;(""===t||/^\d*[.,]?\d*$/u.test(t))&&(v(undefined),T(t))},autoFocus:!0,onBlur:()=>{x(!0)},onFocus:()=>{x(!1)},endAccessory:a.default.createElement(r.Text,{variant:i.TextVariant.bodyMd},"%")})),w&&a.default.createElement(r.Box,{marginTop:5},a.default.createElement(r.BannerAlert,{severity:w.severity,title:w.title,titleProps:{"data-testid":"swaps-banner-title"}},a.default.createElement(r.Text,null,w.text)))),a.default.createElement(r.ModalFooter,null,a.default.createElement(r.ButtonPrimary,{width:i.BlockSize.Full,size:r.ButtonPrimarySize.Md,variant:i.TextVariant.bodyMd,disabled:k!==undefined&&Number(k.replace(",","."))===h||y!==undefined&&y===h,onClick:()=>{const t=y??Number(null==k?void 0:k.replace(",","."));t&&(m({event:d.MetaMetricsEventName.InputChanged,properties:{input:"slippage",value:t.toString()}}),p((0,c.setSlippage)(t)),e())}},n("submit")))))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/bridge-transaction-settings-modal.tsx"}],[7148,{"../../../../components/component-library":6528,"../../../../components/component-library/select-button/select-button.types":6565,"../../../../helpers/constants/design-system":6979,"../../../../hooks/useI18nContext":7081,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeAssetPickerButton=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../../components/component-library/select-button/select-button.types"),s=e("../../../../components/component-library"),i=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(null,arguments)}n.BridgeAssetPickerButton=({asset:e,networkProps:t,networkImageSrc:n,...a})=>{var u;const d=(0,l.useI18nContext)();return o.default.createElement(s.SelectButton,c({borderRadius:i.BorderRadius.pill,backgroundColor:i.BackgroundColor.backgroundDefault,borderColor:i.BorderColor.borderMuted,style:{padding:8,paddingRight:11,paddingInline:e?undefined:24,minWidth:"fit-content"},gap:0,size:r.SelectButtonSize.Lg,alignItems:i.AlignItems.center,descriptionProps:{variant:i.TextVariant.bodyMd,overflowWrap:i.OverflowWrap.BreakWord,ellipsis:!1},caretIconProps:{name:s.IconName.Arrow2Down,style:{display:i.Display.None}},label:o.default.createElement(s.Text,{variant:i.TextVariant.bodyLgMedium,ellipsis:!0},(null==e?void 0:e.symbol)??d("bridgeTo")),startAccessory:e?o.default.createElement(s.BadgeWrapper,{marginRight:2,badge:e&&null!=t&&null!==(u=t.network)&&void 0!==u&&u.name?o.default.createElement(s.AvatarNetwork,{name:t.network.name,src:n,size:s.AvatarNetworkSize.Xs}):undefined},e?o.default.createElement(s.AvatarToken,{src:e.image||undefined,backgroundColor:i.BackgroundColor.backgroundHover,name:e.symbol}):undefined):undefined},a))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/bridge-asset-picker-button.tsx"}],[7149,{"../../../../shared/constants/bridge":5958,"../../../../shared/constants/metametrics":5968,"../../../../shared/constants/swaps":5982,"../../../../shared/constants/time":5984,"../../../../shared/lib/swaps-utils":5999,"../../../../shared/modules/bridge-utils/quote":6010,"../../../../shared/modules/conversion.utils":6015,"../../../../shared/modules/selectors/networks":6033,"../../../components/component-library":6528,"../../../components/multichain/pages/page":6761,"../../../ducks/bridge/actions":6955,"../../../ducks/bridge/selectors":6957,"../../../ducks/bridge/utils":6958,"../../../ducks/locale/locale":6966,"../../../ducks/metamask/metamask":6967,"../../../helpers/constants/design-system":6979,"../../../helpers/utils/hardware":7010,"../../../hooks/bridge/events/useRequestProperties":7035,"../../../hooks/bridge/useCountdownTimer":7041,"../../../hooks/bridge/useCrossChainSwapsEventTracker":7042,"../../../hooks/bridge/useLatestBalance":7044,"../../../hooks/bridge/useTokensWithFiltering":7046,"../../../hooks/ramps/useRamps/useRamps":7058,"../../../hooks/useI18nContext":7081,"../../../selectors":7653,"../../../store/actions":7667,"../../swaps/mascot-background-animation/mascot-background-animation":7608,"../hooks/useIsMultichainSwap":7138,"../layout":7142,"../quotes/bridge-quote-card":7150,"../utils/quote":7162,"./bridge-cta-button":7145,"./bridge-input-group":7146,"bignumber.js":4195,classnames:4314,lodash:5108,react:5502,"react-redux":5460,"react-router-dom":5487},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=G(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=q(e("classnames")),s=e("lodash"),i=e("react-router-dom"),l=e("bignumber.js"),c=e("../../../ducks/bridge/actions"),u=e("../../../ducks/bridge/selectors"),d=e("../../../components/component-library"),m=e("../../../helpers/constants/design-system"),f=e("../../../hooks/useI18nContext"),p=e("../../../../shared/constants/swaps"),g=e("../../../hooks/bridge/useTokensWithFiltering"),h=e("../../../store/actions"),y=e("../../../../shared/modules/conversion.utils"),v=e("../../../../shared/lib/swaps-utils"),k=e("../quotes/bridge-quote-card"),T=e("../utils/quote"),b=e("../../../../shared/modules/bridge-utils/quote"),x=e("../../../../shared/modules/selectors/networks"),w=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),C=e("../../../hooks/bridge/events/useRequestProperties"),E=e("../../../../shared/constants/metametrics"),_=e("../../../ducks/bridge/utils"),S=e("../../../components/multichain/pages/page"),I=q(e("../../swaps/mascot-background-animation/mascot-background-animation")),M=e("../layout"),P=q(e("../../../hooks/ramps/useRamps/useRamps")),A=e("../../../ducks/metamask/metamask"),D=q(e("../../../hooks/bridge/useLatestBalance")),O=e("../../../hooks/bridge/useCountdownTimer"),F=e("../../../selectors"),N=e("../../../helpers/utils/hardware"),R=e("../../../../shared/constants/time"),B=e("../../../../shared/constants/bridge"),j=e("../../../ducks/locale/locale"),$=e("../hooks/useIsMultichainSwap"),L=e("./bridge-input-group"),W=e("./bridge-cta-button");function q(e){return e&&e.__esModule?e:{default:e}}function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(G=function(e){return e?n:t})(e)}n.default=()=>{var e,t,n;const q=(0,o.useDispatch)(),G=(0,f.useI18nContext)(),H=(0,o.useSelector)(u.getFromToken),V=(0,o.useSelector)(F.getTokenList),U=(0,a.useMemo)((()=>0===Object.keys(V).length),[V]),z=(0,o.useSelector)(u.getToToken),K=(0,o.useSelector)(u.getFromChains),Q=(0,o.useSelector)(u.getToChains),J=(0,o.useSelector)(u.getFromChain),X=(0,o.useSelector)(u.getToChain),Y=(0,o.useSelector)(u.getFromAmount),Z=(0,o.useSelector)(u.getFromAmountInCurrency),ee=(0,o.useSelector)(x.getProviderConfig),te=(0,o.useSelector)(u.getSlippage),ne=(0,o.useSelector)(u.getQuoteRequest),{isLoading:ae,activeQuote:oe,isQuoteGoingToRefresh:re,quotesLastFetchedMs:se}=(0,o.useSelector)(u.getBridgeQuotes),{refreshRate:ie}=(0,o.useSelector)(u.getBridgeQuotesConfig),le=(0,o.useSelector)(u.getWasTxDeclined),ce=(0,T.isQuoteExpired)(re,ie,se)&&!ne.insufficientBal?undefined:oe,ue=(0,o.useSelector)(F.getCurrentKeyring),de=(0,N.isHardwareKeyring)(ue.type),me=(0,o.useSelector)(j.getIntlLocale),fe=(0,o.useSelector)(A.getNativeCurrency),{isEstimatedReturnLow:pe,isNoQuotesAvailable:ge,isInsufficientGasForQuote:he,isInsufficientBalance:ye}=(0,o.useSelector)(u.getValidationErrors),{quotesRefreshCount:ve}=(0,o.useSelector)(u.getBridgeQuotes),{openBuyCryptoInPdapp:ke}=(0,P.default)(),{balanceAmount:Te}=(0,D.default)(p.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[null==J?void 0:J.chainId],null==J?void 0:J.chainId),{balanceAmount:be}=(0,D.default)(H,null==J?void 0:J.chainId),{filteredTokenListGenerator:xe,isLoading:we}=(0,g.useTokensWithFiltering)(null==X?void 0:X.chainId),{flippedRequestProperties:Ce}=(0,C.useRequestProperties)(),Ee=(0,w.useCrossChainSwapsEventTracker)(),_e=(0,O.useCountdownTimer)(),[Se,Ie]=(0,a.useState)(!1),[Me,Pe]=(0,a.useState)(!0);(0,a.useEffect)((()=>Pe(!0)),[ve]);const[Ae,De]=(0,a.useState)(!1);(0,a.useEffect)((()=>{De(!0);const e=setTimeout((()=>{De(!1)}),R.SECOND);return()=>{clearTimeout(e)}}),[Se]),(0,a.useEffect)((()=>{if(ce){const{srcAsset:e,destAsset:t,destChainId:n,srcChainId:a}=ce.quote,o=(0,y.decimalToPrefixedHex)(n),r=(0,y.decimalToPrefixedHex)(a);e&&t&&o&&(q((0,c.setToChainId)(o)),q((0,c.setToToken)({...t,chainId:o,image:t.icon,address:t.address.toLowerCase()})),q((0,c.setFromToken)({...e,chainId:r,image:e.icon,address:e.address.toLowerCase()})))}else q((0,c.resetBridgeState)())}),[]);const Oe=(0,a.useRef)(null),Fe=(0,a.useRef)(null);(0,a.useEffect)((()=>{var e,t;he(Te)&&(null===(e=Oe.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"}));pe&&(null===(t=Fe.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"start"}))}),[pe,he(Te),Me]);const Ne=(0,a.useMemo)((()=>{var e;return{srcTokenAddress:null==H?void 0:H.address,destTokenAddress:(null==z?void 0:z.address)||undefined,srcTokenAmount:Y&&null!=H&&H.decimals?(0,v.calcTokenValue)(["","."].includes(Y)?"0":Y,H.decimals).toFixed():undefined,srcChainId:null!=J&&J.chainId?Number((0,y.hexToDecimal)(J.chainId)):undefined,destChainId:null!=X&&X.chainId?Number((0,y.hexToDecimal)(X.chainId)):undefined,insufficientBal:Boolean(null==ee||null===(e=ee.rpcUrl)||void 0===e?void 0:e.includes("tenderly")),slippage:te}}),[H,z,null==J?void 0:J.chainId,null==X?void 0:X.chainId,Y,ee,te]),Re=(0,a.useCallback)((0,s.debounce)((e=>{q((0,c.updateQuoteRequestParams)(e)),q((0,c.setSelectedQuote)(null))}),300),[]);(0,a.useEffect)((()=>{Re(Ne)}),Object.values(Ne));const Be=(0,a.useCallback)((e=>{Ee({event:E.MetaMetricsEventName.InputChanged,properties:e})}),[]),{search:je}=(0,i.useLocation)(),$e=(0,i.useHistory)();(0,a.useEffect)((()=>{var e,t;if(null==J||!J.chainId||U)return;const n=new URLSearchParams(je),a=n.get("token");if(!a)return;const o=()=>{const e=new URLSearchParams(n);e.delete("token"),$e.replace({search:e.toString()})};switch(a){case null==H||null===(e=H.address)||void 0===e?void 0:e.toLowerCase():o();break;case null===(t=V[a])||void 0===t||null===(t=t.address)||void 0===t?void 0:t.toLowerCase():{const e=V[a];q((0,c.setFromToken)({...e,image:e.iconUrl,chainId:J.chainId})),o();break}default:o()}}),[J,H,V,je,U]);const Le=(0,$.useIsMultichainSwap)();return a.default.createElement(M.Column,{className:"prepare-bridge-page",gap:8},a.default.createElement(L.BridgeInputGroup,{header:G(Le?"swapSwapFrom":"bridgeFrom"),token:H,onAmountChange:e=>{q((0,c.setFromTokenInputValue)(e))},onAssetChange:e=>{q((0,c.setFromToken)(e)),q((0,c.setFromTokenInputValue)(null)),(null==e?void 0:e.address)&&Be({input:"token_source",value:e.address})},networkProps:{network:J,networks:K,onNetworkChange:e=>{e.chainId!==(null==J?void 0:J.chainId)&&Be({input:"chain_source",value:e.chainId}),e.chainId===(null==X?void 0:X.chainId)&&(q((0,c.setToChainId)(null)),q((0,c.setToToken)(null))),(0,_.isNetworkAdded)(e)&&q((0,h.setActiveNetwork)(e.rpcEndpoints[e.defaultRpcEndpointIndex].networkClientId)),q((0,c.setFromToken)(null)),q((0,c.setFromTokenInputValue)(null))},header:G("yourNetworks")},isMultiselectEnabled:!0,onMaxButtonClick:e=>{q((0,c.setFromTokenInputValue)(e))},amountInFiat:Z.valueInCurrency,amountFieldProps:{testId:"from-amount",autoFocus:!0,value:Y||undefined},isTokenListLoading:U}),a.default.createElement(M.Column,{height:m.BlockSize.Full,paddingTop:8,backgroundColor:m.BackgroundColor.backgroundAlternativeSoft,style:{position:"relative"}},a.default.createElement(d.Box,{className:"prepare-bridge-page__switch-tokens",display:m.Display.Flex,backgroundColor:m.BackgroundColor.backgroundAlternativeSoft,style:{position:"absolute",top:"calc(-20px + 1px)",right:"calc(50% - 20px)",border:"2px solid var(--color-background-default)",borderRadius:"100%",opacity:1,width:40,height:40,justifyContent:m.JustifyContent.center}},a.default.createElement(d.ButtonIcon,{iconProps:{className:(0,r.default)({rotate:Se})},style:{alignSelf:"center",borderRadius:"100%",width:"100%",height:"100%"},"data-testid":"switch-tokens",ariaLabel:"switch-tokens",iconName:d.IconName.Arrow2Down,color:m.IconColor.iconAlternativeSoft,disabled:Ae||!(0,b.isValidQuoteRequest)(ne,!1)||!(0,_.isNetworkAdded)(X),onClick:()=>{if(!(0,_.isNetworkAdded)(X))return;Ie(!Se),Ce&&Ee({event:E.MetaMetricsEventName.InputSourceDestinationFlipped,properties:Ce});const e=(null==X?void 0:X.defaultRpcEndpointIndex)!==undefined&&null!=X&&X.rpcEndpoints?X.rpcEndpoints[X.defaultRpcEndpointIndex].networkClientId:undefined;e&&q((0,h.setActiveNetwork)(e)),q((0,c.setFromToken)(z)),(null==J?void 0:J.chainId)&&q((0,c.setToChainId)(J.chainId)),q((0,c.setToToken)(H))}})),a.default.createElement(L.BridgeInputGroup,{header:G("swapSelectToken"),token:z,onAssetChange:e=>{(null==e?void 0:e.address)&&Be({input:"token_destination",value:e.address}),q((0,c.setToToken)(e))},networkProps:{network:X,networks:Q,onNetworkChange:e=>{e.chainId!==(null==X?void 0:X.chainId)&&Be({input:"chain_destination",value:e.chainId}),q((0,c.setToChainId)(e.chainId)),q((0,c.setToToken)(null))},header:G(Le?"swapSwapTo":"bridgeTo"),shouldDisableNetwork:({chainId:e})=>e===(null==J?void 0:J.chainId)},customTokenListGenerator:X?xe:undefined,amountInFiat:(null==ce||null===(e=ce.toTokenAmount)||void 0===e?void 0:e.valueInCurrency)||undefined,amountFieldProps:{testId:"to-amount",readOnly:!0,disabled:!0,value:null!=ce&&null!==(t=ce.toTokenAmount)&&void 0!==t&&t.amount?(0,T.formatTokenAmount)(me,ce.toTokenAmount.amount):"0",autoFocus:!1,className:null!=ce&&null!==(n=ce.toTokenAmount)&&void 0!==n&&n.amount?"amount-input defined":"amount-input"},isTokenListLoading:we}),a.default.createElement(M.Column,{height:m.BlockSize.Full,justifyContent:m.JustifyContent.center},ae&&!ce?a.default.createElement(a.default.Fragment,null,a.default.createElement(d.Text,{textAlign:m.TextAlign.Center,color:m.TextColor.textAlternativeSoft},G("swapFetchingQuotes")),a.default.createElement(I.default,{height:"64",width:"64"})):null),a.default.createElement(M.Row,{padding:6},a.default.createElement(M.Column,{gap:3,className:ce?"highlight":"",style:{paddingBottom:null!=ce&&ce.approval?16:"revert-layer",paddingTop:null!=ce&&ce.approval?16:undefined,paddingInline:16,position:"relative",overflow:"hidden"}},ce&&re&&a.default.createElement(M.Row,{style:{position:"absolute",left:0,top:0,width:`calc(100% * (${ie} - ${_e}) / ${ie})`,height:4,maxWidth:"100%",transition:"width 1s linear"},backgroundColor:m.BackgroundColor.primaryMuted}),!le&&ce&&a.default.createElement(k.BridgeQuoteCard,null),a.default.createElement(S.Footer,{padding:0,flexDirection:m.FlexDirection.Column,gap:2},a.default.createElement(W.BridgeCTAButton,{onFetchNewQuotes:()=>{Re(Ne)}}),null!=ce&&ce.approval&&Y&&H?a.default.createElement(M.Row,{justifyContent:m.JustifyContent.center,gap:1},a.default.createElement(d.Text,{color:m.TextColor.textAlternativeSoft,variant:m.TextVariant.bodyXs,textAlign:m.TextAlign.Center},de?G("willApproveAmountForBridgingHardware"):G("willApproveAmountForBridging",[(0,T.formatTokenAmount)(me,new l.BigNumber(Y),H.symbol)])),Y&&a.default.createElement(M.Tooltip,{display:m.Display.InlineBlock,position:d.PopoverPosition.Top,offset:[-48,8],title:G("grantExactAccess")},G(de?"bridgeApprovalWarningForHardware":"bridgeApprovalWarning",[Y,H.symbol]))):null))),ge&&a.default.createElement(d.BannerAlert,{marginInline:4,marginBottom:10,severity:d.BannerAlertSeverity.Danger,description:G("noOptionsAvailableMessage"),textAlign:m.TextAlign.Left}),pe&&Me&&a.default.createElement(d.BannerAlert,{ref:Oe,marginInline:4,marginBottom:3,title:G("lowEstimatedReturnTooltipTitle"),severity:d.BannerAlertSeverity.Warning,description:G("lowEstimatedReturnTooltipMessage",[100*B.BRIDGE_QUOTE_MAX_RETURN_DIFFERENCE_PERCENTAGE]),textAlign:m.TextAlign.Left,onClose:()=>Pe(!1)}),!ae&&ce&&!ye(be)&&he(Te)&&a.default.createElement(d.BannerAlert,{ref:Fe,marginInline:4,marginBottom:3,title:G("bridgeValidationInsufficientGasTitle",[fe]),severity:d.BannerAlertSeverity.Danger,description:G("bridgeValidationInsufficientGasMessage",[fe]),textAlign:m.TextAlign.Left,actionButtonLabel:G("buyMoreAsset",[fe]),actionButtonOnClick:()=>ke()})))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/prepare-bridge-page.tsx"}],[7150,{"../../../../shared/constants/bridge":5958,"../../../../shared/constants/metametrics":5968,"../../../../shared/constants/terms":5983,"../../../../shared/modules/conversion.utils":6015,"../../../components/component-library":6528,"../../../ducks/bridge/selectors":6957,"../../../ducks/locale/locale":6966,"../../../ducks/metamask/metamask":6967,"../../../helpers/constants/design-system":6979,"../../../hooks/bridge/events/useQuoteProperties":7033,"../../../hooks/bridge/events/useRequestMetadataProperties":7034,"../../../hooks/bridge/events/useRequestProperties":7035,"../../../hooks/bridge/useCrossChainSwapsEventTracker":7042,"../../../hooks/useI18nContext":7081,"../../../selectors/multichain":7656,"../layout":7142,"../utils/quote":7162,"./bridge-quotes-modal":7151,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeQuoteCard=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../components/component-library"),s=e("../../../ducks/bridge/selectors"),i=e("../../../hooks/useI18nContext"),l=e("../utils/quote"),c=e("../../../ducks/metamask/metamask"),u=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),d=e("../../../hooks/bridge/events/useRequestProperties"),m=e("../../../hooks/bridge/events/useRequestMetadataProperties"),f=e("../../../hooks/bridge/events/useQuoteProperties"),p=e("../../../../shared/constants/metametrics"),g=e("../../../helpers/constants/design-system"),h=e("../layout"),y=e("../../../../shared/constants/bridge"),v=e("../../../../shared/modules/conversion.utils"),k=e("../../../../shared/constants/terms"),T=e("../../../ducks/locale/locale"),b=e("../../../selectors/multichain"),x=e("./bridge-quotes-modal");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}n.BridgeQuoteCard=()=>{var e,t,n,w;const C=(0,i.useI18nContext)(),{activeQuote:E}=(0,o.useSelector)(s.getBridgeQuotes),_=(0,o.useSelector)(c.getCurrentCurrency),S=(0,o.useSelector)(c.getNativeCurrency),{isEstimatedReturnLow:I}=(0,o.useSelector)(s.getValidationErrors),M=(0,u.useCrossChainSwapsEventTracker)(),{quoteRequestProperties:P}=(0,d.useRequestProperties)(),A=(0,m.useRequestMetadataProperties)(),D=(0,f.useQuoteProperties)(),O=(0,o.useSelector)(s.getFromChain),F=(0,o.useSelector)(s.getToChain),N=(0,o.useSelector)(T.getIntlLocale),[R,B]=(0,a.useState)(!1),[j,$]=(0,a.useState)(!1);return a.default.createElement(a.default.Fragment,null,a.default.createElement(x.BridgeQuotesModal,{isOpen:R,onClose:()=>B(!1)}),E?a.default.createElement(h.Column,{gap:3},a.default.createElement(h.Row,{justifyContent:g.JustifyContent.spaceBetween},a.default.createElement(h.Row,{gap:1,justifyContent:g.JustifyContent.flexStart,style:{whiteSpace:"nowrap"}},a.default.createElement(r.Text,{variant:g.TextVariant.bodyLgMedium},C("bestPrice")),a.default.createElement(h.Tooltip,{title:C("howQuotesWork"),position:r.PopoverPosition.TopStart,offset:[-16,16],iconName:r.IconName.Question},C("howQuotesWorkExplanation",[y.BRIDGE_MM_FEE_RATE]))),a.default.createElement(h.Column,{height:g.BlockSize.Full,alignItems:g.AlignItems.flexEnd},a.default.createElement(r.Text,{as:"a",variant:g.TextVariant.bodyMd,color:g.TextColor.primaryDefault,onClick:()=>{P&&A&&D&&M({event:p.MetaMetricsEventName.AllQuotesOpened,properties:{...P,...A,...D}}),B(!0)}},C("moreQuotes")))),a.default.createElement(h.Column,{gap:1},a.default.createElement(h.Row,null,a.default.createElement(r.Text,{variant:g.TextVariant.bodyMdMedium,color:g.TextColor.textAlternativeSoft},C("bridging")),a.default.createElement(h.Row,{gap:1},a.default.createElement(r.AvatarNetwork,{name:(null==O?void 0:O.name)??"",src:(0,b.getImageForChainId)((0,v.decimalToPrefixedHex)(E.quote.srcChainId)),size:r.AvatarNetworkSize.Xs,backgroundColor:g.BackgroundColor.transparent}),a.default.createElement(r.Text,{style:{whiteSpace:"nowrap"}},y.NETWORK_TO_SHORT_NETWORK_NAME_MAP[(0,v.decimalToPrefixedHex)(E.quote.srcChainId)]),a.default.createElement(r.Icon,{name:r.IconName.Arrow2Right,size:r.IconSize.Xs}),a.default.createElement(r.AvatarNetwork,{name:(null==F?void 0:F.name)??"",src:(0,b.getImageForChainId)((0,v.decimalToPrefixedHex)(E.quote.destChainId)),size:r.AvatarNetworkSize.Xs,backgroundColor:g.BackgroundColor.transparent}),a.default.createElement(r.Text,{style:{whiteSpace:"nowrap"}},y.NETWORK_TO_SHORT_NETWORK_NAME_MAP[(0,v.decimalToPrefixedHex)(E.quote.destChainId)]))),a.default.createElement(h.Row,{className:"row-with-warning",backgroundColor:I?g.BackgroundColor.warningMuted:undefined},a.default.createElement(r.Text,{style:{whiteSpace:"nowrap"},variant:g.TextVariant.bodyMdMedium,color:I?g.TextColor.warningDefault:g.TextColor.textAlternativeSoft},C("networkFee")),a.default.createElement(h.Row,{gap:1},a.default.createElement(h.Tooltip,{position:r.PopoverPosition.TopStart,offset:[-16,16],iconName:r.IconName.Question,triggerElement:a.default.createElement(r.Text,{style:{whiteSpace:"nowrap",overflow:"visible",textDecoration:"underline",cursor:"pointer"},color:I?g.TextColor.warningDefault:undefined},j?`${null!=E&&null!==(e=E.totalNetworkFee)&&void 0!==e&&e.valueInCurrency?(0,l.formatTokenAmount)(N,null==E||null===(t=E.totalNetworkFee)||void 0===t?void 0:t.amount,S):undefined}`:`${(0,l.formatCurrencyAmount)(null==E||null===(n=E.totalNetworkFee)||void 0===n?void 0:n.valueInCurrency,_,2)??(0,l.formatTokenAmount)(N,null==E||null===(w=E.totalNetworkFee)||void 0===w?void 0:w.amount,S)}`)},C("howNetworkFeesWorkExplanation",[j?(0,l.formatTokenAmount)(N,null==E?void 0:E.totalMaxNetworkFee.amount,S):(0,l.formatCurrencyAmount)(null==E?void 0:E.totalMaxNetworkFee.valueInCurrency,_,2)])),a.default.createElement(r.Icon,{style:{cursor:"pointer"},color:I?g.IconColor.warningDefault:g.IconColor.iconAlternativeSoft,name:r.IconName.SwapVertical,size:r.IconSize.Md,onClick:()=>$(!j)}))),a.default.createElement(h.Row,null,a.default.createElement(r.Text,{variant:g.TextVariant.bodyMdMedium,color:g.TextColor.textAlternativeSoft},C("time")),a.default.createElement(r.Text,null,C("bridgeTimingMinutes",[(0,l.formatEtaInMinutes)(E.estimatedProcessingTimeInSeconds)]))),a.default.createElement(h.Row,{justifyContent:g.JustifyContent.flexStart,gap:2},a.default.createElement(r.Text,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternativeSoft},C("rateIncludesMMFee",[y.BRIDGE_MM_FEE_RATE])),a.default.createElement(r.Text,{color:g.TextColor.textAlternativeSoft},C("bulletpoint")),a.default.createElement(r.ButtonLink,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternativeSoft,href:k.TERMS_OF_USE_LINK,externalLink:!0,style:{textDecoration:"underline"}},C("bridgeTerms"))))):null)}}}},{package:"$root$",file:"ui/pages/bridge/quotes/bridge-quote-card.tsx"}],[7151,{"../../../../shared/constants/metametrics":5968,"../../../../shared/types/bridge":6041,"../../../components/component-library":6528,"../../../ducks/bridge/actions":6955,"../../../ducks/bridge/selectors":6957,"../../../ducks/locale/locale":6966,"../../../ducks/metamask/metamask":6967,"../../../helpers/constants/design-system":6979,"../../../hooks/bridge/events/useQuoteProperties":7033,"../../../hooks/bridge/events/useRequestMetadataProperties":7034,"../../../hooks/bridge/events/useRequestProperties":7035,"../../../hooks/bridge/events/useTradeProperties":7036,"../../../hooks/bridge/useCrossChainSwapsEventTracker":7042,"../../../hooks/useI18nContext":7081,"../layout":7142,"../utils/quote":7162,"@metamask/snaps-sdk/jsx":3228,lodash:5108,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeQuotesModal=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("@metamask/snaps-sdk/jsx"),s=e("react-redux"),i=e("lodash"),l=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system"),u=e("../utils/quote"),d=e("../../../hooks/useI18nContext"),m=e("../../../ducks/bridge/actions"),f=e("../../../../shared/types/bridge"),p=e("../../../ducks/bridge/selectors"),g=e("../layout"),h=e("../../../ducks/metamask/metamask"),y=e("../../../hooks/bridge/events/useQuoteProperties"),v=e("../../../hooks/bridge/events/useRequestMetadataProperties"),k=e("../../../hooks/bridge/events/useRequestProperties"),T=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),b=e("../../../../shared/constants/metametrics"),x=e("../../../hooks/bridge/events/useTradeProperties"),w=e("../../../ducks/locale/locale");function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},C.apply(null,arguments)}n.BridgeQuotesModal=({onClose:e,...t})=>{const n=(0,d.useI18nContext)(),a=(0,s.useDispatch)(),{sortedQuotes:E,activeQuote:_,recommendedQuote:S}=(0,s.useSelector)(p.getBridgeQuotes),I=(0,s.useSelector)(p.getBridgeSortOrder),M=(0,s.useSelector)(h.getCurrentCurrency),P=(0,s.useSelector)(h.getNativeCurrency),A=(0,s.useSelector)(w.getIntlLocale),D=(0,T.useCrossChainSwapsEventTracker)(),{quoteRequestProperties:O}=(0,k.useRequestProperties)(),F=(0,v.useRequestMetadataProperties)(),N=(0,y.useQuoteProperties)(),R=(0,x.useTradeProperties)();return o.default.createElement(l.Modal,C({className:"quotes-modal",onClose:e},t),o.default.createElement(l.ModalOverlay,null),o.default.createElement(l.ModalContent,{modalDialogProps:{padding:0}},o.default.createElement(l.ModalHeader,{onBack:e},o.default.createElement(l.Text,{variant:c.TextVariant.headingSm,textAlign:c.TextAlign.Center},n("swapSelectAQuote"))),o.default.createElement(g.Row,{paddingTop:3,paddingBottom:1,paddingInline:4},[[f.SortOrder.COST_ASC,n("bridgeNetCost"),r.IconName.Arrow2Up],[f.SortOrder.ETA_ASC,n("time"),r.IconName.Arrow2Down]].map((([e,t,n])=>o.default.createElement(l.ButtonLink,{key:t,onClick:()=>{O&&F&&N&&D({event:b.MetaMetricsEventName.AllQuotesSorted,properties:{...O,...F,...N,sort_order:I}}),a((0,m.setSortOrder)(e))},startIconName:I===e&&I===f.SortOrder.ETA_ASC?n:undefined,startIconProps:{size:l.IconSize.Xs},endIconName:I===e&&I===f.SortOrder.COST_ASC?n:undefined,endIconProps:{size:l.IconSize.Xs},color:I===e?c.TextColor.primaryDefault:c.TextColor.textAlternativeSoft},o.default.createElement(l.Text,{variant:I===e?c.TextVariant.bodySmMedium:c.TextVariant.bodySm,color:I===e?c.TextColor.primaryDefault:c.TextColor.textAlternativeSoft},t))))),o.default.createElement(g.Column,{style:{overflow:"scroll"}},E.map(((t,r)=>{const{totalNetworkFee:s,estimatedProcessingTimeInSeconds:d,toTokenAmount:f,cost:p,sentAmount:h,quote:{destAsset:y,bridges:v,requestId:k}}=t,T=k===(null==_?void 0:_.quote.requestId),x=k===(null==S?void 0:S.quote.requestId);return o.default.createElement(g.Row,{alignItems:c.AlignItems.flexStart,key:r,backgroundColor:T?c.BackgroundColor.primaryMuted:undefined,onClick:()=>{a((0,m.setSelectedQuote)(t)),O&&F&&N&&R&&D({event:b.MetaMetricsEventName.QuoteSelected,properties:{...O,...F,...N,...R,is_best_quote:x}}),e()},paddingInline:4,paddingTop:3,paddingBottom:3,style:{position:"relative"}},T&&o.default.createElement(g.Column,{style:{position:"absolute",left:4,top:4,height:"calc(100% - 8px)",width:4,borderRadius:8},backgroundColor:c.BackgroundColor.primaryDefault}),o.default.createElement(g.Column,null,o.default.createElement(l.Text,{variant:c.TextVariant.bodyMd},p.valueInCurrency&&(0,u.formatCurrencyAmount)(p.valueInCurrency,M,0)),[null!=s&&s.valueInCurrency&&null!=h&&h.valueInCurrency?n("quotedTotalCost",[(0,u.formatCurrencyAmount)(s.valueInCurrency.plus(h.valueInCurrency),M,0)]):n("quotedTotalCost",[(0,u.formatTokenAmount)(A,s.amount,P)]),n("quotedReceiveAmount",[(0,u.formatCurrencyAmount)(f.valueInCurrency,M,0)??(0,u.formatTokenAmount)(A,f.amount,y.symbol)])].map((e=>o.default.createElement(l.Text,{key:e,variant:c.TextVariant.bodyXsMedium,color:c.TextColor.textAlternative},e)))),o.default.createElement(g.Column,{alignItems:c.AlignItems.flexEnd},o.default.createElement(l.Text,{variant:c.TextVariant.bodyMd},n("bridgeTimingMinutes",[(0,u.formatEtaInMinutes)(d)])),o.default.createElement(l.Text,{variant:c.TextVariant.bodyXsMedium,color:c.TextColor.textAlternative},(0,i.startCase)(v[0]))))})))))}}}},{package:"$root$",file:"ui/pages/bridge/quotes/bridge-quotes-modal.tsx"}],[7152,{"../../../../shared/types/bridge-status":6040,"../../../components/component-library":6528,"../../../helpers/constants/design-system":6979,"./segment":7158,"@metamask/transaction-controller":3344,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({bridgeTxHistoryItem:e,transactionGroup:t}){const{initialTransaction:n}=t,o=d(n),r=m({bridgeTxHistoryItem:e,srcTxStatus:o}),c=u(o);return a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:2},a.default.createElement(s.Text,{color:i.TextColor.textAlternative},"Transaction ",c," of 2"),a.default.createElement(s.Box,{display:i.Display.Flex,gap:2,width:i.BlockSize.Full},a.default.createElement(l.default,{type:o}),a.default.createElement(l.default,{type:r})))};var a=c(e("react")),o=e("@metamask/transaction-controller"),r=e("../../../../shared/types/bridge-status"),s=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=c(e("./segment"));function c(e){return e&&e.__esModule?e:{default:e}}const u=e=>{if(e===r.StatusTypes.PENDING)return 1;if(e===r.StatusTypes.COMPLETE)return 2;throw new Error("No more possible states for srcTxStatus")},d=e=>e.status===o.TransactionStatus.confirmed?r.StatusTypes.COMPLETE:r.StatusTypes.PENDING,m=({bridgeTxHistoryItem:e,srcTxStatus:t})=>{var n;return t!==r.StatusTypes.COMPLETE?null:null!=e&&null!==(n=e.status.destChain)&&void 0!==n&&n.txHash&&e.status.status===r.StatusTypes.COMPLETE?r.StatusTypes.COMPLETE:r.StatusTypes.PENDING}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-activity-item-tx-segments.tsx"}],[7153,{"../../../../shared/constants/common":5959,"../../../components/component-library":6528,"../../../components/multichain/menu-items/view-explorer-menu-item":6696,"../../../contexts/metametrics":6943,"../../../helpers/constants/design-system":6979,"../../../hooks/useI18nContext":7081,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({srcChainId:e,destChainId:t,srcBlockExplorerUrl:n,destBlockExplorerUrl:c}){const u=(0,a.useContext)(s.MetaMetricsContext),f=(0,l.useI18nContext)(),p=f("bridgeExplorerLinkViewOn",[d(e,n)]),g=c?f("bridgeExplorerLinkViewOn",[d(t,c)]):undefined;return a.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:4},n&&a.default.createElement(o.ButtonSecondary,{endIconName:o.IconName.Export,onClick:()=>{n&&(0,r.openBlockExplorer)(n,m,u)}},p),c&&a.default.createElement(o.ButtonSecondary,{endIconName:o.IconName.Export,onClick:()=>{c&&(0,r.openBlockExplorer)(c,m,u)}},g))},n.getBlockExplorerUrl=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../components/component-library"),r=e("../../../components/multichain/menu-items/view-explorer-menu-item"),s=e("../../../contexts/metametrics"),i=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),c=e("../../../../shared/constants/common");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=(e,t)=>{const n=e?c.CHAINID_DEFAULT_BLOCK_EXPLORER_HUMAN_READABLE_URL_MAP[e]:undefined;return n||(t?t.split("/")[2]:undefined)};n.getBlockExplorerUrl=(e,t)=>{var n;if(!e||!t)return undefined;const a=e.defaultBlockExplorerUrlIndex;if(a===undefined)return undefined;return`${null===(n=e.blockExplorerUrls[a])||void 0===n?void 0:n.replace(/\/$/u,"")}/tx/${t}`};const m="Activity Tab"}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-explorer-links.tsx"}],[7154,{"../../../../shared/constants/bridge":5958,"../../../../shared/modules/Numeric":6006,"../../../../shared/types/bridge-status":6040,"../../../components/component-library":6528,"../../../helpers/constants/design-system":6979,"../../../hooks/useI18nContext":7081,"@metamask/transaction-controller":3344,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({step:e,networkConfigurationsByChainId:t,time:n,stepStatus:o}){const i=(0,c.useI18nContext)();return a.createElement(s.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,gap:2,className:"bridge-transaction-details__step-grid--desc"},n&&a.createElement(s.Text,{color:l.TextColor.textDefault},n),a.createElement(s.Text,{color:o===r.StatusTypes.PENDING||o===r.StatusTypes.COMPLETE?l.TextColor.textDefault:l.TextColor.textAlternative,fontWeight:o===r.StatusTypes.PENDING?l.FontWeight.Medium:l.FontWeight.Normal},e.action===r.ActionTypes.BRIDGE&&m(i,o,e,t),e.action===r.ActionTypes.SWAP&&f(i,o,e)))},n.getStepStatus=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/transaction-controller"),r=e("../../../../shared/types/bridge-status"),s=e("../../../components/component-library"),i=e("../../../../shared/modules/Numeric"),l=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),u=e("../../../../shared/constants/bridge");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const m=(e,t,n,a)=>{const o=n.destChainId?new i.Numeric(n.destChainId,10).toPrefixedHexString():undefined,s=o?a[o]:undefined,l=u.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==s?void 0:s.chainId];return t===r.StatusTypes.COMPLETE?e("bridgeStepActionBridgeComplete",[n.destAsset.symbol,l]):e("bridgeStepActionBridgePending",[n.destAsset.symbol,l])},f=(e,t,n)=>t===r.StatusTypes.COMPLETE?e("bridgeStepActionSwapComplete",[n.srcAsset.symbol,n.destAsset.symbol]):e("bridgeStepActionSwapPending",[n.srcAsset.symbol,n.destAsset.symbol]);n.getStepStatus=({bridgeHistoryItem:e,step:t,srcChainTxMeta:n})=>e?t.action===r.ActionTypes.SWAP?((e,t,n)=>{const a=t.srcChainId===t.destChainId,s=t.srcChainId===e.quote.srcChainId;if(a&&s)return(null==n?void 0:n.status)===o.TransactionStatus.confirmed?r.StatusTypes.COMPLETE:r.StatusTypes.PENDING;return(null==n?void 0:n.status)===o.TransactionStatus.confirmed&&e.status?e.status.status:null})(e,t,n):t.action===r.ActionTypes.BRIDGE?(e=>e.status?e.status.status:null)(e):r.StatusTypes.UNKNOWN:r.StatusTypes.UNKNOWN}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-step-description.tsx"}],[7155,{"../../../../shared/types/bridge-status":6040,"../../../components/component-library":6528,"../../../helpers/utils/util":7028,"./bridge-step-description":7154,"./step-progress-bar-item":7159,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({bridgeHistoryItem:e,srcChainTxMeta:t,networkConfigurationsByChainId:n}){const c=(null==e?void 0:e.quote.steps)||[],u=c.map((n=>(0,i.getStepStatus)({bridgeHistoryItem:e,step:n,srcChainTxMeta:t})));return a.default.createElement(o.Box,{className:"bridge-transaction-details__step-grid"},c.map(((o,m)=>{const f=m>0?u[m-1]:null,p=u[m],g=m<u.length-1?u[m+1]:null,h=p===r.StatusTypes.COMPLETE&&(g===r.StatusTypes.PENDING||g===r.StatusTypes.COMPLETE),y=f===r.StatusTypes.PENDING&&p===r.StatusTypes.PENDING?null:p,v=(0,s.formatDate)(d(m,m===c.length-1,(null==e?void 0:e.startTime)||(null==t?void 0:t.time),(null==e?void 0:e.estimatedProcessingTimeInSeconds)||0),"hh:mm a");return a.default.createElement(l.default,{key:`progress-${o.action}-${o.srcChainId}-${o.destChainId}`,stepStatus:y,isLastItem:m===c.length-1,isEdgeComplete:h},a.default.createElement(i.default,{step:o,networkConfigurationsByChainId:n,stepStatus:y,time:v}))})))};var a=u(e("react")),o=e("../../../components/component-library"),r=e("../../../../shared/types/bridge-status"),s=e("../../../helpers/utils/util"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("./bridge-step-description")),l=u(e("./step-progress-bar-item"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}const d=(e,t,n,a)=>0===e?n:t&&n&&a?n+1e3*a:undefined}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-step-list.tsx"}],[7156,{"../../../components/component-library":6528,"../../../helpers/constants/design-system":6979,classnames:4314,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("classnames"))&&a.__esModule?a:{default:a},s=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const c=o.forwardRef((({size:e=s.IconSize.Md,color:t,className:n="",style:a},l)=>o.createElement(s.Box,{className:(0,r.default)(n,"mm-icon",`mm-icon--size-${e}`),ref:l,as:"span",display:i.Display.InlineBlock,style:{height:"12px",width:"12px",border:`1px solid var(--color-${t})`,borderRadius:"50%",backgroundColor:`var(--color-${i.BackgroundColor.backgroundDefault})`,zIndex:1,...a}})));n.default=c}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/hollow-circle.tsx"}],[7157,{"../../../components/component-library":6528,"../../../helpers/constants/design-system":6979,"./hollow-circle":7156,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({iconSize:e,color:t}){return a.default.createElement(o.Box,{style:{position:"relative"}},a.default.createElement(o.Box,{className:"bridge-transaction-details__icon-loading",backgroundColor:r.BackgroundColor.primaryMuted,display:r.Display.Flex,justifyContent:r.JustifyContent.center,alignItems:r.AlignItems.center,borderRadius:r.BorderRadius.full,style:{width:"2rem",height:"2rem"}}),a.default.createElement(s.default,{size:e,color:t,style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",borderWidth:"2px"}}))};var a=i(e("react")),o=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),s=i(e("./hollow-circle"));function i(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/pulsing-circle.tsx"}],[7158,{"../../../../shared/types/bridge-status":6040,"../../../components/component-library":6528,"../../../helpers/constants/design-system":6979,classnames:4314,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({type:e}){return a.default.createElement(r.Box,{width:s.BlockSize.Full,backgroundColor:s.BackgroundColor.backgroundAlternative,borderRadius:s.BorderRadius.pill},a.default.createElement(r.Box,{width:s.BlockSize.Full,backgroundColor:s.BackgroundColor.primaryDefault,borderRadius:s.BorderRadius.pill,className:(0,o.default)({"bridge-transaction-details__segment":!0,"bridge-transaction-details__segment--pending":e===i.StatusTypes.PENDING,"bridge-transaction-details__segment--complete":e===i.StatusTypes.COMPLETE})}))};var a=l(e("react")),o=l(e("classnames")),r=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),i=e("../../../../shared/types/bridge-status");function l(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/segment.tsx"}],[7159,{"../../../../shared/types/bridge-status":6040,"../../../components/component-library":6528,"../../../helpers/constants/design-system":6979,"./hollow-circle":7156,"./pulsing-circle":7157,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({stepStatus:e,isLastItem:t,isEdgeComplete:n,children:c}){return a.default.createElement(a.default.Fragment,null,(null===e||e===o.StatusTypes.UNKNOWN)&&a.default.createElement(i.default,{size:u,color:s.IconColor.iconMuted}),e===o.StatusTypes.PENDING&&a.default.createElement(l.default,{iconSize:u,color:s.IconColor.primaryDefault}),e===o.StatusTypes.COMPLETE&&a.default.createElement(r.Icon,{name:r.IconName.FullCircle,color:s.IconColor.primaryDefault,size:u}),c,!t&&a.default.createElement(d,{color:n?s.IconColor.primaryDefault:s.IconColor.iconMuted}),!t&&a.default.createElement("div",null))};var a=c(e("react")),o=e("../../../../shared/types/bridge-status"),r=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),i=c(e("./hollow-circle")),l=c(e("./pulsing-circle"));function c(e){return e&&e.__esModule?e:{default:e}}const u=r.IconSize.Xs,d=({color:e})=>a.default.createElement("div",{style:{height:"60px",marginTop:"-1rem",marginBottom:"-1rem",width:"1px",backgroundColor:`var(--color-${e})`,zIndex:.1}})}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/step-progress-bar-item.tsx"}],[7160,{"../../../components/component-library":6528,"../../../helpers/constants/design-system":6979,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({title:e,value:t}){return o.default.createElement(r.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween},o.default.createElement(r.Text,{width:s.BlockSize.OneFourth,paddingRight:1,variant:s.TextVariant.bodyMd},e),o.default.createElement(r.Text,{display:s.Display.Flex,width:s.BlockSize.ThreeFourths,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.flexEnd,textAlign:s.TextAlign.Right,paddingLeft:1,variant:s.TextVariant.bodyMd},t))};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system")}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/transaction-detail-row.tsx"}],[7161,{"../../../../shared/constants/bridge":5958,"../../../../shared/constants/common":5959,"../../../../shared/constants/metametrics":5968,"../../../../shared/modules/conversion.utils":6015,"../../../../shared/modules/selectors/networks":6033,"../../../../shared/types/bridge-status":6040,"../../../components/app/confirm/info/row":6139,"../../../components/app/transaction-activity-log":6425,"../../../components/app/transaction-breakdown/transaction-breakdown-utils":6435,"../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component":6450,"../../../components/component-library":6528,"../../../components/multichain/pages/page":6761,"../../../contexts/metametrics":6943,"../../../ducks/bridge-status/selectors":6954,"../../../ducks/locale/locale":6966,"../../../helpers/constants/common":6977,"../../../helpers/constants/design-system":6979,"../../../helpers/utils/util":7028,"../../../hooks/bridge/useBridgeChainInfo":7037,"../../../hooks/useI18nContext":7081,"../../../selectors":7653,"../../../selectors/multichain":7656,"../../confirmations/components/simulation-details/formatAmount":7313,"./bridge-explorer-links":7153,"./bridge-step-list":7155,"./transaction-detail-row":7160,"bignumber.js":4195,react:5502,"react-redux":5460,"react-router-dom":5487},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIsDelayed=n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),s=e("bignumber.js"),i=e("../../../components/component-library"),l=e("../../../components/multichain/pages/page"),c=e("../../../ducks/bridge-status/selectors"),u=O(e("../../../hooks/bridge/useBridgeChainInfo")),d=e("../../../../shared/modules/selectors/networks"),m=e("../../../components/app/transaction-breakdown/transaction-breakdown-utils"),f=e("../../../../shared/modules/conversion.utils"),p=O(e("../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component")),g=e("../../../../shared/constants/common"),h=e("../../../helpers/constants/common"),y=e("../../../../shared/types/bridge-status"),v=e("../../../helpers/constants/design-system"),k=e("../../../helpers/utils/util"),T=e("../../../components/app/confirm/info/row"),b=e("../../../hooks/useI18nContext"),x=e("../../../selectors"),w=e("../../../../shared/constants/metametrics"),C=e("../../../contexts/metametrics"),E=e("../../confirmations/components/simulation-details/formatAmount"),_=e("../../../ducks/locale/locale"),S=O(e("../../../components/app/transaction-activity-log")),I=e("../../../../shared/constants/bridge"),M=e("../../../selectors/multichain"),P=O(e("./transaction-detail-row")),A=O(e("./bridge-explorer-links")),D=O(e("./bridge-step-list"));function O(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}const N=(e,t)=>{var n;if(!e||!t)return undefined;const a=e.defaultBlockExplorerUrlIndex;if(a===undefined)return undefined;return`${null===(n=e.blockExplorerUrls[a])||void 0===n?void 0:n.replace(/\/$/u,"")}/tx/${t}`},R=(e,t)=>Boolean(e===y.StatusTypes.PENDING&&(null==t?void 0:t.startTime)&&Date.now()>t.startTime+1e3*t.estimatedProcessingTimeInSeconds);n.getIsDelayed=R;const B={[y.StatusTypes.PENDING]:v.TextColor.warningDefault,[y.StatusTypes.COMPLETE]:v.TextColor.successDefault,[y.StatusTypes.FAILED]:v.TextColor.errorDefault,[y.StatusTypes.UNKNOWN]:v.TextColor.errorDefault};n.default=()=>{var e;const t=(0,b.useI18nContext)(),n=(0,o.useSelector)(_.getIntlLocale),O=(0,a.useContext)(C.MetaMetricsContext),F=(0,o.useSelector)((e=>e)),j=(0,r.useHistory)(),$=(0,r.useLocation)(),{srcTxMetaId:L}=(0,r.useParams)(),W=(0,o.useSelector)(c.selectBridgeHistoryForAccount),q=(0,o.useSelector)(x.selectedAddressTxListSelector),G=(0,o.useSelector)(d.getNetworkConfigurationsByChainId),{transactionGroup:H,isEarliestNonce:V}=$.state,U=q.find((e=>e.id===L)),z=L?W[L]:undefined,{srcNetwork:K,destNetwork:Q}=(0,u.default)({bridgeHistoryItem:z,srcTxMeta:U}),J=null==U?void 0:U.hash,X=N(K,J),Y=null==z||null===(e=z.status.destChain)||void 0===e?void 0:e.txHash,Z=N(Q,Y),ee=z?null==z?void 0:z.status.status:y.StatusTypes.PENDING,te=K?(0,M.getImageForChainId)(K.chainId):undefined,ne=Q?(0,M.getImageForChainId)(Q.chainId):undefined,ae=I.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==K?void 0:K.chainId],oe=I.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==Q?void 0:Q.chainId],re=U?(0,m.getTransactionBreakdownData)({state:F,transaction:U,isTokenApprove:!1}):undefined,se=(({locale:e,bridgeHistoryItem:t})=>{var n;return null!=t&&null!==(n=t.pricingData)&&void 0!==n&&n.amountSent?(0,E.formatAmount)(e,new s.BigNumber(t.pricingData.amountSent)):undefined})({locale:n,bridgeHistoryItem:z}),ie=(({locale:e,bridgeHistoryItem:t})=>{var n;if(!t)return undefined;const a=null===(n=t.status.destChain)||void 0===n?void 0:n.amount;if(!a)return undefined;const o=t.quote.destAsset.decimals;return(0,E.formatAmount)(e,new s.BigNumber(a).dividedBy(10**o))})({locale:n,bridgeHistoryItem:z}),le=R(ee,z),ce=a.default.createElement(i.Box,{display:v.Display.Flex,gap:1,alignItems:v.AlignItems.center},K&&a.default.createElement(i.AvatarNetwork,{size:i.AvatarNetworkSize.Xs,src:te,name:null==K?void 0:K.name}),ae),ue=a.default.createElement(i.Box,{display:v.Display.Flex,gap:1,alignItems:v.AlignItems.center},Q&&a.default.createElement(i.AvatarNetwork,{size:i.AvatarNetworkSize.Xs,src:ne,name:null==Q?void 0:Q.name}),oe);return a.default.createElement("div",{className:"bridge__container"},a.default.createElement(l.Header,{className:"bridge__header",startAccessory:a.default.createElement(i.ButtonIcon,{iconName:i.IconName.ArrowLeft,size:i.ButtonIconSize.Sm,ariaLabel:t("back"),onClick:()=>j.goBack()})},t("bridge")," details"),a.default.createElement(l.Content,{className:"bridge-transaction-details__content"},a.default.createElement(i.Box,{display:v.Display.Flex,flexDirection:v.FlexDirection.Column,gap:4},le&&a.default.createElement(i.BannerAlert,{title:t("bridgeTxDetailsDelayedTitle"),severity:i.BannerAlertSeverity.Warning},a.default.createElement(i.Text,{display:v.Display.Flex,alignItems:v.AlignItems.center},t("bridgeTxDetailsDelayedDescription"),"",a.default.createElement(i.ButtonLink,{externalLink:!0,href:h.SUPPORT_REQUEST_LINK,onClick:()=>{O({category:w.MetaMetricsEventCategory.Home,event:w.MetaMetricsEventName.SupportLinkClicked,properties:{url:h.SUPPORT_REQUEST_LINK,location:"Bridge Tx Details"}},{contextPropsIntoEventProperties:[w.MetaMetricsContextProp.PageTitle]})}},t("bridgeTxDetailsDelayedDescriptionSupport")),".")),ee!==y.StatusTypes.COMPLETE&&(z||U)&&a.default.createElement(D.default,{bridgeHistoryItem:z,srcChainTxMeta:U,networkConfigurationsByChainId:G}),a.default.createElement(A.default,{srcChainId:null==K?void 0:K.chainId,destChainId:null==Q?void 0:Q.chainId,srcBlockExplorerUrl:X,destBlockExplorerUrl:Z}),a.default.createElement(T.ConfirmInfoRowDivider,null),a.default.createElement(i.Box,{display:v.Display.Flex,flexDirection:v.FlexDirection.Column,gap:2},a.default.createElement(P.default,{title:t("bridgeTxDetailsStatus"),value:a.default.createElement(i.Text,{textTransform:v.TextTransform.Capitalize,color:ee?B[ee]:undefined},null==ee?void 0:ee.toLowerCase())}),a.default.createElement(P.default,{title:t("bridgeTxDetailsBridging"),value:a.default.createElement(i.Box,{display:v.Display.Flex,gap:1,alignItems:v.AlignItems.center,flexWrap:v.FlexWrap.Wrap,justifyContent:v.JustifyContent.flexEnd},ce,a.default.createElement(i.Icon,{name:i.IconName.Arrow2Right,size:i.IconSize.Sm}),ue)}),a.default.createElement(P.default,{title:t("bridgeTxDetailsTimestamp"),value:t("bridgeTxDetailsTimestampValue",[(0,k.formatDate)(null==U?void 0:U.time,"MMM d, yyyy"),(0,k.formatDate)(null==U?void 0:U.time,"hh:mm a")])})),a.default.createElement(T.ConfirmInfoRowDivider,null),a.default.createElement(i.Box,{display:v.Display.Flex,flexDirection:v.FlexDirection.Column,gap:2},a.default.createElement(P.default,{title:t("bridgeTxDetailsYouSent"),value:a.default.createElement(i.Box,{display:v.Display.Flex,gap:1,alignItems:v.AlignItems.center,flexWrap:v.FlexWrap.Wrap,justifyContent:v.JustifyContent.flexEnd},t("bridgeTxDetailsTokenAmountOnChain",[se,null==z?void 0:z.quote.srcAsset.symbol]),ce)}),ie&&(null==z?void 0:z.quote.destAsset.symbol)&&a.default.createElement(P.default,{title:t("bridgeTxDetailsYouReceived"),value:a.default.createElement(i.Box,{display:v.Display.Flex,gap:1,alignItems:v.AlignItems.center,flexWrap:v.FlexWrap.Wrap,justifyContent:v.JustifyContent.flexEnd},t("bridgeTxDetailsTokenAmountOnChain",[ie,null==z?void 0:z.quote.destAsset.symbol]),ue)}),a.default.createElement(P.default,{title:t("bridgeTxDetailsTotalGasFee"),value:a.default.createElement(p.default,{currency:null==re?void 0:re.nativeCurrency,denomination:g.EtherDenomination.ETH,numberOfDecimals:6,value:null==re?void 0:re.hexGasTotal,type:h.PRIMARY})})),a.default.createElement(T.ConfirmInfoRowDivider,null),a.default.createElement(i.Box,{display:v.Display.Flex,flexDirection:v.FlexDirection.Column,gap:2},a.default.createElement(P.default,{title:t("bridgeTxDetailsNonce"),value:null!=U&&U.txParams.nonce?(0,f.hexToDecimal)(null==U?void 0:U.txParams.nonce):undefined}),a.default.createElement(S.default,{transactionGroup:H,className:"transaction-list-item-details__transaction-activity-log",isEarliestNonce:V})))))}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/transaction-details.tsx"}],[7163,{"../../../shared/constants/metametrics":5968,"../../../shared/constants/network":5972,"../../../shared/constants/transaction":5986,"../../../shared/modules/selectors/networks":6033,"../../../shared/modules/string-utils":6036,"../../components/app/assets/nfts/nft-default-image/nft-default-image":6092,"../../components/app/network-account-balance-header/network-account-balance-header":6257,"../../components/component-library":6528,"../../components/ui/page-container":6890,"../../components/ui/site-origin/site-origin":6908,"../../contexts/i18n":6939,"../../contexts/metametrics":6943,"../../ducks/history/history":6964,"../../helpers/constants/common":6977,"../../helpers/constants/design-system":6979,"../../helpers/utils/util":7028,"../../hooks/useCurrencyDisplay":7071,"../../hooks/useOriginMetadata":7095,"../../hooks/useUserPreferencedCurrency":7116,"../../selectors":7653,"../../store/actions":7667,"../confirmations/components/confirm/nav":7267,"@metamask/etherscan-link":1976,"@metamask/rpc-errors":2715,classnames:4314,react:5502,"react-redux":5460,"react-router-dom":5487},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),s=e("@metamask/rpc-errors"),i=e("@metamask/etherscan-link"),l=A(e("classnames")),c=e("../../components/ui/page-container"),u=e("../../contexts/i18n"),d=e("../../contexts/metametrics"),m=e("../../ducks/history/history"),f=e("../../store/actions"),p=e("../../../shared/constants/metametrics"),g=e("../../../shared/constants/transaction"),h=e("../../components/component-library"),y=e("../../../shared/modules/selectors/networks"),v=e("../../selectors"),k=A(e("../../components/app/assets/nfts/nft-default-image/nft-default-image")),T=e("../../helpers/utils/util"),b=e("../../helpers/constants/design-system"),x=A(e("../../components/app/network-account-balance-header/network-account-balance-header")),w=e("../../../shared/constants/network"),C=A(e("../../components/ui/site-origin/site-origin")),E=e("../../helpers/constants/common"),_=e("../../hooks/useUserPreferencedCurrency"),S=e("../../hooks/useCurrencyDisplay"),I=e("../../hooks/useOriginMetadata"),M=e("../../../shared/modules/string-utils"),P=e("../confirmations/components/confirm/nav");function A(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}n.default=()=>{var e,t;const n=(0,a.useContext)(u.I18nContext),A=(0,o.useDispatch)(),D=(0,r.useHistory)(),O=(0,o.useSelector)(m.getMostRecentOverviewPage),F=(0,o.useSelector)(v.getSuggestedNfts).sort(((e,t)=>e.requestData.asset.tokenId-t.requestData.asset.tokenId)),N=(0,o.useSelector)(v.getRpcPrefsForCurrentProvider),R=(0,o.useSelector)(y.getCurrentChainId),B=(0,o.useSelector)(v.getIpfsGateway),j=(0,a.useContext)(d.MetaMetricsContext),$=(0,o.useSelector)(v.getNetworkIdentifier),{address:L}=(0,o.useSelector)(v.getSelectedInternalAccount),W=(0,o.useSelector)(v.getSelectedAccountCachedBalance),q=(0,o.useSelector)((e=>(0,v.getAddressBookEntryOrAccountName)(e,L))),[G,H]=(0,a.useState)([]),V=w.NETWORK_TO_NAME_MAP[R]||$,{currency:U,numberOfDecimals:z}=(0,_.useUserPreferencedCurrency)(E.PRIMARY,{ethNumberOfDecimals:4}),[K]=(0,S.useCurrencyDisplay)(W,{numberOfDecimals:z,currency:U}),Q=(0,I.useOriginMetadata)(null===(e=F[0])||void 0===e?void 0:e.origin)||{},J=null===(t=F[0])||void 0===t?void 0:t.id,X=(0,a.useCallback)((async()=>{await Promise.all(F.map((async({requestData:{asset:e},id:t})=>{await A((0,f.resolvePendingApproval)(t,null)),j({event:p.MetaMetricsEventName.NftAdded,category:p.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_contract_address:e.address,token_symbol:e.symbol,token_id:e.tokenId,token_standard:e.standard,asset_type:g.AssetType.NFT,source:p.MetaMetricsTokenEventSource.Dapp}})}))),D.push(O)}),[A,D,j,O,F]),Y=(0,a.useCallback)((async()=>{await Promise.all(F.map((async({id:e})=>A((0,f.rejectPendingApproval)(e,(0,s.serializeError)(s.providerErrors.userRejectedRequest())))))),D.push(O)}),[A,D,O,F]);let Z,ee;if((0,a.useEffect)((()=>{F.length||D.push(O)}),[D,O,F]),F.length)try{const e=new URL(F[0].origin);Z=e.host,ee=e.href}catch{Z="dapp"}return(0,a.useEffect)((()=>{(async()=>{const e=await Promise.all(F.map((async e=>{const t=await(0,T.getAssetImageURL)(e.requestData.asset.image,B);return{...e,requestData:{...e.requestData,asset:{...e.requestData.asset,assetImageUrl:t}}}})));H(e)})()}),[]),a.default.createElement(h.Box,{height:b.BlockSize.Full,width:b.BlockSize.Full,display:b.Display.Flex,flexDirection:b.FlexDirection.Column},a.default.createElement(P.Nav,{confirmationId:J}),a.default.createElement(h.Box,{paddingBottom:2,className:"confirm-add-suggested-nft__header"},a.default.createElement(x.default,{accountName:q,accountBalance:K,accountAddress:L,networkName:V,chainId:R}),a.default.createElement(h.Box,{paddingTop:4,paddingRight:4,paddingLeft:4,display:b.Display.Flex,justifyContent:b.JustifyContent.center},a.default.createElement(C.default,{chip:!0,siteOrigin:Q.origin,title:Q.origin,iconSrc:Q.iconUrl,iconName:Q.hostname})),a.default.createElement(h.Text,{variant:b.TextVariant.headingLg,textAlign:b.TextAlign.Center,margin:2},n("addSuggestedNFTs")),a.default.createElement(h.Text,{variant:b.TextVariant.bodyMd,textAlign:b.TextAlign.Center},n("wantsToAddThisAsset",["dapp"===Z?a.default.createElement(h.Text,{key:Z,variant:b.TextVariant.bodyMd,fontWeight:"bold"},Z):a.default.createElement(h.ButtonLink,{key:Z,size:h.BUTTON_SIZES.INHERIT,href:ee,target:"_blank"},Z)]))),a.default.createElement(h.Box,{className:"confirm-add-suggested-nft__content"},a.default.createElement(h.Box,{className:"confirm-add-suggested-nft__card",padding:2,borderRadius:b.BorderRadius.MD},a.default.createElement(h.Box,{className:(0,l.default)({"confirm-add-suggested-nft__nft-list":F.length>1})},F.map((({id:e,requestData:{asset:{address:t,tokenId:n,symbol:o,name:r}}})=>{const l=G.find((e=>e.requestData.asset.tokenId===n&&(0,M.isEqualCaseInsensitive)(e.requestData.asset.address,t))),c=l?l.requestData.asset.assetImageUrl:"",u=(0,i.getTokenTrackerLink)(t,R,null,null,{blockExplorerUrl:(null==N?void 0:N.blockExplorerUrl)??null});return 1===F.length?a.default.createElement(h.Box,{className:"confirm-add-suggested-nft__nft-single",key:`confirm-add-suggested-nft__nft-single-${e}`,borderRadius:b.BorderRadius.MD,margin:0,padding:0},c?a.default.createElement("img",{className:"confirm-add-suggested-nft__nft-single-image",src:c,alt:r||n}):a.default.createElement(k.default,{className:"confirm-add-suggested-nft__nft-single-image-default",tokenId:n,name:r||o||(0,T.shortenAddress)(t)}),a.default.createElement(h.Box,{padding:1,display:b.Display.Flex,flexDirection:b.FlexDirection.Row,justifyContent:b.JustifyContent.spaceBetween,alignItems:b.AlignItems.Center},a.default.createElement(h.Box,{display:b.Display.Flex,flexDirection:b.FlexDirection.Column,justifyContent:b.JustifyContent.spaceEvenly,flexWrap:b.FlexWrap.NoWrap,width:b.BlockSize.Full,className:"confirm-add-suggested-nft__nft-single-sub-details"},N.blockExplorerUrl?a.default.createElement(h.ButtonLink,{className:"confirm-add-suggested-nft__nft-name",href:u,title:t,target:"_blank",size:h.BUTTON_SIZES.INHERIT},r||o||(0,T.shortenAddress)(t)):a.default.createElement(h.Text,{variant:b.TextVariant.bodyMd,className:"confirm-add-suggested-nft__nft-name",title:t},r||o||(0,T.shortenAddress)(t)),a.default.createElement(h.Text,{variant:b.TextVariant.bodyMd,color:b.TextColor.textAlternative,className:"confirm-add-suggested-nft__nft-tokenId"},"#",n)))):a.default.createElement(h.Box,{display:b.Display.Flex,flexDirection:b.FlexDirection.Row,flexWrap:b.FlexWrap.NoWrap,alignItems:b.AlignItems.Center,justifyContent:b.JustifyContent.spaceBetween,marginBottom:4,className:"confirm-add-suggested-nft__nft-list-item",key:`${t}-${n}`},a.default.createElement(h.Box,{display:b.Display.Flex,flexDirection:b.FlexDirection.Row,flexWrap:b.FlexWrap.NoWrap,alignItems:b.AlignItems.Center,justifyContent:b.JustifyContent.spaceBetween},c?a.default.createElement("img",{className:"confirm-add-suggested-nft__nft-image",src:c,alt:r||n}):a.default.createElement(k.default,{className:"confirm-add-suggested-nft__nft-image-default"}),a.default.createElement(h.Box,{display:b.Display.Flex,flexDirection:b.FlexDirection.Column,justifyContent:b.JustifyContent.spaceEvenly,flexWrap:b.FlexWrap.NoWrap,width:b.BlockSize.Full,className:"confirm-add-suggested-nft__nft-sub-details"},N.blockExplorerUrl?a.default.createElement(h.ButtonLink,{className:"confirm-add-suggested-nft__nft-name",href:u,title:t,target:"_blank",size:h.BUTTON_SIZES.INHERIT},r||o||(0,T.shortenAddress)(t)):a.default.createElement(h.Text,{variant:b.TextVariant.bodySm,className:"confirm-add-suggested-nft__nft-name",title:t},r||o||(0,T.shortenAddress)(t)),a.default.createElement(h.Text,{variant:b.TextVariant.bodySm,color:b.TextColor.textAlternative,className:"confirm-add-suggested-nft__nft-tokenId"},"#",n))),a.default.createElement(h.ButtonIcon,{className:"confirm-add-suggested-nft__nft-remove","data-testid":`confirm-add-suggested-nft__nft-remove-${e}`,iconName:h.IconName.Close,size:h.ButtonIconSize.Sm,color:b.IconColor.iconMuted,onClick:t=>{t.preventDefault(),t.stopPropagation(),A((0,f.rejectPendingApproval)(e,(0,s.serializeError)(s.providerErrors.userRejectedRequest())))}}))}))))),a.default.createElement(c.PageContainerFooter,{cancelText:n("cancel"),submitText:1===F.length?n("addNft"):n("addNfts"),onCancel:Y,onSubmit:X}))}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-nft/confirm-add-suggested-nft.js"}],[7164,{"./confirm-add-suggested-nft":7163},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./confirm-add-suggested-nft"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-nft/index.js"}],[7165,{"../../../shared/constants/metametrics":5968,"../../../shared/constants/transaction":5986,"../../../shared/modules/string-utils":6036,"../../components/component-library":6528,"../../components/ui/identicon":6864,"../../components/ui/page-container":6890,"../../components/ui/token-balance":6923,"../../contexts/i18n":6939,"../../contexts/metametrics":6943,"../../ducks/history/history":6964,"../../ducks/metamask/metamask":6967,"../../helpers/constants/design-system":6979,"../../helpers/constants/zendesk-url":6992,"../../selectors":7653,"../../store/actions":7667,"../confirmations/components/confirm/nav":7267,"@metamask/rpc-errors":2715,react:5502,"react-redux":5460,"react-router-dom":5487},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),s=e("@metamask/rpc-errors"),i=e("../../components/component-library"),l=w(e("../../components/ui/identicon")),c=w(e("../../components/ui/token-balance")),u=e("../../components/ui/page-container"),d=e("../../contexts/i18n"),m=e("../../contexts/metametrics"),f=e("../../ducks/history/history"),p=e("../../ducks/metamask/metamask"),g=w(e("../../helpers/constants/zendesk-url")),h=e("../../../shared/modules/string-utils"),y=e("../../store/actions"),v=e("../../../shared/constants/metametrics"),k=e("../../../shared/constants/transaction"),T=e("../../selectors"),b=e("../../helpers/constants/design-system"),x=e("../confirmations/components/confirm/nav");function w(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}n.default=()=>{var e;const t=(0,a.useContext)(d.I18nContext),n=(0,o.useDispatch)(),w=(0,r.useHistory)(),C=(0,o.useSelector)(f.getMostRecentOverviewPage),E=(0,o.useSelector)(T.getSuggestedTokens),_=(0,o.useSelector)(p.getTokens),S=(0,a.useContext)(m.MetaMetricsContext),I=null===(e=E[0])||void 0===e?void 0:e.id,M=(0,a.useMemo)((()=>function(e,t){const n=e.find((({requestData:{asset:e}})=>{const n=t.find((({address:t})=>(0,h.isEqualCaseInsensitive)(t,null==e?void 0:e.address)));return Boolean(n)}));return Boolean(n)}(E,_)&&a.default.createElement(i.BannerAlert,{severity:b.Severity.Warning,marginTop:4},t("knownTokenWarning",[a.default.createElement(i.Button,{variant:i.ButtonVariant.Link,key:"confirm-add-suggested-token-duplicate-warning",className:"confirm-add-suggested-token__link",externalLink:!0,size:i.ButtonLinkSize.Inherit,href:g.default.TOKEN_SAFETY_PRACTICES},t("learnScamRisk"))]))),[E,_,t]),P=(0,a.useMemo)((()=>function(e,t){const n=e.find((({requestData:{asset:e}})=>{const n=t.find((t=>(0,h.isEqualCaseInsensitive)(t.symbol,null==e?void 0:e.symbol)&&!(0,h.isEqualCaseInsensitive)(t.address,null==e?void 0:e.address)));return Boolean(n)}));return Boolean(n)}(E,_)&&a.default.createElement(i.BannerAlert,{marginTop:4,severity:b.Severity.Warning,description:t("reusedTokenNameWarning")})),[E,_,t]),A=(0,a.useCallback)((async()=>{await Promise.all(E.map((async({requestData:{asset:e},id:t})=>{await n((0,y.resolvePendingApproval)(t,null)),S({event:v.MetaMetricsEventName.TokenAdded,category:v.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,unlisted:e.unlisted,source:v.MetaMetricsTokenEventSource.Dapp,token_standard:k.TokenStandard.ERC20,asset_type:k.AssetType.token}})}))),w.push(C)}),[n,w,S,C,E]),D=(0,a.useCallback)((async()=>{await Promise.all(E.map((({id:e})=>n((0,y.rejectPendingApproval)(e,(0,s.serializeError)(s.providerErrors.userRejectedRequest())))))),w.push(C)}),[n,w,C,E]);return(0,a.useEffect)((()=>{E.length||w.push(C)}),[]),a.default.createElement("div",{className:"page-container"},a.default.createElement(x.Nav,{confirmationId:I}),a.default.createElement("div",{className:"page-container__header"},a.default.createElement("div",{className:"page-container__title"},t("addSuggestedTokens")),a.default.createElement("div",{className:"page-container__subtitle"},t("likeToImportTokens")),M,P),a.default.createElement("div",{className:"page-container__content"},a.default.createElement("div",{className:"confirm-add-suggested-token"},a.default.createElement("div",{className:"confirm-add-suggested-token__header"},a.default.createElement("div",{className:"confirm-add-suggested-token__token"},t("token")),a.default.createElement("div",{className:"confirm-add-suggested-token__balance"},t("balance"))),a.default.createElement("div",{className:"confirm-add-suggested-token__token-list"},E.map((({requestData:{asset:e}})=>{return a.default.createElement("div",{className:"confirm-add-suggested-token__token-list-item",key:e.address},a.default.createElement("div",{className:"confirm-add-suggested-token__token confirm-add-suggested-token__data"},a.default.createElement(l.default,{className:"confirm-add-suggested-token__token-icon",diameter:48,address:e.address,image:e.image}),a.default.createElement("div",{className:"confirm-add-suggested-token__name"},(t=e.name,n=e.symbol,t===undefined?n:`${t} (${n})`))),a.default.createElement("div",{className:"confirm-add-suggested-token__balance"},a.default.createElement(c.default,{token:e})));var t,n}))))),a.default.createElement(u.PageContainerFooter,{cancelText:t("cancel"),submitText:t("addToken"),onCancel:D,onSubmit:A,disabled:0===E.length}))}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-token/confirm-add-suggested-token.js"}],[7166,{"./confirm-add-suggested-token":7165},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./confirm-add-suggested-token"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-token/index.js"}],[7167,{"../../../shared/constants/common":5959,"../../../shared/constants/copy":5960,"../../../shared/constants/metametrics":5968,"../../../shared/constants/time":5984,"../../../shared/modules/Numeric":6006,"../../components/app/account-list-item":6055,"../../components/component-library":6528,"../../components/ui/page-container":6890,"../../components/ui/tooltip":6925,"../../contexts/metametrics":6943,"../../ducks/confirm-transaction/confirm-transaction.duck":6960,"../../ducks/history/history":6964,"../../ducks/metamask/metamask":6967,"../../helpers/constants/design-system":6979,"../../hooks/useI18nContext":7081,"../../hooks/useScrollRequired":7099,"../../selectors":7653,"../../store/actions":7667,"../confirmations/components/confirm/nav":7267,classnames:4314,"copy-to-clipboard":4355,lodash:5108,loglevel:5114,"prop-types":5256,react:5502,"react-redux":5460,"react-router-dom":5487},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=P(e("prop-types")),r=P(e("copy-to-clipboard")),s=P(e("classnames")),i=P(e("loglevel")),l=e("react-redux"),c=e("react-router-dom"),u=e("lodash"),d=P(e("../../components/app/account-list-item")),m=P(e("../../components/ui/tooltip")),f=e("../../components/ui/page-container"),p=e("../../ducks/history/history"),g=e("../../ducks/metamask/metamask"),h=e("../../../shared/constants/metametrics"),y=e("../../../shared/constants/time"),v=e("../../../shared/modules/Numeric"),k=e("../../../shared/constants/common"),T=e("../../components/component-library"),b=e("../../../shared/constants/copy"),x=e("../../hooks/useI18nContext"),w=e("../../hooks/useScrollRequired"),C=e("../../contexts/metametrics"),E=e("../../helpers/constants/design-system"),_=e("../../ducks/confirm-transaction/confirm-transaction.duck"),S=e("../../store/actions"),I=e("../../selectors"),M=e("../confirmations/components/confirm/nav");function P(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}const D=({approvalId:e})=>{const t=(0,x.useI18nContext)();return a.default.createElement(a.default.Fragment,null,a.default.createElement(M.Nav,{confirmationId:e}),a.default.createElement("div",{className:"request-decrypt-message__header"},a.default.createElement("div",{className:"request-decrypt-message__header-background"}),a.default.createElement("div",{className:"request-decrypt-message__header__text"},t("decryptRequest")),a.default.createElement("div",{className:"request-decrypt-message__header__tip-container"},a.default.createElement("div",{className:"request-decrypt-message__header__tip"}))))},O=({fromAccount:e,nativeCurrency:t})=>{const n=(0,x.useI18nContext)(),o=new v.Numeric(e.balance,16,k.EtherDenomination.WEI).toDenomination(k.EtherDenomination.ETH).round(6).toBase(10).toString();return a.default.createElement("div",{className:"request-decrypt-message__account-info"},a.default.createElement("div",{className:"request-decrypt-message__account"},a.default.createElement("div",{className:"request-decrypt-message__account-text"},`${n("account")}:`),a.default.createElement("div",{className:"request-decrypt-message__account-item"},a.default.createElement(d.default,{account:e}))),a.default.createElement("div",{className:"request-decrypt-message__balance"},a.default.createElement("div",{className:"request-decrypt-message__balance-text"},`${n("balance")}:`),a.default.createElement("div",{className:"request-decrypt-message__balance-value"},`${o} ${t}`)))};O.propTypes={fromAccount:o.default.shape({balance:o.default.string.isRequired}).isRequired,nativeCurrency:o.default.string.isRequired};const F=({name:e,notice:t,targetSubjectMetadata:n})=>a.default.createElement("div",{className:"request-decrypt-message__visual"},a.default.createElement("section",null,null!=n&&n.iconUrl?a.default.createElement("img",{className:"request-decrypt-message__visual-identicon",src:n.iconUrl,alt:""}):a.default.createElement("i",{className:"request-decrypt-message__visual-identicon--default"},e.charAt(0).toUpperCase()),a.default.createElement("div",{className:"request-decrypt-message__notice"},t)));F.propTypes={name:o.default.string.isRequired,notice:o.default.string.isRequired,targetSubjectMetadata:o.default.shape({iconUrl:o.default.string})};const N=({isScrollable:e,isScrolledToBottom:t,hasDecrypted:n,hasError:o,scrollToBottom:r})=>{const s=(0,x.useI18nContext)();return n&&!o&&e&&!t?a.default.createElement(T.ButtonIcon,{ariaLabel:s("scrollDown"),backgroundColor:E.BackgroundColor.primaryDefault,borderRadius:E.BorderRadius.full,className:"scroll-to-bottom__button",color:E.IconColor.primaryInverse,"data-testid":"scroll-to-bottom",display:E.Display.Flex,iconName:T.IconName.Arrow2Down,onClick:r,size:T.ButtonIconSize.Md}):null};N.propTypes={isScrollable:o.default.bool.isRequired,isScrolledToBottom:o.default.bool.isRequired,hasDecrypted:o.default.bool.isRequired,hasError:o.default.bool.isRequired,scrollToBottom:o.default.func.isRequired};const R=(0,a.forwardRef)((({isScrollable:e,isScrolledToBottom:t,onScroll:n,rawMessage:o,scrollToBottom:i,setRawMessage:c,messageData:u},d)=>{const f=(0,l.useDispatch)(),p=(0,a.useContext)(C.MetaMetricsContext),g=(0,x.useI18nContext)(),[v,k]=(0,a.useState)(!1),[w,_]=(0,a.useState)(!1),[I,M]=(0,a.useState)(!1),[P,A]=(0,a.useState)(!1),[D,O]=(0,a.useState)("");return a.default.createElement("div",{className:"request-decrypt-message__message-container"},a.default.createElement("div",{className:"request-decrypt-message__message"},a.default.createElement("div",{className:"request-decrypt-message__message-text",ref:d,onScroll:n},I||P?o:u.msgParams.data,P?D:""),a.default.createElement("div",{className:(0,s.default)("request-decrypt-message__message-cover",{"request-decrypt-message__message-lock--pressed":I||P})}),a.default.createElement("div",{className:(0,s.default)("request-decrypt-message__message-lock",{"request-decrypt-message__message-lock--pressed":I||P}),"data-testid":"message-lock",onClick:async e=>{e.stopPropagation(e);const t=u.msgParams;t.metamaskId=u.id;const n=await f((0,S.decryptMsgInline)(t));n.error?(A(!0),O(g("decryptInlineError",[n.error]))):(M(!0),c(n.rawSig))}},a.default.createElement("div",{className:"request-decrypt-message__message-lock__container"},a.default.createElement("i",{className:"fa fa-lock fa-lg request-decrypt-message__message-lock__container__icon"}),a.default.createElement("div",{className:"request-decrypt-message__message-lock__container__text"},g("decryptMetamask"))))),a.default.createElement(N,{isScrollable:e,hasError:P,hasDecrypted:I,isScrolledToBottom:t,scrollToBottom:i}),I?a.default.createElement("div",{className:(0,s.default)({"request-decrypt-message__message-copy":!0,"request-decrypt-message__message-copy--pressed":v}),onClick:()=>{(0,r.default)(o,b.COPY_OPTIONS),p({category:h.MetaMetricsEventCategory.Messages,event:"Copy",properties:{action:"Decrypt Message Copy",legacy_event:!0}}),_(!0),setTimeout((()=>_(!1)),3*y.SECOND)},onMouseDown:()=>k(!0),onMouseUp:()=>k(!1),"data-testid":"message-copy"},a.default.createElement(m.default,{position:"bottom",title:g(w?"copiedExclamation":"copyToClipboard"),wrapperClassName:"request-decrypt-message__message-copy-tooltip",style:{display:"flex",alignItems:"center"}},a.default.createElement("div",{className:"request-decrypt-message__message-copy-text"},g("decryptCopy")),a.default.createElement(T.Icon,{name:w?T.IconName.CopySuccess:T.IconName.Copy,color:E.IconColor.primaryDefault}))):a.default.createElement("div",null))}));R.displayName="MessageBody",R.propTypes={isScrollable:o.default.bool.isRequired,isScrolledToBottom:o.default.bool.isRequired,onScroll:o.default.func.isRequired,rawMessage:o.default.string.isRequired,scrollToBottom:o.default.func.isRequired,setRawMessage:o.default.func.isRequired,messageData:o.default.shape({msgParams:o.default.shape({data:o.default.string.isRequired,from:o.default.string.isRequired,origin:o.default.string.isRequired}).isRequired,id:o.default.string.isRequired}).isRequired};const B=({hasScrolledToBottom:e,isScrollable:t,mostRecentOverviewPage:n,messageData:o})=>{const r=(0,l.useDispatch)(),s=(0,c.useHistory)(),i=(0,x.useI18nContext)(),u=(0,a.useContext)(C.MetaMetricsContext);return a.default.createElement(f.PageContainerFooter,{cancelText:i("cancel"),submitText:i("decrypt"),disabled:t&&!e,onCancel:async e=>{e.stopPropagation(e),await r((0,S.cancelDecryptMsg)(o)),u({category:h.MetaMetricsEventCategory.Messages,event:"Cancel",properties:{action:"Decrypt Message Request",legacy_event:!0}}),r((0,_.clearConfirmTransaction)()),s.push(n)},onSubmit:async e=>{e.stopPropagation(e);const t=o.msgParams;t.metamaskId=o.id,await r((0,S.decryptMsg)(t)),u({category:h.MetaMetricsEventCategory.Messages,event:"Confirm",properties:{action:"Decrypt Message Request",legacy_event:!0}}),r((0,_.clearConfirmTransaction)()),s.push(n)}})};B.propTypes={hasScrolledToBottom:o.default.bool.isRequired,isScrollable:o.default.bool.isRequired,mostRecentOverviewPage:o.default.string.isRequired,messageData:o.default.shape({msgParams:o.default.shape({data:o.default.string.isRequired,from:o.default.string.isRequired,origin:o.default.string.isRequired}).isRequired,id:o.default.string.isRequired}).isRequired};n.default=()=>{const e=(0,x.useI18nContext)(),[t,n]=(0,a.useState)(""),o=(0,l.useSelector)(p.getMostRecentOverviewPage),r=(0,l.useSelector)(g.getNativeCurrency),{id:s}=(0,c.useParams)(),d=(0,l.useSelector)(I.unconfirmedTransactionsListSelector),m=(0,u.cloneDeep)(d.find((e=>e.id===s))),f=(0,l.useSelector)((e=>{var t;return(0,I.getTargetAccountWithSendEtherInfo)(e,null==m||null===(t=m.msgParams)||void 0===t?void 0:t.from)})),h=(0,l.useSelector)((e=>e.metamask.subjectMetadata||{})),{hasScrolledToBottom:y,isScrollable:v,isScrolledToBottom:k,onScroll:T,scrollToBottom:b,ref:C}=(0,w.useScrollRequired)([t],{offsetPxFromBottom:0});if(!m)return i.default.warn("ConfirmDecryptMessage Page: Missing messageData prop."),null;const E=h[m.msgParams.origin],_=(null==E?void 0:E.name)||m.msgParams.origin,S=e("decryptMessageNotice",[m.msgParams.origin]);return a.default.createElement("div",{className:"request-decrypt-message__container"},a.default.createElement(D,{approvalId:s}),a.default.createElement("div",{className:"request-decrypt-message__body"},a.default.createElement(O,{fromAccount:f,nativeCurrency:r}),a.default.createElement(F,{name:_,notice:S,targetSubjectMetadata:E}),a.default.createElement(R,{isScrollable:v,isScrolledToBottom:k,onScroll:T,rawMessage:t,ref:C,scrollToBottom:b,setRawMessage:n,messageData:m})),a.default.createElement(B,{hasScrolledToBottom:y,isScrollable:v,mostRecentOverviewPage:o,messageData:m}))}}}},{package:"$root$",file:"ui/pages/confirm-decrypt-message/confirm-decrypt-message.component.js"}],[7168,{"./confirm-decrypt-message.component":7167},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./confirm-decrypt-message.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-decrypt-message/index.js"}],[7169,{"../../../shared/constants/common":5959,"../../../shared/constants/metametrics":5968,"../../../shared/modules/Numeric":6006,"../../components/app/account-list-item":6055,"../../components/ui/identicon":6864,"../../components/ui/page-container":6890,"../../components/ui/site-origin":6907,"../confirmations/components/confirm/nav":7267,loglevel:5114,"prop-types":5256,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=p(e("prop-types")),r=p(e("loglevel")),s=p(e("../../components/app/account-list-item")),i=p(e("../../components/ui/identicon")),l=e("../../components/ui/page-container"),c=e("../../../shared/constants/metametrics"),u=p(e("../../components/ui/site-origin")),d=e("../../../shared/modules/Numeric"),m=e("../../../shared/constants/common"),f=e("../confirmations/components/confirm/nav");function p(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends a.Component{constructor(...e){super(...e),h(this,"renderHeader",(()=>{var e;const t=null===(e=this.props.txData)||void 0===e?void 0:e.id;return a.default.createElement(a.default.Fragment,null,a.default.createElement(f.Nav,{confirmationId:t}),a.default.createElement("div",{className:"request-encryption-public-key__header"},a.default.createElement("div",{className:"request-encryption-public-key__header-background"}),a.default.createElement("div",{className:"request-encryption-public-key__header__text"},this.context.t("encryptionPublicKeyRequest")),a.default.createElement("div",{className:"request-encryption-public-key__header__tip-container"},a.default.createElement("div",{className:"request-encryption-public-key__header__tip"}))))})),h(this,"renderAccount",(()=>{const{fromAccount:e}=this.props,{t:t}=this.context;return a.default.createElement("div",{className:"request-encryption-public-key__account"},a.default.createElement("div",{className:"request-encryption-public-key__account-text"},`${t("account")}:`),a.default.createElement("div",{className:"request-encryption-public-key__account-item"},a.default.createElement(s.default,{account:e})))})),h(this,"renderBalance",(()=>{const{nativeCurrency:e,fromAccount:{balance:t}}=this.props,{t:n}=this.context,o=new d.Numeric(t,16,m.EtherDenomination.WEI).toDenomination(m.EtherDenomination.ETH).round(6).toBase(10).toString();return a.default.createElement("div",{className:"request-encryption-public-key__balance"},a.default.createElement("div",{className:"request-encryption-public-key__balance-text"},`${n("balance")}:`),a.default.createElement("div",{className:"request-encryption-public-key__balance-value"},`${o} ${e}`))})),h(this,"renderRequestIcon",(()=>{const{requesterAddress:e}=this.props;return a.default.createElement("div",{className:"request-encryption-public-key__request-icon"},a.default.createElement(i.default,{diameter:40,address:e}))})),h(this,"renderAccountInfo",(()=>a.default.createElement("div",{className:"request-encryption-public-key__account-info"},this.renderAccount(),this.renderRequestIcon(),this.renderBalance()))),h(this,"renderBody",(()=>{const{subjectMetadata:e,txData:t}=this.props,{t:n}=this.context,o=e[t.origin],r=n("encryptionPublicKeyNotice",[a.default.createElement(u.default,{siteOrigin:t.origin,key:t.origin})]),s=(null==o?void 0:o.hostname)||t.origin;return a.default.createElement("div",{className:"request-encryption-public-key__body"},this.renderAccountInfo(),a.default.createElement("div",{className:"request-encryption-public-key__visual"},a.default.createElement("section",null,null!=o&&o.iconUrl?a.default.createElement("img",{className:"request-encryption-public-key__visual-identicon",src:o.iconUrl,alt:""}):a.default.createElement("i",{className:"request-encryption-public-key__visual-identicon--default"},s.charAt(0).toUpperCase()),a.default.createElement("div",{className:"request-encryption-public-key__notice"},r))))})),h(this,"renderFooter",(()=>{const{cancelEncryptionPublicKey:e,clearConfirmTransaction:t,encryptionPublicKey:n,history:o,mostRecentOverviewPage:r,txData:s}=this.props,{t:i,trackEvent:u}=this.context;return a.default.createElement(l.PageContainerFooter,{cancelText:i("cancel"),submitText:i("provide"),onCancel:async n=>{await e(s,n),u({category:c.MetaMetricsEventCategory.Messages,event:"Cancel",properties:{action:"Encryption public key Request",legacy_event:!0}}),t(),o.push(r)},onSubmit:async e=>{await n(s,e),this.context.trackEvent({category:c.MetaMetricsEventCategory.Messages,event:"Confirm",properties:{action:"Encryption public key Request",legacy_event:!0}}),t(),o.push(r)}})})),h(this,"render",(()=>this.props.txData?a.default.createElement("div",{className:"request-encryption-public-key__container"},this.renderHeader(),this.renderBody(),this.renderFooter()):(r.default.warn("ConfirmEncryptionPublicKey Page: Missing txData prop."),null)))}}n.default=y,h(y,"contextTypes",{t:o.default.func.isRequired,trackEvent:o.default.func.isRequired}),h(y,"propTypes",{fromAccount:o.default.shape({address:o.default.string.isRequired,balance:o.default.string,name:o.default.string}).isRequired,clearConfirmTransaction:o.default.func.isRequired,cancelEncryptionPublicKey:o.default.func.isRequired,encryptionPublicKey:o.default.func.isRequired,history:o.default.object.isRequired,requesterAddress:o.default.string,txData:o.default.object,subjectMetadata:o.default.object,mostRecentOverviewPage:o.default.string.isRequired,nativeCurrency:o.default.string.isRequired})}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/confirm-encryption-public-key.component.js"}],[7170,{"../../ducks/confirm-transaction/confirm-transaction.duck":6960,"../../ducks/history/history":6964,"../../ducks/metamask/metamask":6967,"../../selectors":7653,"../../store/actions":7667,"./confirm-encryption-public-key.component":7169,"react-redux":5460,"react-router-dom":5487,redux:5520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-redux"),r=e("redux"),s=e("react-router-dom"),i=e("../../store/actions"),l=e("../../selectors"),c=e("../../ducks/confirm-transaction/confirm-transaction.duck"),u=e("../../ducks/history/history"),d=e("../../ducks/metamask/metamask"),m=(a=e("./confirm-encryption-public-key.component"))&&a.__esModule?a:{default:a};n.default=(0,r.compose)(s.withRouter,(0,o.connect)((function(e,t){const{metamask:{subjectMetadata:n={}}}=e,a=(0,l.unconfirmedTransactionsListSelector)(e),{match:{params:{id:o}}}=t,r=a.find((e=>e.id===o));return{txData:r,subjectMetadata:n,fromAccount:(0,l.getTargetAccountWithSendEtherInfo)(e,null==r?void 0:r.msgParams),requester:null,requesterAddress:null,mostRecentOverviewPage:(0,u.getMostRecentOverviewPage)(e),nativeCurrency:(0,d.getNativeCurrency)(e)}}),(function(e){return{goHome:()=>e((0,i.goHome)()),clearConfirmTransaction:()=>e((0,c.clearConfirmTransaction)()),encryptionPublicKey:(t,n)=>{const a={data:t.msgParams,metamaskId:t.id};return n.stopPropagation(),e((0,i.encryptionPublicKeyMsg)(a))},cancelEncryptionPublicKey:(t,n)=>(n.stopPropagation(),e((0,i.cancelEncryptionPublicKeyMsg)(t)))}})))(m.default)}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/confirm-encryption-public-key.container.js"}],[7171,{"./confirm-encryption-public-key.container":7170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./confirm-encryption-public-key.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/index.js"}],[7172,{"../../../../components/ui/form-field":6846,"../../../../contexts/i18n":6939,"../../../../helpers/constants/gas":6981,"prop-types":5256,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=l(e("prop-types")),r=e("../../../../contexts/i18n"),s=l(e("../../../../components/ui/form-field")),i=e("../../../../helpers/constants/gas");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u({onManualChange:e,gasLimit:t,setGasLimit:n,gasPrice:o,setGasPrice:l,gasErrors:c,minimumGasLimit:u}){const d=(0,a.useContext)(r.I18nContext);return a.default.createElement("div",{className:"advanced-gas-controls"},a.default.createElement(s.default,{titleText:d("gasLimit"),error:null!=c&&c.gasLimit?(0,i.getGasFormErrorText)(c.gasLimit,d,{minimumGasLimit:u}):null,onChange:t=>{null==e||e(),n(t)},tooltipText:d("editGasLimitTooltip"),value:t,allowDecimals:!1,numeric:!0}),a.default.createElement(a.default.Fragment,null,a.default.createElement(s.default,{titleText:d("advancedGasPriceTitle"),titleUnit:"(GWEI)",onChange:t=>{null==e||e(),l(t)},tooltipText:d("editGasPriceTooltip"),value:o,numeric:!0,allowDecimals:!0,error:null!=c&&c.gasPrice?(0,i.getGasFormErrorText)(c.gasPrice,d):null})))}u.propTypes={onManualChange:o.default.func,gasLimit:o.default.number,setGasLimit:o.default.func,gasPrice:o.default.string,setGasPrice:o.default.func,minimumGasLimit:o.default.string,gasErrors:o.default.object}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-controls/advanced-gas-controls.component.js"}],[7173,{"../../../../../../shared/constants/gas":5963,"../../../../../../shared/modules/Numeric":6006,"../../../../../components/component-library":6528,"../../../../../contexts/gasFee":6938,"../../../../../helpers/constants/design-system":6979,"../../../../../hooks/useI18nContext":7081,"../../../../../selectors":7653,"../../../../../store/actions":7667,"../../../hooks/useTransactionEventFragment":7409,"../context":7189,lodash:5108,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("lodash"),s=e("../../../hooks/useTransactionEventFragment"),i=e("../../../../../../shared/constants/gas"),l=e("../../../../../helpers/constants/design-system"),c=e("../../../../../selectors"),u=e("../../../../../store/actions"),d=e("../../../../../contexts/gasFee"),m=e("../context"),f=e("../../../../../hooks/useI18nContext"),p=e("../../../../../components/component-library"),g=e("../../../../../../shared/modules/Numeric");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,f.useI18nContext)(),t=(0,o.useDispatch)(),{gasErrors:n,maxBaseFee:h,maxPriorityFeePerGas:y}=(0,m.useAdvancedGasFeePopoverContext)(),v=new g.Numeric(h,10).toString(),k=new g.Numeric(y,10).toString(),T=(0,o.useSelector)(c.getAdvancedGasFeeValues),{updateTransactionEventFragment:b}=(0,s.useTransactionEventFragment)(),{editGasMode:x,transaction:w}=(0,d.useGasFeeContext)(),{chainId:C}=w,E=(0,o.useSelector)((e=>(0,c.selectNetworkIdentifierByChainId)(e,C))),[_,S]=(0,a.useState)(Boolean(T)&&T.maxBaseFee===v&&T.priorityFee===k);(0,a.useEffect)((()=>{S(Boolean(T)&&T.maxBaseFee===v&&T.priorityFee===k)}),[T,v,k]);return x===i.EditGasModes.swaps?null:a.default.createElement(p.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,marginTop:4,marginLeft:2,marginRight:2,paddingTop:4,paddingBottom:4,className:"advanced-gas-fee-defaults"},a.default.createElement(p.Checkbox,{isChecked:_,onChange:()=>{_?(t((0,u.setAdvancedGasFee)({chainId:C,gasFeePreferences:undefined})),S(!1),b({properties:{advanced_gas_defaults_updated_maxbasefee:null,advanced_gas_defaults_updated_priorityfee:null}})):(t((0,u.setAdvancedGasFee)({chainId:C,gasFeePreferences:{maxBaseFee:v,priorityFee:k}})),b({properties:{advanced_gas_defaults_updated_maxbasefee:v,advanced_gas_defaults_updated_priorityfee:k}}))},isDisabled:n.maxFeePerGas||n.maxPriorityFeePerGas,label:e("advancedGasFeeDefaultOptIn",[(0,r.capitalize)(E)])}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-defaults/advanced-gas-fee-defaults.js"}],[7174,{"./advanced-gas-fee-defaults":7173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./advanced-gas-fee-defaults"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-defaults/index.js"}],[7175,{"../../../../../../shared/modules/conversion.utils":6015,"../../../../../components/component-library":6528,"../../../../../components/ui/button":6815,"../../../../../components/ui/form-field":6846,"../../../../../contexts/gasFee":6938,"../../../../../helpers/constants/design-system":6979,"../../../../../helpers/utils/util":7028,"../../../../../hooks/useI18nContext":7081,"../../../constants":7358,"../../../send/send.constants":7419,"../context":7189,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../../../contexts/gasFee"),r=e("../../../../../helpers/utils/util"),s=e("../../../../../helpers/constants/design-system"),i=e("../../../../../hooks/useI18nContext"),l=e("../../../send/send.constants"),c=g(e("../../../../../components/ui/button")),u=g(e("../../../../../components/ui/form-field")),d=e("../context"),m=e("../../../../../components/component-library"),f=e("../../../constants"),p=e("../../../../../../shared/modules/conversion.utils");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,i.useI18nContext)(),{setGasLimit:t,setErrorValue:n}=(0,d.useAdvancedGasFeePopoverContext)(),{gasLimit:g,minimumGasLimitDec:h,transaction:{chainId:y,originalGasEstimate:v}}=(0,o.useGasFeeContext)(),k=v!==undefined&&(0,p.hexToDecimal)(v),[T,b]=(0,a.useState)(k?Math.max(l.MAX_GAS_LIMIT_DEC,k):l.MAX_GAS_LIMIT_DEC),[x,w]=(0,a.useState)(!1),[C,E]=(0,a.useState)(g),[_,S]=(0,a.useState)(),I=e=>{E(e||0)};return(0,a.useEffect)((()=>{if(t(C),f.IGNORE_GAS_LIMIT_CHAIN_IDS.includes(y))return;const e=((e,t,n)=>(0,r.bnLessThan)(e,t)||(0,r.bnGreaterThan)(e,n)?"editGasLimitOutOfBoundsV2":null)(C,h,T);S(e),w(!0===x?x:null!==e),n("gasLimit","editGasLimitOutOfBoundsV2"===e)}),[y,C,h,t,n,T,x,e]),(0,a.useEffect)((()=>{k&&b(Math.max(l.MAX_GAS_LIMIT_DEC,k))}),[h,k,b]),x?a.default.createElement(u.default,{dataTestId:"gas-limit-input",error:_?e(_,[h-1,T]):"",onChange:I,titleText:e("gasLimitV2"),value:C,allowDecimals:!1,numeric:!0}):a.default.createElement(m.Text,{tag:s.TextVariant.bodyMd,variant:s.TextVariant.bodySm,as:"h6",className:"advanced-gas-fee-gas-limit",marginTop:4,marginLeft:2,marginRight:2},a.default.createElement("strong",null,e("gasLimitV2")),a.default.createElement("span",null,C),a.default.createElement(c.default,{"data-testid":"advanced-gas-fee-edit",className:"advanced-gas-fee-gas-limit__edit-link",onClick:()=>w(!0),type:"link"},e("edit")))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-gas-limit/advanced-gas-fee-gas-limit.js"}],[7176,{"./advanced-gas-fee-gas-limit":7175},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./advanced-gas-fee-gas-limit"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-gas-limit/index.js"}],[7177,{"../../../../../components/ui/box":6811,"../../../../../components/ui/loading-heartbeat":6870,"../../../../../contexts/i18n":6939,"../../../../../helpers/utils/gas":7009,"../../../../../helpers/utils/util":7028,classnames:4314,"prop-types":5256,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=d(e("prop-types")),r=d(e("classnames")),s=e("../../../../../helpers/utils/util"),i=e("../../../../../helpers/utils/gas"),l=e("../../../../../contexts/i18n"),c=d(e("../../../../../components/ui/box")),u=d(e("../../../../../components/ui/loading-heartbeat"));function d(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const f=({latest:e,historical:t,trend:n})=>{const o=(0,a.useContext)(l.I18nContext),d=function(e,t){switch(e){case"up":return{className:"fa-arrow-up advanced-gas-fee-input-subtext__up",color:"var(--color-success-default)",title:t("upArrow")};case"down":return{className:"fa-arrow-down advanced-gas-fee-input-subtext__down",color:"var(--color-error-default)",title:t("downArrow")};case"level":return{className:"fa-arrow-right advanced-gas-fee-input-subtext__level",color:"var(--color-icon-alternative)",title:t("levelArrow")};default:return null}}(n,o);return a.default.createElement(c.default,{display:"flex",alignItems:"center",gap:4,className:"advanced-gas-fee-input-subtext"},(0,s.isNullish)(e)?null:a.default.createElement(c.default,{display:"flex",alignItems:"center","data-testid":"latest"},a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__label"},o("currentTitle")),a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__value"},a.default.createElement(u.default,null),(0,i.formatGasFeeOrFeeRange)(e)),null===d?null:a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__icon"},a.default.createElement("i",{className:(0,r.default)("fa",d.className),style:{color:d.color},title:d.title,"data-testid":"fee-arrow"}))),(0,s.isNullish)(t)?null:a.default.createElement(c.default,null,a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__label","data-testid":"historical"},o("twelveHrTitle")),a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__value"},a.default.createElement(u.default,null),(0,i.formatGasFeeOrFeeRange)(t))))};f.propTypes={latest:o.default.oneOfType([o.default.string,o.default.arrayOf(o.default.string)]),historical:o.default.oneOfType([o.default.string,o.default.arrayOf(o.default.string)]),trend:o.default.oneOf(["up","down","level"])};n.default=f}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-input-subtext/advanced-gas-fee-input-subtext.js"}],[7178,{"./advanced-gas-fee-input-subtext":7177},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./advanced-gas-fee-input-subtext"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-input-subtext/index.js"}],[7179,{"../../../../../components/ui/box":6811,"./base-fee-input":7181,"./priority-fee-input":7183,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),o=i(e("../../../../../components/ui/box")),r=i(e("./base-fee-input")),s=i(e("./priority-fee-input"));function i(e){return e&&e.__esModule?e:{default:e}}n.default=()=>a.default.createElement(o.default,{className:"advanced-gas-fee-inputs"},a.default.createElement(r.default,null),a.default.createElement(s.default,null))}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/advanced-gas-fee-inputs.js"}],[7180,{"../../../../../../../shared/constants/gas":5963,"../../../../../../../shared/modules/Numeric":6006,"../../../../../../../shared/modules/conversion.utils":6015,"../../../../../../components/ui/box":6811,"../../../../../../components/ui/form-field":6846,"../../../../../../contexts/gasFee":6938,"../../../../../../helpers/constants/common":6977,"../../../../../../hooks/useCurrencyDisplay":7071,"../../../../../../hooks/useI18nContext":7081,"../../../../../../hooks/useUserPreferencedCurrency":7116,"../../../../../../selectors":7653,"../../../../constants":7358,"../../../../send/send.constants":7419,"../../advanced-gas-fee-input-subtext":7178,"../../context":7189,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../../send/send.constants"),s=e("../../../../../../../shared/constants/gas"),i=e("../../../../../../helpers/constants/common"),l=e("../../../../../../selectors"),c=e("../../../../../../contexts/gasFee"),u=e("../../../../../../hooks/useI18nContext"),d=e("../../../../../../hooks/useUserPreferencedCurrency"),m=e("../../../../../../hooks/useCurrencyDisplay"),f=T(e("../../../../../../components/ui/box")),p=T(e("../../../../../../components/ui/form-field")),g=e("../../context"),h=T(e("../../advanced-gas-fee-input-subtext")),y=e("../../../../../../../shared/modules/conversion.utils"),v=e("../../../../../../../shared/modules/Numeric"),k=e("../../../../constants");function T(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,u.useI18nContext)(),{gasFeeEstimates:t,estimateUsed:n,maxFeePerGas:T,editGasMode:b,transaction:{chainId:x}}=(0,c.useGasFeeContext)(),w=new v.Numeric(T,10).toString(),{gasLimit:C,maxPriorityFeePerGas:E,setErrorValue:_,setMaxFeePerGas:S,setMaxBaseFee:I}=(0,g.useAdvancedGasFeePopoverContext)(),{estimatedBaseFee:M,historicalBaseFeeRange:P,baseFeeTrend:A}=t??{},[D,O]=(0,a.useState)(),{currency:F,numberOfDecimals:N}=(0,d.useUserPreferencedCurrency)(i.PRIMARY),R=(0,o.useSelector)(l.getAdvancedGasFeeValues),B=n!==s.PriorityLevels.custom&&null!=R&&R.maxBaseFee&&b!==s.EditGasModes.swaps?R.maxBaseFee:w,[j,$]=(0,a.useState)(B>0?B:undefined);(0,a.useEffect)((()=>{j===undefined&&B>0&&$(B)}),[j,B,$]);const[L]=(0,m.useCurrencyDisplay)((0,y.decGWEIToHexWEI)(j*C),{currency:F,numberOfDecimals:N}),W=(0,a.useCallback)((e=>{$(e)}),[$]);return(0,a.useEffect)((()=>{S(j);const e=((e,t,n,a)=>{const o=new v.Numeric(e,10);return new v.Numeric(n,10).greaterThan(o)?"editGasMaxBaseFeeGWEIImbalance":null!=t&&t.low&&o.lessThan(t.low.suggestedMaxFeePerGas,10)&&k.IGNORE_GAS_LIMIT_CHAIN_IDS.includes(a)?"editGasMaxBaseFeeLow":null!=t&&t.high&&o.greaterThan(t.high.suggestedMaxFeePerGas*r.HIGH_FEE_WARNING_MULTIPLIER,10)?"editGasMaxBaseFeeHigh":null})(j,t,E,x);O(e),_("maxFeePerGas","editGasMaxBaseFeeGWEIImbalance"===e),I(j)}),[j,x,t,E,O,_,S,I]),a.default.createElement(f.default,{className:"base-fee-input",marginLeft:2,marginRight:2},a.default.createElement(p.default,{dataTestId:"base-fee-input",error:D?e(D):"",onChange:W,titleText:e("maxBaseFee"),titleUnit:`(${e("gwei")})`,tooltipText:e("advancedBaseGasFeeToolTip"),value:j,detailText:` ${L}`,allowDecimals:!0,numeric:!0}),a.default.createElement(h.default,{latest:M,historical:P,trend:A}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/base-fee-input/base-fee-input.js"}],[7181,{"./base-fee-input":7180},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./base-fee-input"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/base-fee-input/index.js"}],[7182,{"./advanced-gas-fee-inputs":7179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./advanced-gas-fee-inputs"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/index.js"}],[7183,{"./priority-fee-input":7184},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./priority-fee-input"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/priority-fee-input/index.js"}],[7184,{"../../../../../../../shared/constants/gas":5963,"../../../../../../../shared/modules/Numeric":6006,"../../../../../../../shared/modules/conversion.utils":6015,"../../../../../../components/ui/box":6811,"../../../../../../components/ui/form-field":6846,"../../../../../../contexts/gasFee":6938,"../../../../../../helpers/constants/common":6977,"../../../../../../hooks/useCurrencyDisplay":7071,"../../../../../../hooks/useI18nContext":7081,"../../../../../../hooks/useUserPreferencedCurrency":7116,"../../../../../../selectors":7653,"../../../../constants":7358,"../../../../send/send.constants":7419,"../../advanced-gas-fee-input-subtext":7178,"../../context":7189,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../../send/send.constants"),s=e("../../../../../../../shared/constants/gas"),i=e("../../../../../../helpers/constants/common"),l=e("../../../../../../selectors"),c=e("../../../../../../hooks/useCurrencyDisplay"),u=e("../../../../../../contexts/gasFee"),d=e("../../../../../../hooks/useI18nContext"),m=e("../../../../../../hooks/useUserPreferencedCurrency"),f=T(e("../../../../../../components/ui/form-field")),p=T(e("../../../../../../components/ui/box")),g=e("../../context"),h=T(e("../../advanced-gas-fee-input-subtext")),y=e("../../../../../../../shared/modules/conversion.utils"),v=e("../../../../../../../shared/modules/Numeric"),k=e("../../../../constants");function T(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,d.useI18nContext)(),t=(0,o.useSelector)(l.getAdvancedGasFeeValues),{gasLimit:n,setErrorValue:T,setMaxPriorityFeePerGas:b}=(0,g.useAdvancedGasFeePopoverContext)(),{editGasMode:x,estimateUsed:w,gasFeeEstimates:C,maxPriorityFeePerGas:E,transaction:{chainId:_}}=(0,u.useGasFeeContext)(),S=new v.Numeric(E,10).toString(),{latestPriorityFeeRange:I,historicalPriorityFeeRange:M,priorityFeeTrend:P}=C??{},[A,D]=(0,a.useState)(),O=w!==s.PriorityLevels.custom&&null!=t&&t.priorityFee&&x!==s.EditGasModes.swaps?t.priorityFee:S,[F,N]=(0,a.useState)(O>0?O:undefined);(0,a.useEffect)((()=>{F===undefined&&O>0&&N(O)}),[F,O,N]);const{currency:R,numberOfDecimals:B}=(0,m.useUserPreferencedCurrency)(i.PRIMARY),[j]=(0,c.useCurrencyDisplay)((0,y.decGWEIToHexWEI)(F*n),{currency:R,numberOfDecimals:B});return(0,a.useEffect)((()=>{b(F);const e=((e,t,n)=>{const a=new v.Numeric(e,10);return a.lessThan(0,10)?"editGasMaxPriorityFeeBelowMinimumV2":null!=t&&t.low&&a.lessThan(t.low.suggestedMaxPriorityFeePerGas,10)&&k.IGNORE_GAS_LIMIT_CHAIN_IDS.includes(n)?"editGasMaxPriorityFeeLowV2":null!=t&&t.high&&a.greaterThan(t.high.suggestedMaxPriorityFeePerGas*r.HIGH_FEE_WARNING_MULTIPLIER,10)?"editGasMaxPriorityFeeHighV2":null})(F,C,_);T("maxPriorityFeePerGas","editGasMaxPriorityFeeBelowMinimumV2"===e),D(e)}),[_,C,F,T,b,D]),a.default.createElement(p.default,{marginTop:4,marginLeft:2,marginRight:2,className:"priority-fee-input"},a.default.createElement(f.default,{dataTestId:"priority-fee-input",error:A?e(A):"",onChange:e=>{N(e)},titleText:e("priorityFeeProperCase"),titleUnit:`(${e("gwei")})`,tooltipText:e("advancedPriorityFeeToolTip"),value:F,detailText:` ${j}`,allowDecimals:!0,numeric:!0}),a.default.createElement(h.default,{latest:I,historical:M,trend:P}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/priority-fee-input/priority-fee-input.js"}],[7185,{"../../../../components/ui/box":6811,"../../../../components/ui/popover":6896,"../../../../contexts/transaction-modal":6947,"../../../../hooks/useI18nContext":7081,"./advanced-gas-fee-defaults":7174,"./advanced-gas-fee-gas-limit":7176,"./advanced-gas-fee-inputs":7182,"./advanced-gas-fee-save":7187,"./context":7189,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),o=e("../../../../hooks/useI18nContext"),r=e("../../../../contexts/transaction-modal"),s=f(e("../../../../components/ui/box")),i=f(e("../../../../components/ui/popover")),l=e("./context"),c=f(e("./advanced-gas-fee-inputs")),u=f(e("./advanced-gas-fee-gas-limit")),d=f(e("./advanced-gas-fee-save")),m=f(e("./advanced-gas-fee-defaults"));function f(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const e=(0,o.useI18nContext)(),{closeAllModals:t,currentModal:n}=(0,r.useTransactionModalContext)();return"advancedGasFee"!==n?null:a.default.createElement(l.AdvancedGasFeePopoverContextProvider,null,a.default.createElement(i.default,{className:"advanced-gas-fee-popover",title:e("advancedGasFeeModalTitle"),onClose:t,footer:a.default.createElement(d.default,null)},a.default.createElement(s.default,{margin:4},a.default.createElement(c.default,null),a.default.createElement(m.default,null),a.default.createElement(u.default,null))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-popover.js"}],[7186,{"../../../../../../shared/constants/gas":5963,"../../../../../../shared/modules/conversion.utils":6015,"../../../../../components/ui/button":6815,"../../../../../contexts/gasFee":6938,"../../../../../contexts/transaction-modal":6947,"../../../../../hooks/useI18nContext":7081,"../../../hooks/useTransactionEventFragment":7409,"../context":7189,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=m(e("react")),o=e("../../../../../../shared/constants/gas"),r=e("../../../../../../shared/modules/conversion.utils"),s=e("../../../../../contexts/transaction-modal"),i=e("../../../../../contexts/gasFee"),l=e("../../../hooks/useTransactionEventFragment"),c=e("../../../../../hooks/useI18nContext"),u=m(e("../../../../../components/ui/button")),d=e("../context");function m(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const{closeModal:e}=(0,s.useTransactionModalContext)(),{updateTransactionEventFragment:t}=(0,l.useTransactionEventFragment)(),{updateTransaction:n}=(0,i.useGasFeeContext)(),m=(0,c.useI18nContext)(),{gasLimit:f,hasErrors:p,maxFeePerGas:g,maxPriorityFeePerGas:h}=(0,d.useAdvancedGasFeePopoverContext)();return a.default.createElement(u.default,{type:"primary",disabled:p,onClick:()=>{n({estimateUsed:o.PriorityLevels.custom,maxFeePerGas:(0,r.decGWEIToHexWEI)(g),maxPriorityFeePerGas:(0,r.decGWEIToHexWEI)(h),gasLimit:f}),t({properties:{gas_edit_type:"advanced"}}),e(["advancedGasFee","editGasFee"])}},m("save"))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-save/advanced-gas-fee-save.js"}],[7187,{"./advanced-gas-fee-save":7186},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./advanced-gas-fee-save"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-save/index.js"}],[7188,{"prop-types":5256,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AdvancedGasFeePopoverContextProvider=n.AdvancedGasFeePopoverContext=void 0,n.useAdvancedGasFeePopoverContext=function(){return(0,o.useContext)(i)};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const i=n.AdvancedGasFeePopoverContext=(0,o.createContext)({}),l=({children:e})=>{const[t,n]=(0,o.useState)(),[a,r]=(0,o.useState)(),[s,l]=(0,o.useState)(),[c,u]=(0,o.useState)({maxFeePerGas:!1,maxPriorityFeePerGas:!1,gasLimit:!1}),d=(0,o.useCallback)(((e,t)=>{c[e]!==t&&u({...c,[e]:t})}),[c,u]),[m,f]=(0,o.useState)();return o.default.createElement(i.Provider,{value:{gasLimit:t,hasErrors:c.maxFeePerGas||c.maxPriorityFeePerGas||c.gasLimit,gasErrors:c,maxFeePerGas:a,maxPriorityFeePerGas:s,setErrorValue:d,maxBaseFee:m,setGasLimit:n,setMaxPriorityFeePerGas:l,setMaxFeePerGas:r,setMaxBaseFee:f}},e)};n.AdvancedGasFeePopoverContextProvider=l,l.propTypes={children:r.default.node.isRequired}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/context/advancedGasFeePopover.js"}],[7189,{"./advancedGasFeePopover":7188},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./advancedGasFeePopover");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}))}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/context/index.js"}],[7190,{"./advanced-gas-fee-popover":7185},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./advanced-gas-fee-popover"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/index.js"}],[7191,{"../../../../../../shared/constants/security-provider":5978,"../../../../../components/component-library":6528,"../../../../../components/ui/icon/preloader":6857,"../../../hooks/useCurrentSignatureSecurityAlertResponse":7392,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),o=l(e("../../../../../components/ui/icon/preloader")),r=e("../../../../../../shared/constants/security-provider"),s=e("../../../../../components/component-library"),i=l(e("../../../hooks/useCurrentSignatureSecurityAlertResponse"));function l(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const e=(0,i.default)();return(null==e?void 0:e.result_type)!==r.BlockaidResultType.Loading?null:a.default.createElement(s.Box,{marginInline:"auto",marginTop:4},a.default.createElement(o.default,{size:18}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/blockaid-loading-indicator/blockaid-loading-indicator.tsx"}],[7192,{"./blockaid-loading-indicator":7191},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BlockaidLoadingIndicator",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./blockaid-loading-indicator"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/blockaid-loading-indicator/index.ts"}],[7193,{"../../../../../components/app/alert-system/contexts/alertActionHandler":6062,"../../../../../components/app/alert-system/contexts/alertMetricsContext":6063,"../../../hooks/setConfirmationAlerts":7381,"../../../hooks/useConfirmationAlertActions":7385,"../../../hooks/useConfirmationAlertMetrics":7386,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("react")),o=e("../../../../../components/app/alert-system/contexts/alertActionHandler"),r=c(e("../../../hooks/useConfirmationAlertActions")),s=c(e("../../../hooks/setConfirmationAlerts")),i=e("../../../../../components/app/alert-system/contexts/alertMetricsContext"),l=e("../../../hooks/useConfirmationAlertMetrics");function c(e){return e&&e.__esModule?e:{default:e}}n.default=({children:e})=>{const{trackAlertActionClicked:t,trackAlertRender:n,trackInlineAlertClicked:c}=(0,l.useConfirmationAlertMetrics)(),u=(0,r.default)();return(0,s.default)(),a.default.createElement(i.AlertMetricsProvider,{metrics:{trackAlertActionClicked:t,trackAlertRender:n,trackInlineAlertClicked:c}},a.default.createElement(o.AlertActionHandlerProvider,{onProcessAction:u},e))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/confirm-alerts/confirm-alerts.tsx"}],[7194,{"./confirm-alerts":7193},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmAlerts",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./confirm-alerts"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/confirm-alerts/index.tsx"}],[7195,{"../../../../../../shared/constants/metametrics":5968,"../../../../../../shared/lib/confirmation.utils":5992,"../../../../../components/app/alert-system/confirm-alert-modal":6061,"../../../../../components/component-library":6528,"../../../../../components/multichain/pages/page":6761,"../../../../../helpers/constants/design-system":6979,"../../../../../hooks/useAlerts":7068,"../../../../../hooks/useI18nContext":7081,"../../../../../selectors":7653,"../../../../../store/actions":7667,"../../../context/confirm":7359,"../../../hooks/useOriginThrottling":7404,"../../../utils":7422,"../utils":7285,"./origin-throttle-modal":7197,"@metamask/rpc-errors":2715,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("@metamask/rpc-errors"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("../../../../../components/app/alert-system/confirm-alert-modal"),i=e("../../../../../components/component-library"),l=e("../../../../../components/multichain/pages/page"),c=e("../../../../../hooks/useI18nContext"),u=e("../../../../../selectors"),d=b(e("../../../../../hooks/useAlerts")),m=e("../../../../../store/actions"),f=e("../../../utils"),p=e("../../../context/confirm"),g=e("../utils"),h=e("../../../../../../shared/constants/metametrics"),y=e("../../../../../helpers/constants/design-system"),v=e("../../../../../../shared/lib/confirmation.utils"),k=e("../../../hooks/useOriginThrottling"),T=b(e("./origin-throttle-modal"));function b(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function w(e,t,n){return!!t||!e&&n}const C=({alertOwnerId:e="",disabled:t,onSubmit:n,onCancel:a})=>{const r=(0,c.useI18nContext)(),[l,u]=(0,o.useState)(!1),{alerts:m,hasDangerAlerts:f,hasUnconfirmedDangerAlerts:p,hasUnconfirmedFieldDangerAlerts:g,unconfirmedFieldDangerAlerts:h}=(0,d.default)(e),v=m.some((e=>e.severity===y.Severity.Danger&&e.isBlocking)),k=(0,o.useCallback)((()=>{u(!1)}),[]),T=(0,o.useCallback)((()=>{u(!0)}),[]);return o.default.createElement(o.default.Fragment,null,l&&o.default.createElement(s.ConfirmAlertModal,{ownerId:e,onClose:k,onCancel:a,onSubmit:n}),f?o.default.createElement(i.Button,{block:!0,danger:!0,"data-testid":"confirm-footer-button",disabled:w(p,v,t),onClick:T,size:i.ButtonSize.Lg,startIconName:g?i.IconName.SecuritySearch:i.IconName.Danger},function(e,t){return 1===e.length?t("reviewAlert"):e.length>1?t("reviewAlerts"):t("confirm")}(h,r)):o.default.createElement(i.Button,{block:!0,"data-testid":"confirm-footer-button",disabled:t,onClick:n,size:i.ButtonSize.Lg},r("confirm")))};n.default=()=>{const e=(0,r.useDispatch)(),t=(0,c.useI18nContext)(),n=(0,r.useSelector)(u.getCustomNonceValue),{currentConfirmation:s,isScrollToBottomCompleted:d}=(0,p.useConfirmContext)(),{from:y}=(0,g.getConfirmationSender)(s),{shouldThrottleOrigin:b}=(0,k.useOriginThrottling)(),[x,w]=(0,o.useState)(!1),E=(0,r.useSelector)((e=>!!y&&(0,u.doesAddressRequireLedgerHidConnection)(e,y))),_=(0,f.isSignatureTransactionType)(s),S=!d&&!_||E,I=(0,o.useCallback)((({location:t})=>{if(!s)return;const n=a.providerErrors.userRejectedRequest();n.data={location:t},e((0,m.rejectPendingApproval)(s.id,(0,a.serializeError)(n))),e((0,m.updateCustomNonce)("")),e((0,m.setNextNonce)(""))}),[s]),M=(0,o.useCallback)((()=>{if(!s)return;if((0,v.isCorrectDeveloperTransactionType)(null==s?void 0:s.type)){const t=(e=>n?{...e,customNonceValue:n}:e)(s);e((0,m.updateAndApproveTx)(t,!0,""))}else e((0,m.resolvePendingApproval)(s.id,undefined));e((0,m.updateCustomNonce)("")),e((0,m.setNextNonce)(""))}),[s,n]),P=(0,o.useCallback)((()=>{b?w(!0):I({location:h.MetaMetricsEventLocation.Confirmation})}),[s,I]);return o.default.createElement(l.Footer,{className:"confirm-footer_page-footer"},o.default.createElement(T.default,{isOpen:x,onConfirmationCancel:I}),o.default.createElement(i.Button,{block:!0,"data-testid":"confirm-footer-cancel-button",onClick:P,size:i.ButtonSize.Lg,variant:i.ButtonVariant.Secondary},t("cancel")),o.default.createElement(C,{alertOwnerId:null==s?void 0:s.id,onSubmit:()=>M(),disabled:S,onCancel:I}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/footer/footer.tsx"}],[7196,{"./footer":7195},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Footer",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./footer"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/footer/index.tsx"}],[7197,{"../../../../../../shared/constants/metametrics":5968,"../../../../../components/component-library":6528,"../../../../../components/ui/origin-pill/origin-pill":6889,"../../../../../contexts/i18n":6939,"../../../../../helpers/constants/design-system":6979,"../../../../../hooks/useModalProps":7085,"../../../hooks/useOriginThrottling":7404,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({isOpen:e,onConfirmationCancel:t}){const{hideModal:n}=(0,r.useModalProps)(),[a,i]=(0,o.useState)(!1);return o.default.createElement(s.Modal,{isOpen:e,onClose:()=>{n()},isClosedOnOutsideClick:!1,isClosedOnEscapeKey:!1},o.default.createElement(s.ModalOverlay,{"data-testid":"modal-overlay"}),a?o.default.createElement(p,{onConfirmationCancel:t}):o.default.createElement(f,{onConfirmationCancel:t,setIsTemporaryBlock:i}))};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../../hooks/useModalProps"),s=e("../../../../../components/component-library"),i=e("../../../../../helpers/constants/design-system"),l=e("../../../../../contexts/i18n"),c=e("../../../hooks/useOriginThrottling"),u=(a=e("../../../../../components/ui/origin-pill/origin-pill"))&&a.__esModule?a:{default:a},d=e("../../../../../../shared/constants/metametrics");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const f=({onConfirmationCancel:e,setIsTemporaryBlock:t})=>{const n=(0,o.useContext)(l.I18nContext),{origin:a,resetOrigin:r}=(0,c.useOriginThrottling)();return o.default.createElement(s.ModalContent,{size:s.ModalContentSize.Md},o.default.createElement(s.Box,{justifyContent:i.JustifyContent.center,display:i.Display.Flex,marginBottom:4},o.default.createElement(s.Icon,{name:s.IconName.Warning,size:s.IconSize.Xl,color:i.IconColor.warningDefault})),o.default.createElement(s.ModalHeader,{endAccessory:o.default.createElement(o.default.Fragment,null)},n("spamModalTitle")),o.default.createElement(u.default,{style:{marginTop:0,marginBottom:20},origin:a,dataTestId:"origin-pill"}),o.default.createElement(s.ModalBody,null,o.default.createElement(s.Text,{textAlign:i.TextAlign.Center,as:"p","data-testid":"confirmation-text"},n("spamModalDescription"))),o.default.createElement(s.ModalFooter,{paddingTop:4,onSubmit:()=>{e({location:d.MetaMetricsEventLocation.OriginThrottleModal}),r()},onCancel:()=>{t(!0)},containerProps:{alignItems:i.AlignItems.stretch,flexDirection:i.FlexDirection.Column},submitButtonProps:{children:n("cancel"),size:s.ButtonSize.Lg},cancelButtonProps:{children:n("spamModalTemporaryBlockButton"),size:s.ButtonSize.Lg}}))},p=({onConfirmationCancel:e})=>{const t=(0,o.useContext)(l.I18nContext);return o.default.createElement(s.ModalContent,{size:s.ModalContentSize.Md},o.default.createElement(s.Box,{justifyContent:i.JustifyContent.center,display:i.Display.Flex,marginBottom:4},o.default.createElement(s.Icon,{name:s.IconName.Confirmation,size:s.IconSize.Xl,color:i.IconColor.successDefault})),o.default.createElement(s.ModalHeader,{endAccessory:o.default.createElement(o.default.Fragment,null)},t("spamModalBlockedTitle")),o.default.createElement(s.ModalBody,null,o.default.createElement(s.Text,{textAlign:i.TextAlign.Center,as:"p","data-testid":"confirmation-text"},t("spamModalBlockedDescription"))),o.default.createElement(s.ModalFooter,{paddingTop:4,onSubmit:()=>e({location:d.MetaMetricsEventLocation.OriginThrottleModal}),submitButtonProps:{children:t("gotIt"),size:s.ButtonSize.Lg}}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/footer/origin-throttle-modal.tsx"}],[7198,{"../../../../../components/component-library":6528,"../../../../../components/ui/tooltip":6925,"../../../../../helpers/constants/design-system":6979,"../../../../../hooks/useI18nContext":7081,"../../../../../store/actions":7667,"../../../selectors/preferences":7415,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AdvancedDetailsButton=void 0;var a=d(e("react")),o=e("react-redux"),r=e("../../../../../components/component-library"),s=d(e("../../../../../components/ui/tooltip")),i=e("../../../../../helpers/constants/design-system"),l=e("../../../../../hooks/useI18nContext"),c=e("../../../../../store/actions"),u=e("../../../selectors/preferences");function d(e){return e&&e.__esModule?e:{default:e}}n.AdvancedDetailsButton=()=>{const e=(0,l.useI18nContext)(),t=(0,o.useDispatch)(),n=(0,o.useSelector)(u.selectConfirmationAdvancedDetailsOpen);return a.default.createElement(r.Box,{backgroundColor:n?i.BackgroundColor.infoMuted:i.BackgroundColor.transparent,borderRadius:i.BorderRadius.MD,marginRight:1},a.default.createElement(s.default,{title:e(n?"hideAdvancedDetails":"showAdvancedDetails")},a.default.createElement(r.ButtonIcon,{ariaLabel:"Advanced tx details",color:i.IconColor.iconDefault,iconName:r.IconName.Customize,"data-testid":"header-advanced-details-button",size:r.ButtonIconSize.Md,onClick:()=>{var e;e=!n,t((0,c.setConfirmationAdvancedDetailsOpen)(e))}})))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/header/advanced-details-button.tsx"}],[7199,{"../../../../../components/component-library":6528,"../../../../../helpers/constants/design-system":6979,"../../../../../hooks/useI18nContext":7081,"./advanced-details-button":7198,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DAppInitiatedHeader=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../../../components/component-library"),s=e("../../../../../helpers/constants/design-system"),i=e("../../../../../hooks/useI18nContext"),l=e("./advanced-details-button");n.DAppInitiatedHeader=()=>{const e=(0,i.useI18nContext)();return o.default.createElement(r.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,backgroundColor:s.BackgroundColor.backgroundDefault,padding:3,style:{zIndex:2,position:"relative"}},o.default.createElement(r.Text,{variant:s.TextVariant.headingMd,color:s.TextColor.inherit},e("transferRequest")),o.default.createElement(r.Box,{paddingRight:3,style:{marginLeft:"auto",position:"absolute",right:0}},o.default.createElement(l.AdvancedDetailsButton,null)))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/header/dapp-initiated-header.tsx"}],[7200,{"../../../../../../shared/constants/metametrics":5968,"../../../../../../shared/lib/confirmation.utils":5992,"../../../../../components/app/confirm/info/row":6139,"../../../../../components/app/confirm/info/row/currency":6134,"../../../../../components/component-library":6528,"../../../../../components/multichain":6693,"../../../../../components/ui/identicon":6864,"../../../../../components/ui/tooltip/tooltip":6926,"../../../../../contexts/metametrics":6943,"../../../../../helpers/constants/design-system":6979,"../../../../../hooks/useI18nContext":7081,"../../../context/confirm":7359,"../../../hooks/useBalance":7384,"../../../hooks/useConfirmationRecipientInfo":7390,"../../../utils/confirm":7421,"./advanced-details-button":7198,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../../../../shared/constants/metametrics"),r=e("../../../../../components/app/confirm/info/row"),s=e("../../../../../components/app/confirm/info/row/currency"),i=e("../../../../../components/component-library"),l=e("../../../../../components/multichain"),c=T(e("../../../../../components/ui/tooltip/tooltip")),u=e("../../../../../contexts/metametrics"),d=e("../../../../../helpers/constants/design-system"),m=e("../../../../../hooks/useI18nContext"),f=e("../../../context/confirm"),p=e("../../../hooks/useBalance"),g=T(e("../../../hooks/useConfirmationRecipientInfo")),h=e("../../../utils/confirm"),y=e("../../../../../../shared/lib/confirmation.utils"),v=T(e("../../../../../components/ui/identicon")),k=e("./advanced-details-button");function T(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}n.default=()=>{var e;const t=(0,a.useContext)(u.MetaMetricsContext),[n,T]=a.default.useState(!1),{currentConfirmation:b}=(0,f.useConfirmContext)(),{senderAddress:x,senderName:w}=(0,g.default)(),C=(0,m.useI18nContext)(),{balance:E}=(0,p.useBalance)(x),_=(0,h.isSignatureTransactionType)(b)?{location:o.MetaMetricsEventLocation.SignatureConfirmation,signature_type:null==b||null===(e=b.msgParams)||void 0===e?void 0:e.signatureMethod}:{location:o.MetaMetricsEventLocation.Transaction,transaction_type:null==b?void 0:b.type};const S=(0,y.isCorrectDeveloperTransactionType)(null==b?void 0:b.type);return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.Box,{display:d.Display.Flex,justifyContent:d.JustifyContent.flexEnd,style:{alignSelf:"flex-end"}},a.default.createElement(c.default,{position:"bottom",title:C("accountDetails"),interactive:!0},a.default.createElement(i.ButtonIcon,{ariaLabel:C("accountDetails"),color:d.IconColor.iconDefault,iconName:i.IconName.Info,size:i.ButtonIconSize.Md,onClick:()=>{!function(){const e={category:o.MetaMetricsEventCategory.Confirmations,event:o.MetaMetricsEventName.AccountDetailsOpened,properties:{action:"Confirm Screen",..._}};t(e)}(),T(!0)},"data-testid":"header-info__account-details-button"})),S&&a.default.createElement(k.AdvancedDetailsButton,null)),a.default.createElement(i.Modal,{isOpen:n,onClose:()=>T(!1),"data-testid":"account-details-modal",isClosedOnEscapeKey:!1,isClosedOnOutsideClick:!1},a.default.createElement(i.ModalOverlay,null),a.default.createElement(i.ModalContent,null,a.default.createElement(i.ModalHeader,null,a.default.createElement(i.Box,{display:d.Display.Flex,justifyContent:d.JustifyContent.center,style:{position:"relative"}},a.default.createElement(i.Box,{style:{margin:"0 auto"},display:d.Display.Flex,justifyContent:d.JustifyContent.center,flexDirection:d.FlexDirection.Column,alignItems:d.AlignItems.center},a.default.createElement(v.default,{address:x,diameter:40}),a.default.createElement(i.Text,{fontWeight:d.FontWeight.Bold,variant:d.TextVariant.bodyMd,color:d.TextColor.textDefault,marginTop:2,"data-testid":"confirmation-account-details-modal__account-name"},w)),a.default.createElement(i.Box,{style:{position:"absolute",right:0}},a.default.createElement(i.ButtonIcon,{ariaLabel:C("close"),iconName:i.IconName.Close,size:i.ButtonIconSize.Sm,className:"confirm_header__close-button",onClick:()=>T(!1),"data-testid":"confirmation-account-details-modal__close-button"})))),a.default.createElement(i.ModalBody,null,a.default.createElement(r.ConfirmInfoRow,{label:"Account address"},a.default.createElement(l.AddressCopyButton,{address:x,shorten:!0})),a.default.createElement(r.ConfirmInfoRow,{label:"Balance"},a.default.createElement(s.ConfirmInfoRowCurrency,{value:E??0,"data-testid":"confirmation-account-details-modal__account-balance"}))))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/header/header-info.tsx"}],[7201,{"../../../../../../shared/constants/app":5957,"../../../../../components/component-library":6528,"../../../../../components/ui/identicon":6864,"../../../../../helpers/constants/design-system":6979,"../../../../../helpers/utils/accounts":7003,"../../../context/confirm":7359,"../../../hooks/useConfirmationNetworkInfo":7389,"../../../hooks/useConfirmationRecipientInfo":7390,"./dapp-initiated-header":7199,"./header-info":7200,"./wallet-initiated-header":7203,"@metamask/transaction-controller":3344,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("@metamask/transaction-controller"),o=h(e("react")),r=e("../../../../../../shared/constants/app"),s=e("../../../../../components/component-library"),i=h(e("../../../../../components/ui/identicon")),l=e("../../../../../helpers/constants/design-system"),c=e("../../../../../helpers/utils/accounts"),u=e("../../../context/confirm"),d=h(e("../../../hooks/useConfirmationNetworkInfo")),m=h(e("../../../hooks/useConfirmationRecipientInfo")),f=e("./dapp-initiated-header"),p=h(e("./header-info")),g=e("./wallet-initiated-header");function h(e){return e&&e.__esModule?e:{default:e}}const y=[a.TransactionType.tokenMethodTransfer,a.TransactionType.tokenMethodTransferFrom,a.TransactionType.tokenMethodSafeTransferFrom,a.TransactionType.simpleSend];n.default=()=>{const{networkImageUrl:e,networkDisplayName:t}=(0,d.default)(),{senderAddress:n,senderName:a}=(0,m.default)(),{currentConfirmation:h}=(0,u.useConfirmContext)(),v=o.default.createElement(s.Box,{display:l.Display.Flex,className:"confirm_header__wrapper",alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,"data-testid":"confirm-header"},o.default.createElement(s.Box,{alignItems:l.AlignItems.flexStart,display:l.Display.Flex,padding:4},o.default.createElement(s.Box,{display:l.Display.Flex,marginTop:2},o.default.createElement(i.default,{address:n,diameter:32}),o.default.createElement(s.AvatarNetwork,{src:e,name:t,size:s.AvatarNetworkSize.Xs,backgroundColor:(0,c.getAvatarNetworkColor)(t),className:"confirm_header__avatar-network"})),o.default.createElement(s.Box,{marginInlineStart:4},o.default.createElement(s.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.bodyMdMedium,"data-testid":"header-account-name"},a),o.default.createElement(s.Text,{color:l.TextColor.textAlternative,"data-testid":"header-network-display-name"},t))),o.default.createElement(s.Box,{alignItems:l.AlignItems.flexEnd,display:l.Display.Flex,padding:4},o.default.createElement(p.default,null))),k=(null==h?void 0:h.type)&&y.includes(h.type),T=(null==h?void 0:h.origin)===r.ORIGIN_METAMASK;return k&&T?o.default.createElement(g.WalletInitiatedHeader,null):k&&!T?o.default.createElement(f.DAppInitiatedHeader,null):v}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/header/header.tsx"}],[7202,{"./header":7201},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Header",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/header/index.tsx"}],[7203,{"../../../../../../shared/constants/transaction":5986,"../../../../../components/component-library":6528,"../../../../../ducks/confirm-transaction/confirm-transaction.duck":6960,"../../../../../ducks/send":6972,"../../../../../helpers/constants/design-system":6979,"../../../../../helpers/constants/routes":6985,"../../../../../hooks/useI18nContext":7081,"../../../../../store/actions":7667,"../../../context/confirm":7359,"./advanced-details-button":7198,"@metamask/transaction-controller":3344,react:5502,"react-redux":5460,"react-router-dom":5487},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WalletInitiatedHeader=void 0;var a=e("@metamask/transaction-controller"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("react-router-dom"),i=e("../../../../../../shared/constants/transaction"),l=e("../../../../../components/component-library"),c=e("../../../../../ducks/confirm-transaction/confirm-transaction.duck"),u=e("../../../../../ducks/send"),d=e("../../../../../helpers/constants/design-system"),m=e("../../../../../helpers/constants/routes"),f=e("../../../../../hooks/useI18nContext"),p=e("../../../../../store/actions"),g=e("../../../context/confirm"),h=e("./advanced-details-button");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}n.WalletInitiatedHeader=()=>{const e=(0,f.useI18nContext)(),t=(0,r.useDispatch)(),n=(0,s.useHistory)(),{currentConfirmation:y}=(0,g.useConfirmContext)(),v=(0,o.useCallback)((async()=>{const{id:e}=y,o=y.type===a.TransactionType.simpleSend,r=y.type===a.TransactionType.tokenMethodTransfer,s=y.type===a.TransactionType.tokenMethodTransferFrom||y.type===a.TransactionType.tokenMethodSafeTransferFrom;let l;l=o?i.AssetType.native:r?i.AssetType.token:s?i.AssetType.NFT:i.AssetType.unknown,await t((0,u.editExistingTransaction)(l,e.toString())),t((0,c.clearConfirmTransaction)()),t((0,p.showSendTokenPage)()),n.push(m.SEND_ROUTE)}),[y,t,n]);return o.default.createElement(l.Box,{alignItems:d.AlignItems.center,backgroundColor:d.BackgroundColor.backgroundDefault,display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,padding:3,style:{zIndex:2}},o.default.createElement(l.ButtonIcon,{iconName:l.IconName.ArrowLeft,ariaLabel:e("back"),size:l.ButtonIconSize.Md,onClick:v,"data-testid":"wallet-initiated-header-back-button",color:d.IconColor.iconDefault}),o.default.createElement(l.Text,{variant:d.TextVariant.headingMd,color:d.TextColor.inherit},e("review")),o.default.createElement(h.AdvancedDetailsButton,null))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/header/wallet-initiated-header.tsx"}],[7204,{"../../../../../../../components/app/confirm/info/row":6139,"../../../../../../../components/app/confirm/info/row/section":6141,"../../../../../../../hooks/useI18nContext":7081,"../../../../../context/confirm":7359,"../../../../../selectors/preferences":7415,"../../hooks/useTokenTransactionData":7223,"../../shared/sign-in-with-row/sign-in-with-row":7247,"../../shared/transaction-details/transaction-details":7250,"../../utils":7264,"../hooks/use-is-nft":7209,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ApproveDetails=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("react-redux"),s=e("../../../../../../../components/app/confirm/info/row"),i=e("../../../../../../../components/app/confirm/info/row/section"),l=e("../../../../../../../hooks/useI18nContext"),c=e("../../../../../context/confirm"),u=e("../../../../../selectors/preferences"),d=e("../../shared/sign-in-with-row/sign-in-with-row"),m=e("../../shared/transaction-details/transaction-details"),f=e("../../utils"),p=e("../hooks/use-is-nft"),g=e("../../hooks/useTokenTransactionData");const h=({isSetApprovalForAll:e=!1})=>{var t,n,a;const r=(0,l.useI18nContext)(),{currentConfirmation:i}=(0,c.useConfirmContext)(),{isNFT:u}=(0,p.useIsNFT)(i),d=(0,g.useTokenTransactionData)();if(!d)return null;const m=(null===(t=d.args)||void 0===t?void 0:t._spender)??(null===(n=d.args)||void 0===n?void 0:n._operator)??(null===(a=d.args)||void 0===a?void 0:a.spender),{chainId:h}=i;return(0,f.getIsRevokeSetApprovalForAll)(d)?null:o.default.createElement(o.default.Fragment,null,o.default.createElement(s.ConfirmInfoRow,{label:r(e?"permissionFor":"spender"),tooltip:r(u?"spenderTooltipDesc":"spenderTooltipERC20ApproveDesc"),"data-testid":"confirmation__approve-spender"},o.default.createElement(s.ConfirmInfoRowAddress,{address:m,chainId:h})),o.default.createElement(s.ConfirmInfoRowDivider,null))};n.ApproveDetails=({isSetApprovalForAll:e=!1})=>{const t=(0,r.useSelector)(u.selectConfirmationAdvancedDetailsOpen);return o.default.createElement(i.ConfirmInfoSection,{"data-testid":"confirmation__approve-details"},o.default.createElement(h,{isSetApprovalForAll:e}),o.default.createElement(m.OriginRow,null),o.default.createElement(d.SigningInWithRow,null),t&&o.default.createElement(o.default.Fragment,null,o.default.createElement(m.RecipientRow,null),o.default.createElement(m.MethodDataRow,null)))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/approve/approve-details/approve-details.tsx"}],[7205,{"../../../../../../../components/app/confirm/info/row":6139,"../../../../../../../components/app/name":6253,"../../../../../../../components/component-library":6528,"../../../../../../../components/ui/tooltip":6925,"../../../../../../../helpers/constants/design-system":6979,"../../../../../../../hooks/useI18nContext":7081,"../../../../../context/confirm":7359,"../../../../../hooks/useAssetDetails":7383,"../../shared/static-simulation/static-simulation":7248,"../../shared/transaction-data/transaction-data":7249,"../hooks/use-approve-token-simulation":7208,"../hooks/use-is-nft":7209,"@metamask/name-controller":2337,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ApproveStaticSimulation=void 0;var a=e("@metamask/name-controller"),o=y(e("react")),r=e("../../../../../../../components/app/confirm/info/row"),s=y(e("../../../../../../../components/app/name")),i=e("../../../../../../../components/component-library"),l=y(e("../../../../../../../components/ui/tooltip")),c=e("../../../../../../../helpers/constants/design-system"),u=e("../../../../../../../hooks/useI18nContext"),d=e("../../../../../context/confirm"),m=e("../../../../../hooks/useAssetDetails"),f=y(e("../../shared/static-simulation/static-simulation")),p=e("../../shared/transaction-data/transaction-data"),g=e("../hooks/use-approve-token-simulation"),h=e("../hooks/use-is-nft");function y(e){return e&&e.__esModule?e:{default:e}}n.ApproveStaticSimulation=()=>{var e,t,n;const y=(0,u.useI18nContext)(),{currentConfirmation:v}=(0,d.useConfirmContext)(),{decimals:k}=(0,m.useAssetDetails)(null==v||null===(e=v.txParams)||void 0===e?void 0:e.to,null==v||null===(t=v.txParams)||void 0===t?void 0:t.from,null==v||null===(n=v.txParams)||void 0===n?void 0:n.data,null==v?void 0:v.chainId),{spendingCap:T,isUnlimitedSpendingCap:b,formattedSpendingCap:x,value:w,pending:C}=(0,g.useApproveTokenSimulation)(v,k),{isNFT:E}=(0,h.useIsNFT)(v);if(C)return o.default.createElement(p.Container,{isLoading:!0});if(!w)return null;const{chainId:_}=v,S=o.default.createElement(i.Text,{"data-testid":"simulation-token-value",backgroundColor:c.BackgroundColor.backgroundAlternative,borderRadius:c.BorderRadius.XL,paddingInline:2,textAlign:c.TextAlign.Center,alignItems:c.AlignItems.center},b?y("unlimited"):x),I=o.default.createElement(r.ConfirmInfoRow,{label:y(E?"simulationApproveHeading":"spendingCap")},o.default.createElement(i.Box,{style:{marginLeft:"auto",maxWidth:"100%"}},o.default.createElement(i.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center},o.default.createElement(i.Box,{display:c.Display.Inline,marginInlineEnd:1,minWidth:c.BlockSize.Zero},Boolean(b)||T!==x?o.default.createElement(l.default,{title:T},S):S),o.default.createElement(s.default,{value:v.txParams.to,type:a.NameType.ETHEREUM_ADDRESS,preferContractSymbol:!0,variation:_}))));return o.default.createElement(f.default,{title:y("simulationDetailsTitle"),titleTooltip:y("simulationDetailsTitleTooltip"),description:y(E?"simulationDetailsApproveDesc":"simulationDetailsERC20ApproveDesc"),simulationElements:I})}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/approve/approve-static-simulation/approve-static-simulation.tsx"}],[7206,{"../../../../context/confirm":7359,"../../../../hooks/useAssetDetails":7383,"../shared/advanced-details/advanced-details":7236,"../shared/confirm-loader/confirm-loader":7237,"../shared/gas-fees-section/gas-fees-section":7243,"./approve-details/approve-details":7204,"./approve-static-simulation/approve-static-simulation":7205,"./edit-spending-cap-modal/edit-spending-cap-modal":7207,"./hooks/use-approve-token-simulation":7208,"./hooks/use-is-nft":7209,"./revoke-details/revoke-details":7210,"./revoke-static-simulation/revoke-static-simulation":7211,"./spending-cap/spending-cap":7212,"@metamask/transaction-controller":3344,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("@metamask/transaction-controller"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../context/confirm"),s=e("../../../../hooks/useAssetDetails"),i=e("../shared/advanced-details/advanced-details"),l=e("../shared/confirm-loader/confirm-loader"),c=e("../shared/gas-fees-section/gas-fees-section"),u=e("./approve-details/approve-details"),d=e("./approve-static-simulation/approve-static-simulation"),m=e("./edit-spending-cap-modal/edit-spending-cap-modal"),f=e("./hooks/use-approve-token-simulation"),p=e("./hooks/use-is-nft"),g=e("./revoke-details/revoke-details"),h=e("./revoke-static-simulation/revoke-static-simulation"),y=e("./spending-cap/spending-cap");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}n.default=()=>{const{currentConfirmation:e}=(0,r.useConfirmContext)(),{isNFT:t}=(0,p.useIsNFT)(e),[n,v]=(0,o.useState)(!1),{decimals:k}=(0,s.useAssetDetails)(e.txParams.to,e.txParams.from,e.txParams.data,e.chainId),{spendingCap:T,pending:b}=(0,f.useApproveTokenSimulation)(e,k),x="0"===T&&e.type===a.TransactionType.tokenMethodApprove;return null!=e&&e.txParams?b||!t&&!k?o.default.createElement(l.ConfirmLoader,null):o.default.createElement(o.default.Fragment,null,x?o.default.createElement(h.RevokeStaticSimulation,null):o.default.createElement(d.ApproveStaticSimulation,null),x?o.default.createElement(g.RevokeDetails,null):o.default.createElement(u.ApproveDetails,null),!t&&!x&&o.default.createElement(y.SpendingCap,{setIsOpenEditSpendingCapModal:v}),o.default.createElement(c.GasFeesSection,null),o.default.createElement(i.AdvancedDetails,null),o.default.createElement(m.EditSpendingCapModal,{isOpenEditSpendingCapModal:n,setIsOpenEditSpendingCapModal:v})):null}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/approve/approve.tsx"}],[7207,{"../../../../../../../../shared/lib/transactions-controller-utils":6004,"../../../../../../../../shared/modules/conversion.utils":6015,"../../../../../../../components/component-library":6528,"../../../../../../../helpers/constants/design-system":6979,"../../../../../../../hooks/useI18nContext":7081,"../../../../../../../store/actions":7667,"../../../../../confirm-approve/confirm-approve.util":7328,"../../../../../context/confirm":7359,"../../../../../hooks/useAssetDetails":7383,"../hooks/use-approve-token-simulation":7208,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EditSpendingCapModal=void 0,n.countDecimalDigits=h;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../../../../../../shared/lib/transactions-controller-utils"),s=e("../../../../../../../../shared/modules/conversion.utils"),i=e("../../../../../../../components/component-library"),l=e("../../../../../../../helpers/constants/design-system"),c=e("../../../../../../../hooks/useI18nContext"),u=e("../../../../../../../store/actions"),d=e("../../../../../confirm-approve/confirm-approve.util"),m=e("../../../../../context/confirm"),f=e("../../../../../hooks/useAssetDetails"),p=e("../hooks/use-approve-token-simulation");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e){var t;return(null===(t=e.split(".")[1])||void 0===t?void 0:t.length)||0}n.EditSpendingCapModal=({isOpenEditSpendingCapModal:e,setIsOpenEditSpendingCapModal:t})=>{const n=(0,c.useI18nContext)(),g=(0,o.useDispatch)(),{currentConfirmation:y}=(0,m.useConfirmContext)(),{userBalance:v,tokenSymbol:k,decimals:T}=(0,f.useAssetDetails)(y.txParams.to,y.txParams.from,y.txParams.data,y.chainId),b=(0,r.calcTokenAmount)(v??"0",Number(T??"0")).toFixed(),{formattedSpendingCap:x,spendingCap:w}=(0,p.useApproveTokenSimulation)(y,T),[C,E]=(0,a.useState)(w);(0,a.useEffect)((()=>{w&&E(w)}),[w]);const _=(0,a.useCallback)((()=>{t(!1),E(w)}),[t,E,w]),[S,I]=(0,a.useState)(!1),M=(0,a.useCallback)((async()=>{var e;I(!0);const n=(0,d.getCustomTxParamsData)(null==y||null===(e=y.txParams)||void 0===e?void 0:e.data,{customPermissionAmount:C||"0",decimals:T||"0"}),a=await(0,u.estimateGas)({from:y.txParams.from,to:y.txParams.to,value:y.txParams.value,data:n});g((0,u.updateEditableParams)(y.id,{data:n,gas:(0,s.hexToDecimal)(a)})),I(!1),t(!1),E(w)}),[C,w]),P=T&&parseInt(T,10)<h(C),A=/[-+e]/u.test(C);return a.default.createElement(i.Modal,{isOpen:e,onClose:_,isClosedOnEscapeKey:!0,isClosedOnOutsideClick:!0,className:"edit-spending-cap-modal"},a.default.createElement(i.ModalOverlay,null),a.default.createElement(i.ModalContent,null,a.default.createElement(i.ModalHeader,{justifyContent:l.JustifyContent.center,childrenWrapperProps:{alignItems:l.AlignItems.center,display:l.Display.Flex,flexDirection:l.FlexDirection.Column}},a.default.createElement(i.Text,{variant:l.TextVariant.headingMd},n("editSpendingCap"))),a.default.createElement(i.ModalBody,null,a.default.createElement(i.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative,paddingBottom:4},n("editSpendingCapDesc")),a.default.createElement(i.TextField,{type:i.TextFieldType.Number,value:C,onChange:e=>E(e.target.value),placeholder:`${x} ${k}`,style:{width:"100%"},inputProps:{"data-testid":"custom-spending-cap-input"}}),P&&a.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.errorDefault,paddingTop:1},n("editSpendingCapError",[T])),A&&a.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.errorDefault,paddingTop:1},n("editSpendingCapSpecialCharError")),a.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative,paddingTop:1},n("editSpendingCapAccountBalance",[b,k||""]))),a.default.createElement(i.ModalFooter,{onSubmit:M,onCancel:_,submitButtonProps:{children:n("save"),loading:S,disabled:P||A||""===C}})))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/approve/edit-spending-cap-modal/edit-spending-cap-modal.tsx"}],[7208,{"../../../../../../../../shared/lib/transactions-controller-utils":6004,"../../../../../../../ducks/locale/locale":6966,"../../../../simulation-details/formatAmount":7313,"../../hooks/useTokenTransactionData":7223,"../../shared/constants":7238,"./use-is-nft":7209,"bignumber.js":4195,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useApproveTokenSimulation=void 0;var a=e("bignumber.js"),o=e("react"),r=e("react-redux"),s=e("../../../../../../../../shared/lib/transactions-controller-utils"),i=e("../../../../../../../ducks/locale/locale"),l=e("../../../../simulation-details/formatAmount"),c=e("../../shared/constants"),u=e("../../hooks/useTokenTransactionData"),d=e("./use-is-nft");n.useApproveTokenSimulation=(e,t)=>{const n=(0,r.useSelector)(i.getIntlLocale),{isNFT:m,pending:f}=(0,d.useIsNFT)(e),{args:p}=(0,u.useTokenTransactionData)()??{},g=(null==p?void 0:p._value)??(null==p?void 0:p.increment)??new a.BigNumber(0),h=(0,s.calcTokenAmount)(g,Number(t??"0")).toFixed(),y=m?"#":"",v=(0,o.useMemo)((()=>m?`${y}${h}`:(0,l.formatAmount)(n,new a.BigNumber(h))),[h,m,n]),{spendingCap:k,isUnlimitedSpendingCap:T}=(0,o.useMemo)((()=>!m&&function(e){return e>=c.TOKEN_VALUE_UNLIMITED_THRESHOLD}(parseInt(h,10))?{spendingCap:h,isUnlimitedSpendingCap:!0}:{spendingCap:`${y}${h}`,isUnlimitedSpendingCap:!1}),[h,v,m]);return{isUnlimitedSpendingCap:T,spendingCap:k,formattedSpendingCap:v,value:g,pending:f}}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/approve/hooks/use-approve-token-simulation.ts"}],[7209,{"../../../../../../../../shared/constants/transaction":5986,"../../../../../../../hooks/useAsyncResult":7069,"../../../../../../../store/actions":7667},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsNFT=void 0;var a=e("../../../../../../../../shared/constants/transaction"),o=e("../../../../../../../hooks/useAsyncResult"),r=e("../../../../../../../store/actions");n.useIsNFT=e=>{var t;const{value:n,pending:s}=(0,o.useAsyncResult)((async()=>{var t;return await(0,r.getTokenStandardAndDetails)(null==e||null===(t=e.txParams)||void 0===t?void 0:t.to)}),[null==e||null===(t=e.txParams)||void 0===t?void 0:t.to]);return{pending:s,isNFT:(null==n?void 0:n.standard)!==a.TokenStandard.ERC20}}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/approve/hooks/use-is-nft.ts"}],[7210,{"../../../../../../../components/app/confirm/info/row/section":6141,"../../shared/sign-in-with-row/sign-in-with-row":7247,"../../shared/transaction-details/transaction-details":7250,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RevokeDetails=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../../../../../components/app/confirm/info/row/section"),s=e("../../shared/transaction-details/transaction-details"),i=e("../../shared/sign-in-with-row/sign-in-with-row");n.RevokeDetails=()=>o.default.createElement(r.ConfirmInfoSection,null,o.default.createElement(s.OriginRow,null),o.default.createElement(i.SigningInWithRow,null))}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/approve/revoke-details/revoke-details.tsx"}],[7211,{"../../../../../../../components/app/confirm/info/row":6139,"../../../../../../../components/app/name":6253,"../../../../../../../components/component-library":6528,"../../../../../../../helpers/constants/design-system":6979,"../../../../../../../hooks/useI18nContext":7081,"../../../../../context/confirm":7359,"../../shared/static-simulation/static-simulation":7248,"@metamask/name-controller":2337,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RevokeStaticSimulation=void 0;var a=e("@metamask/name-controller"),o=m(e("react")),r=e("../../../../../../../components/app/confirm/info/row"),s=m(e("../../../../../../../components/app/name")),i=e("../../../../../../../components/component-library"),l=e("../../../../../../../helpers/constants/design-system"),c=e("../../../../../../../hooks/useI18nContext"),u=e("../../../../../context/confirm"),d=m(e("../../shared/static-simulation/static-simulation"));function m(e){return e&&e.__esModule?e:{default:e}}n.RevokeStaticSimulation=()=>{const e=(0,c.useI18nContext)(),{currentConfirmation:t}=(0,u.useConfirmContext)(),{chainId:n}=t,m=o.default.createElement(r.ConfirmInfoRow,{label:e("spendingCap")},o.default.createElement(i.Box,{style:{marginLeft:"auto",maxWidth:"100%"}},o.default.createElement(i.Box,{display:l.Display.Flex},o.default.createElement(s.default,{value:t.txParams.to,type:a.NameType.ETHEREUM_ADDRESS,preferContractSymbol:!0,variation:n})))),f=o.default.createElement(r.ConfirmInfoRow,{label:e("spender")},o.default.createElement(i.Box,{style:{marginLeft:"auto",maxWidth:"100%"}},o.default.createElement(i.Box,{display:l.Display.Flex},o.default.createElement(s.default,{value:t.txParams.from,type:a.NameType.ETHEREUM_ADDRESS,preferContractSymbol:!0,variation:n})))),p=o.default.createElement(o.default.Fragment,null,m,f);return o.default.createElement(d.default,{title:e("simulationDetailsTitle"),titleTooltip:e("simulationDetailsTitleTooltip"),description:e("revokeSimulationDetailsDesc"),simulationElements:p})}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/approve/revoke-static-simulation/revoke-static-simulation.tsx"}],[7212,{"../../../../../../../../shared/lib/transactions-controller-utils":6004,"../../../../../../../components/app/confirm/info/row":6139,"../../../../../../../components/app/confirm/info/row/section":6141,"../../../../../../../components/ui/tooltip":6925,"../../../../../../../hooks/useI18nContext":7081,"../../../../../context/confirm":7359,"../../../../../hooks/useAssetDetails":7383,"../../shared/transaction-data/transaction-data":7249,"../hooks/use-approve-token-simulation":7208,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SpendingCap=void 0;var a=f(e("react")),o=e("../../../../../../../../shared/lib/transactions-controller-utils"),r=e("../../../../../../../components/app/confirm/info/row"),s=e("../../../../../../../components/app/confirm/info/row/section"),i=f(e("../../../../../../../components/ui/tooltip")),l=e("../../../../../../../hooks/useI18nContext"),c=e("../../../../../context/confirm"),u=e("../../../../../hooks/useAssetDetails"),d=e("../../shared/transaction-data/transaction-data"),m=e("../hooks/use-approve-token-simulation");function f(e){return e&&e.__esModule?e:{default:e}}const p=({tokenSymbol:e,decimals:t,setIsOpenEditSpendingCapModal:n})=>{const o=(0,l.useI18nContext)(),{currentConfirmation:s}=(0,c.useConfirmContext)(),{spendingCap:u,isUnlimitedSpendingCap:d,formattedSpendingCap:f,value:p}=(0,m.useApproveTokenSimulation)(s,t),g=a.default.createElement(r.ConfirmInfoRowText,{text:d?`${o("unlimited")} ${e}`:`${f} ${e}`,onEditClick:()=>n(!0),editIconClassName:"edit-spending-cap-btn",editIconDataTestId:"edit-spending-cap-icon"});return p?a.default.createElement(a.default.Fragment,null,a.default.createElement(r.ConfirmInfoRowDivider,null),a.default.createElement(r.ConfirmInfoRow,{label:o("spendingCap"),tooltip:o("spendingCapTooltipDesc"),"data-testid":"confirmation__approve-spending-cap-group"},Boolean(d)||u!==f?a.default.createElement(i.default,{title:u},g):g)):null};n.SpendingCap=({setIsOpenEditSpendingCapModal:e})=>{const t=(0,l.useI18nContext)(),{currentConfirmation:n}=(0,c.useConfirmContext)(),{userBalance:i,tokenSymbol:f,decimals:g}=(0,u.useAssetDetails)(n.txParams.to,n.txParams.from,n.txParams.data,n.chainId),h=(0,o.calcTokenAmount)(i??"0",Number(g??"0")).toFixed(),{pending:y}=(0,m.useApproveTokenSimulation)(n,g);return y?a.default.createElement(d.Container,{isLoading:!0}):a.default.createElement(s.ConfirmInfoSection,{"data-testid":"confirmation__approve-spending-cap-section"},a.default.createElement(r.ConfirmInfoRow,{label:t("accountBalance")},a.default.createElement(r.ConfirmInfoRowText,{text:`${h} ${f||""}`})),a.default.createElement(p,{tokenSymbol:f||"",decimals:g||"0",setIsOpenEditSpendingCapModal:e}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/approve/spending-cap/spending-cap.tsx"}],[7213,{"../../../../context/confirm":7359,"../../../simulation-details":7314,"../shared/advanced-details/advanced-details":7236,"../shared/gas-fees-section/gas-fees-section":7243,"../shared/transaction-details/transaction-details":7250,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../../context/confirm"),s=e("../../../simulation-details"),i=e("../shared/advanced-details/advanced-details"),l=e("../shared/gas-fees-section/gas-fees-section"),c=e("../shared/transaction-details/transaction-details");n.default=()=>{const{currentConfirmation:e}=(0,r.useConfirmContext)();return null!=e&&e.txParams?o.default.createElement(o.default.Fragment,null,o.default.createElement(s.SimulationDetails,{transaction:e,isTransactionsRedesign:!0,enableMetrics:!0}),o.default.createElement(c.TransactionDetails,null),o.default.createElement(l.GasFeesSection,null),o.default.createElement(i.AdvancedDetails,null)):null}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/base-transaction-info/base-transaction-info.tsx"}],[7214,{"../../../../../../../shared/lib/transactions-controller-utils":6004,"../../../../../../components/app/currency-input/hooks/useTokenExchangeRate":6170,"../../../../../../ducks/locale/locale":6966,"../../../../../../hooks/useFiatFormatter":7077,"../../../../hooks/useAssetDetails":7383,"../../../simulation-details/formatAmount":7313,"./useTokenTransactionData":7223,"bignumber.js":4195,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenValues=void 0;var a,o=e("bignumber.js"),r=e("react-redux"),s=e("../../../../../../../shared/lib/transactions-controller-utils"),i=(a=e("../../../../../../components/app/currency-input/hooks/useTokenExchangeRate"))&&a.__esModule?a:{default:a},l=e("../../../../../../ducks/locale/locale"),c=e("../../../../../../hooks/useFiatFormatter"),u=e("../../../../hooks/useAssetDetails"),d=e("../../../simulation-details/formatAmount"),m=e("./useTokenTransactionData");n.useTokenValues=e=>{var t,n;const a=(0,r.useSelector)(l.getIntlLocale),f=(0,m.useTokenTransactionData)(),p=(0,i.default)(null==e||null===(t=e.txParams)||void 0===t?void 0:t.to),g=(0,c.useFiatFormatter)(),{decimals:h}=(0,u.useAssetDetails)(e.txParams.to,e.txParams.from,e.txParams.data,e.chainId),y=null==f||null===(n=f.args)||void 0===n?void 0:n._value,v=h!==undefined&&y?(0,s.calcTokenAmount)(y,Number(h)).toFixed():"0",k=p&&v&&p.times(v,10).toNumber(),T=k&&g(k,{shorten:!0});return{decodedTransferValue:v,displayTransferValue:(0,d.formatAmount)(a,new o.BigNumber(v)),fiatDisplayValue:T,fiatValue:k}}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/hooks/use-token-values.ts"}],[7215,{"../../../../../../../shared/modules/transaction.utils":6038,"../../../../../../hooks/useAsyncResult":7069,"../../../../../../selectors":7653,"../../../../../../store/actions":7667,"../../../../context/confirm":7359,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDecodedTransactionData=function(e){var t,n,c;const{currentConfirmation:u}=(0,s.useConfirmContext)(),d=(0,a.useSelector)(l.use4ByteResolutionSelector),m=null==u?void 0:u.type,f=null==u?void 0:u.chainId,p=null==u||null===(t=u.txParams)||void 0===t?void 0:t.to,g=null==u||null===(n=u.txParams)||void 0===n?void 0:n.data,h=null==u||null===(c=u.txParams)||void 0===c?void 0:c.to;return(0,o.useAsyncResult)((async()=>!d||!(0,i.hasTransactionData)(g)||!h||e&&m!==e?undefined:await(0,r.decodeTransactionData)({transactionData:g,chainId:f,contractAddress:p})),[d,g,h,f,p])};var a=e("react-redux"),o=e("../../../../../../hooks/useAsyncResult"),r=e("../../../../../../store/actions"),s=e("../../../../context/confirm"),i=e("../../../../../../../shared/modules/transaction.utils"),l=e("../../../../../../selectors")}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/hooks/useDecodedTransactionData.ts"}],[7216,{"../../../../../../../shared/modules/conversion.utils":6015,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEIP1559TxFees=void 0;var a=e("react"),o=e("../../../../../../../shared/modules/conversion.utils");n.useEIP1559TxFees=e=>{var t,n;const r=null==e||null===(t=e.txParams)||void 0===t?void 0:t.maxFeePerGas,s=null==e||null===(n=e.txParams)||void 0===n?void 0:n.maxPriorityFeePerGas;return(0,a.useMemo)((()=>({maxFeePerGas:r?(0,o.hexToDecimal)(r):"0",maxPriorityFeePerGas:s?(0,o.hexToDecimal)(s):"0"})),[r,s])}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/hooks/useEIP1559TxFees.ts"}],[7217,{"../../../../../../../shared/constants/common":5959,"../../../../../../../shared/modules/Numeric":6006,"../../../../../../../shared/modules/conversion.utils":6015,"../../../../../../ducks/metamask/metamask":6967,"../../../../../../hooks/useFiatFormatter":7077,"../../../../../../hooks/useGasFeeEstimates":7078,"../../../../../../selectors":7653,"../../../../../../selectors/multichain":7656,"../shared/constants":7238,"./useEIP1559TxFees":7216,"./useSupportsEIP1559":7221,"./useTransactionGasFeeEstimate":7224,"@metamask/utils":3434,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useFeeCalculations=function(e){var t,n,k;const T=(0,r.useSelector)(d.getCurrentCurrency),{chainId:b}=e,x=(0,c.useFiatFormatter)(),w=(0,r.useSelector)((e=>(0,m.selectConversionRateByChainId)(e,b))),C=(0,r.useSelector)(f.getMultichainNetwork),E=null==C||null===(t=C.network)||void 0===t?void 0:t.ticker,_=(0,o.useCallback)((e=>{const t=`${(0,i.getValueFromWeiHex)({value:e,fromCurrency:s.EtherDenomination.GWEI,numberOfDecimals:4})||0} ${E}`,n=Number((0,i.getValueFromWeiHex)({value:e,conversionRate:w,fromCurrency:s.EtherDenomination.GWEI,toCurrency:T,numberOfDecimals:2}));let o,r;return 0===n?(o=`< ${x(.01)}`,r=(0,i.getValueFromWeiHex)({value:e,conversionRate:w,fromCurrency:s.EtherDenomination.GWEI,toCurrency:T,numberOfDecimals:18})):(o=x(n),r=null),{currentCurrencyFee:o,currentCurrencyFeeWith18SignificantDigits:r,nativeCurrencyFee:t,preciseNativeFeeInHex:(0,a.add0x)(e)}}),[w,T,x]),{maxFeePerGas:S,maxPriorityFeePerGas:I}=(0,g.useEIP1559TxFees)(e),{supportsEIP1559:M}=(0,h.useSupportsEIP1559)(e),P=(0,y.useTransactionGasFeeEstimate)(e,M),{gasFeeEstimates:A}=(0,u.useGasFeeEstimates)(e.networkClientId),D=null==A?void 0:A.estimatedBaseFee,O=null==e?void 0:e.layer1GasFee,F=Boolean(O),N=(0,o.useMemo)((()=>F?_(O):v),[O]),R=(0,o.useMemo)((()=>F?_(P):v),[P]),B=(null==e||null===(n=e.txParams)||void 0===n?void 0:n.gas)||p.HEX_ZERO,j=(null==e||null===(k=e.txParams)||void 0===k?void 0:k.gasPrice)||p.HEX_ZERO,$=(0,o.useMemo)((()=>(0,i.multiplyHexes)(M?(0,i.decimalToHex)(S):j,B)),[M,S,B,j]),{currentCurrencyFee:L,currentCurrencyFeeWith18SignificantDigits:W,nativeCurrencyFee:q}=_($),G=(0,o.useMemo)((()=>{if(F){const e=(0,i.addHexes)(P,O);return _(e)}let t=(0,i.addHexes)((0,i.decGWEIToHexWEI)(D)||p.HEX_ZERO,(0,i.decimalToHex)(I));new l.Numeric(t,16).greaterThan((0,i.decimalToHex)(S),16)&&(t=(0,i.decimalToHex)(S));const n=e.gasLimitNoBuffer||p.HEX_ZERO,a=(0,i.multiplyHexes)(M?t:j,n);return _(a)}),[P,e,D,I,_]);return{estimatedFeeFiat:G.currentCurrencyFee,estimatedFeeFiatWith18SignificantDigits:G.currentCurrencyFeeWith18SignificantDigits,estimatedFeeNative:G.nativeCurrencyFee,l1FeeFiat:N.currentCurrencyFee,l1FeeFiatWith18SignificantDigits:N.currentCurrencyFeeWith18SignificantDigits,l1FeeNative:N.nativeCurrencyFee,l2FeeFiat:R.currentCurrencyFee,l2FeeFiatWith18SignificantDigits:R.currentCurrencyFeeWith18SignificantDigits,l2FeeNative:R.nativeCurrencyFee,maxFeeFiat:L,maxFeeFiatWith18SignificantDigits:W,maxFeeNative:q,preciseNativeFeeInHex:G.preciseNativeFeeInHex}};var a=e("@metamask/utils"),o=e("react"),r=e("react-redux"),s=e("../../../../../../../shared/constants/common"),i=e("../../../../../../../shared/modules/conversion.utils"),l=e("../../../../../../../shared/modules/Numeric"),c=e("../../../../../../hooks/useFiatFormatter"),u=e("../../../../../../hooks/useGasFeeEstimates"),d=e("../../../../../../ducks/metamask/metamask"),m=e("../../../../../../selectors"),f=e("../../../../../../selectors/multichain"),p=e("../shared/constants"),g=e("./useEIP1559TxFees"),h=e("./useSupportsEIP1559"),y=e("./useTransactionGasFeeEstimate");const v={currentCurrencyFee:"",currentCurrencyFeeWith18SignificantDigits:"",nativeCurrencyFee:""}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/hooks/useFeeCalculations.ts"}],[7218,{"../../../../../../../shared/modules/transaction.utils":6038,"../../../../../../selectors":7653,"../../../../../../store/actions":7667,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useFourByte=void 0;var a=e("react-redux"),o=e("react"),r=e("../../../../../../selectors"),s=e("../../../../../../store/actions"),i=e("../../../../../../../shared/modules/transaction.utils");n.useFourByte=e=>{var t,n;const l=(0,a.useDispatch)(),c=(0,a.useSelector)(r.use4ByteResolutionSelector),u=null==e||null===(t=e.txParams)||void 0===t?void 0:t.to,d=null==e||null===(n=e.txParams)||void 0===n?void 0:n.data;(0,o.useEffect)((()=>{c&&(0,i.hasTransactionData)(d)&&u&&l((0,s.getContractMethodData)(d))}),[c,d,u,l]);const m=(0,a.useSelector)((e=>(0,r.getKnownMethodData)(e,d)));return u?m:null}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/hooks/useFourByte.ts"}],[7219,{"../../../../../../../shared/modules/conversion.utils":6015,"../../../../../../selectors":7653,"../../../../../../store/actions":7667,"../../../../context/confirm":7359,"./useFeeCalculations":7217,"@metamask/transaction-controller":3344,"@metamask/utils":3434,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMaxValueRefresher=void 0;var a=e("react"),o=e("react-redux"),r=e("@metamask/transaction-controller"),s=e("@metamask/utils"),i=e("../../../../../../selectors"),l=e("../../../../../../../shared/modules/conversion.utils"),c=e("../../../../../../store/actions"),u=e("../../../../context/confirm"),d=e("./useFeeCalculations");n.useMaxValueRefresher=()=>{const{currentConfirmation:e}=(0,u.useConfirmContext)(),t=(0,o.useDispatch)(),{preciseNativeFeeInHex:n}=(0,d.useFeeCalculations)(e),m=(0,o.useSelector)(i.getSelectedAccountCachedBalance),f=(0,o.useSelector)((t=>(0,i.selectMaxValueModeForTransaction)(t,null==e?void 0:e.id)));(0,a.useEffect)((()=>{if(!f||e.type!==r.TransactionType.simpleSend)return;const a=(0,l.subtractHexes)(m,n),o=(0,s.add0x)(a);t((0,c.updateEditableParams)(e.id,{value:o}))}),[f,m,n])}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/hooks/useMaxValueRefresher.ts"}],[7220,{"../../../../hooks/useTransactionEventFragment":7409,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSendingValueMetric=void 0;var a=e("react"),o=e("../../../../hooks/useTransactionEventFragment");n.useSendingValueMetric=({transactionMeta:e,fiatValue:t})=>{const{updateTransactionEventFragment:n}=(0,o.useTransactionEventFragment)(),r=e.id,s={properties:{sending_value:t},sensitiveProperties:{}};(0,a.useEffect)((()=>{t!==undefined&&""!==t&&n(s,r)}),[n,r,JSON.stringify(s)])}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/hooks/useSendingValueMetric.ts"}],[7221,{"../../../../../../../shared/modules/selectors/networks":6033,"../../../../../../helpers/utils/transactions.util":7026,"../../../../../../selectors":7653,"@metamask/transaction-controller":3344,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSupportsEIP1559=function(e){var t;const n=(null==e||null===(t=e.txParams)||void 0===t?void 0:t.type)===a.TransactionEnvelopeType.legacy||(0,r.isLegacyTransaction)(e),l=(0,o.useSelector)(i.getSelectedNetworkClientId),c=(0,o.useSelector)((e=>(0,s.checkNetworkAndAccountSupports1559)(e,l)));return{supportsEIP1559:c&&!n}};var a=e("@metamask/transaction-controller"),o=e("react-redux"),r=e("../../../../../../helpers/utils/transactions.util"),s=e("../../../../../../selectors"),i=e("../../../../../../../shared/modules/selectors/networks")}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/hooks/useSupportsEIP1559.ts"}],[7222,{"../../../../../../hooks/useI18nContext":7081,"../../../../../../selectors":7653,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenDetails=void 0;var a=e("react-redux"),o=e("../../../../../../hooks/useI18nContext"),r=e("../../../../../../selectors");n.useTokenDetails=e=>{var t,n,s,i;const l=(0,o.useI18nContext)(),c=(0,a.useSelector)((t=>(0,r.getWatchedToken)(e)(t))),u=(0,a.useSelector)(r.getTokenList);return{tokenImage:(null==c?void 0:c.iconUrl)||(null==c?void 0:c.image)||(null===(t=u[null==e||null===(n=e.txParams)||void 0===n?void 0:n.to])||void 0===t?void 0:t.iconUrl),tokenSymbol:(null==c?void 0:c.symbol)||(null===(s=u[null==e||null===(i=e.txParams)||void 0===i?void 0:i.to])||void 0===s?void 0:s.symbol)||l("unknown")}}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/hooks/useTokenDetails.ts"}],[7223,{"../../../../../../../shared/modules/transaction.utils":6038,"../../../../context/confirm":7359},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenTransactionData=function(){var e;const{currentConfirmation:t}=(0,a.useConfirmContext)(),n=null==t||null===(e=t.txParams)||void 0===e?void 0:e.data;if(!n)return undefined;return(0,o.parseStandardTokenTransactionData)(n)};var a=e("../../../../context/confirm"),o=e("../../../../../../../shared/modules/transaction.utils")}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/hooks/useTokenTransactionData.ts"}],[7224,{"../../../../../../../shared/modules/Numeric":6006,"../../../../../../../shared/modules/conversion.utils":6015,"../../../../../../hooks/useGasFeeEstimates":7078,"../shared/constants":7238},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionGasFeeEstimate=function(e,t){var n,i;let{gas:l,gasPrice:c}=e.txParams;const{gasFeeEstimates:u}=(0,r.useGasFeeEstimates)(e.networkClientId),d=null==u?void 0:u.estimatedBaseFee;l=l||s.HEX_ZERO,c=c||s.HEX_ZERO;const m=(null===(n=e.txParams)||void 0===n?void 0:n.maxPriorityFeePerGas)||s.HEX_ZERO,f=(null===(i=e.txParams)||void 0===i?void 0:i.maxFeePerGas)||s.HEX_ZERO;let p;if(t){let e=(0,a.addHexes)(d||s.HEX_ZERO,m);new o.Numeric(e,16).greaterThan(f,16)&&(e=f),p=(0,a.multiplyHexes)(e,l)}else p=(0,a.multiplyHexes)(c,l);return p};var a=e("../../../../../../../shared/modules/conversion.utils"),o=e("../../../../../../../shared/modules/Numeric"),r=e("../../../../../../hooks/useGasFeeEstimates"),s=e("../shared/constants")}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/hooks/useTransactionGasFeeEstimate.ts"}],[7225,{"../../../../context/confirm":7359,"./useTokenTransactionData":7223,"@metamask/transaction-controller":3344},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransferRecipient=function(){var e,t,n;const{currentConfirmation:s}=(0,o.useConfirmContext)(),i=(0,r.useTokenTransactionData)(),l=null==s?void 0:s.type,c=null==s||null===(e=s.txParams)||void 0===e?void 0:e.to,u=(null==i||null===(t=i.args)||void 0===t?void 0:t._to)||(null==i||null===(n=i.args)||void 0===n?void 0:n.to);return l===a.TransactionType.simpleSend?c:u};var a=e("@metamask/transaction-controller"),o=e("../../../../context/confirm"),r=e("./useTokenTransactionData")}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/hooks/useTransferRecipient.ts"}],[7226,{"./info":7227},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Info",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./info"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/index.ts"}],[7227,{"../../../context/confirm":7359,"../../../hooks/useSmartTransactionFeatureFlags":7407,"./approve/approve":7206,"./base-transaction-info/base-transaction-info":7213,"./native-transfer/native-transfer":7228,"./nft-token-transfer/nft-token-transfer":7229,"./personal-sign/personal-sign":7230,"./set-approval-for-all-info/set-approval-for-all-info":7234,"./token-transfer/token-transfer":7252,"./typed-sign-v1/typed-sign-v1":7254,"./typed-sign/typed-sign":7263,"@metamask/transaction-controller":3344,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("@metamask/transaction-controller"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../context/confirm"),s=e("../../../hooks/useSmartTransactionFeatureFlags"),i=h(e("./approve/approve")),l=h(e("./base-transaction-info/base-transaction-info")),c=h(e("./native-transfer/native-transfer")),u=h(e("./nft-token-transfer/nft-token-transfer")),d=h(e("./personal-sign/personal-sign")),m=h(e("./set-approval-for-all-info/set-approval-for-all-info")),f=h(e("./token-transfer/token-transfer")),p=h(e("./typed-sign-v1/typed-sign-v1")),g=h(e("./typed-sign/typed-sign"));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}n.default=()=>{const{currentConfirmation:e}=(0,r.useConfirmContext)();(0,s.useSmartTransactionFeatureFlags)();const t=(0,o.useMemo)((()=>({[a.TransactionType.contractInteraction]:()=>l.default,[a.TransactionType.deployContract]:()=>l.default,[a.TransactionType.personalSign]:()=>d.default,[a.TransactionType.simpleSend]:()=>c.default,[a.TransactionType.signTypedData]:()=>{const{version:t}=(null==e?void 0:e.msgParams)??{};return"V1"===t?p.default:g.default},[a.TransactionType.tokenMethodApprove]:()=>i.default,[a.TransactionType.tokenMethodIncreaseAllowance]:()=>i.default,[a.TransactionType.tokenMethodSafeTransferFrom]:()=>u.default,[a.TransactionType.tokenMethodSetApprovalForAll]:()=>m.default,[a.TransactionType.tokenMethodTransfer]:()=>f.default,[a.TransactionType.tokenMethodTransferFrom]:()=>u.default})),[e]);if(null==e||!e.type)return null;const n=t[null==e?void 0:e.type]();return o.default.createElement(n,null)}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/info.tsx"}],[7228,{"../../../../context/confirm":7359,"../../../simulation-details":7314,"../hooks/useMaxValueRefresher":7219,"../shared/advanced-details/advanced-details":7236,"../shared/gas-fees-section/gas-fees-section":7243,"../shared/native-send-heading/native-send-heading":7244,"../token-transfer/token-details-section":7251,"../token-transfer/transaction-flow-section":7253,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=m(e("react")),o=e("../../../../context/confirm"),r=e("../../../simulation-details"),s=e("../shared/advanced-details/advanced-details"),i=e("../shared/gas-fees-section/gas-fees-section"),l=m(e("../shared/native-send-heading/native-send-heading")),c=e("../token-transfer/token-details-section"),u=e("../token-transfer/transaction-flow-section"),d=e("../hooks/useMaxValueRefresher");function m(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const{currentConfirmation:e}=(0,o.useConfirmContext)();(0,d.useMaxValueRefresher)();const t="metamask"===e.origin;return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,null),a.default.createElement(u.TransactionFlowSection,null),a.default.createElement(r.SimulationDetails,{transaction:e,isTransactionsRedesign:!0,enableMetrics:!0,metricsOnly:t}),a.default.createElement(c.TokenDetailsSection,null),a.default.createElement(i.GasFeesSection,null),a.default.createElement(s.AdvancedDetails,null))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/native-transfer/native-transfer.tsx"}],[7229,{"../../../../context/confirm":7359,"../../../simulation-details":7314,"../shared/advanced-details/advanced-details":7236,"../shared/gas-fees-section/gas-fees-section":7243,"../shared/nft-send-heading/nft-send-heading":7245,"../token-transfer/token-details-section":7251,"../token-transfer/transaction-flow-section":7253,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),o=e("../../../../context/confirm"),r=e("../../../simulation-details"),s=e("../shared/advanced-details/advanced-details"),i=e("../shared/gas-fees-section/gas-fees-section"),l=d(e("../shared/nft-send-heading/nft-send-heading")),c=e("../token-transfer/token-details-section"),u=e("../token-transfer/transaction-flow-section");function d(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const{currentConfirmation:e}=(0,o.useConfirmContext)(),t="metamask"===e.origin;return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,null),a.default.createElement(u.TransactionFlowSection,null),a.default.createElement(r.SimulationDetails,{transaction:e,isTransactionsRedesign:!0,enableMetrics:!0,metricsOnly:t}),a.default.createElement(c.TokenDetailsSection,null),a.default.createElement(i.GasFeesSection,null),a.default.createElement(s.AdvancedDetails,null))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/nft-token-transfer/nft-token-transfer.tsx"}],[7230,{"../../../../../../components/app/confirm/info/row":6139,"../../../../../../components/app/confirm/info/row/alert-row/alert-row":6131,"../../../../../../components/app/confirm/info/row/constants":6132,"../../../../../../components/app/confirm/info/row/section":6141,"../../../../../../components/component-library":6528,"../../../../../../components/ui/tooltip":6925,"../../../../../../helpers/constants/design-system":6979,"../../../../../../helpers/utils/util":7028,"../../../../../../hooks/useI18nContext":7081,"../../../../context/confirm":7359,"../../../../selectors/preferences":7415,"../../../../utils":7422,"../shared/sign-in-with-row/sign-in-with-row":7247,"../utils":7264,"./siwe-sign":7231,"@metamask/snaps-utils":3270,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=b(e("react")),o=e("react-redux"),r=e("@metamask/snaps-utils"),s=e("../../../../../../components/app/confirm/info/row"),i=e("../../../../../../components/app/confirm/info/row/alert-row/alert-row"),l=e("../../../../../../components/app/confirm/info/row/constants"),c=e("../../../../../../components/app/confirm/info/row/section"),u=e("../../../../../../components/component-library"),d=b(e("../../../../../../components/ui/tooltip")),m=e("../../../../../../helpers/constants/design-system"),f=e("../../../../../../helpers/utils/util"),p=e("../../../../../../hooks/useI18nContext"),g=e("../../../../context/confirm"),h=e("../../../../selectors/preferences"),y=e("../../../../utils"),v=e("../shared/sign-in-with-row/sign-in-with-row"),k=e("../utils"),T=e("./siwe-sign");function b(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{var e;const t=(0,p.useI18nContext)(),{currentConfirmation:n}=(0,g.useConfirmContext)(),b=(0,o.useSelector)(h.selectUseTransactionSimulations);if(null==n||!n.msgParams)return null;const x=(0,y.isSIWESignatureRequest)(n),w=(e=>{if(!e)return e;const t=(0,f.sanitizeString)((0,f.hexToText)(e));return(0,k.isValidUTF8)(t)?t:e})(null===(e=n.msgParams)||void 0===e?void 0:e.data);let C;x||(C=(0,r.isSnapId)(n.msgParams.origin)?t("requestFromInfoSnap"):t("requestFromInfo"));const E=a.default.createElement(u.Box,{display:m.Display.Flex,flexDirection:m.FlexDirection.Row,alignItems:m.AlignItems.center,gap:1},a.default.createElement(u.Text,{variant:m.TextVariant.bodyMdMedium},t("simulationDetailsTitle")),a.default.createElement(d.default,{interactive:!0,position:"top",containerClassName:"info-tooltip__tooltip-container",tooltipInnerClassName:"info-tooltip__tooltip-content",tooltipArrowClassName:"info-tooltip__top-tooltip-arrow",html:t("simulationDetailsTitleTooltip"),theme:"tippy-tooltip-info",style:{display:m.Display.Flex}},a.default.createElement(u.Icon,{name:u.IconName.Question,marginLeft:1,color:m.IconColor.iconMuted,size:u.IconSize.Sm}))),_=a.default.createElement(u.Text,{color:m.TextColor.textAlternative,variant:m.TextVariant.bodyMd},t("simulationDetailsNoChanges"));return a.default.createElement(a.default.Fragment,null,x&&b&&a.default.createElement(c.ConfirmInfoSection,null,a.default.createElement(u.Box,{"data-testid":"simulation-details-layout",className:"simulation-details-layout",display:m.Display.Flex,flexDirection:m.FlexDirection.Column,borderRadius:m.BorderRadius.LG,borderColor:m.BorderColor.transparent,padding:2,gap:3},a.default.createElement(u.Box,{display:m.Display.Flex,flexDirection:m.FlexDirection.Row,alignItems:m.AlignItems.center,justifyContent:m.JustifyContent.spaceBetween},E,_))),a.default.createElement(c.ConfirmInfoSection,null,a.default.createElement(i.ConfirmInfoAlertRow,{alertKey:l.RowAlertKey.RequestFrom,ownerId:n.id,label:t("requestFrom"),tooltip:C},a.default.createElement(s.ConfirmInfoRowUrl,{url:n.msgParams.origin})),a.default.createElement(v.SigningInWithRow,null)),a.default.createElement(c.ConfirmInfoSection,null,x?a.default.createElement(T.SIWESignInfo,null):a.default.createElement(i.ConfirmInfoAlertRow,{alertKey:"message",ownerId:n.id,label:t("message"),collapsed:!1,copyEnabled:!0,copyText:w},a.default.createElement(s.ConfirmInfoRowText,{text:w}))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/personal-sign/personal-sign.tsx"}],[7231,{"./siwe-sign":7232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SIWESignInfo",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./siwe-sign"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/personal-sign/siwe-sign/index.ts"}],[7232,{"../../../../../../../../shared/constants/network":5972,"../../../../../../../components/app/confirm/info/row":6139,"../../../../../../../components/component-library":6528,"../../../../../../../helpers/constants/design-system":6979,"../../../../../../../hooks/useI18nContext":7081,"../../../../../context/confirm":7359,"@metamask/controller-utils":1506,luxon:5116,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("luxon"),s=e("@metamask/controller-utils"),i=e("../../../../../../../../shared/constants/network"),l=e("../../../../../../../hooks/useI18nContext"),c=e("../../../../../../../components/app/confirm/info/row"),u=e("../../../../../../../components/component-library"),d=e("../../../../../../../helpers/constants/design-system"),m=e("../../../../../context/confirm");n.default=()=>{var e;const t=(0,l.useI18nContext)(),{currentConfirmation:n}=(0,m.useConfirmContext)(),a=null==n||null===(e=n.msgParams)||void 0===e||null===(e=e.siwe)||void 0===e?void 0:e.parsedMessage;if(!a)return null;const{address:f,chainId:p,issuedAt:g,nonce:h,requestId:y,statement:v,resources:k,uri:T,version:b}=a,x=(0,s.toHex)(p),w=i.NETWORK_TO_NAME_MAP[x]??x;return o.default.createElement(c.ConfirmInfoRow,{label:t("message"),collapsed:!0,copyEnabled:!0,copyText:JSON.stringify(a)},o.default.createElement(u.Box,{style:{marginLeft:-8,marginRight:-8}},o.default.createElement(u.Text,{color:d.TextColor.inherit,style:{whiteSpace:"pre-wrap",marginLeft:8,marginRight:8}},v??""),o.default.createElement(c.ConfirmInfoRow,{label:t("siweURI")},o.default.createElement(c.ConfirmInfoRowText,{text:T})),o.default.createElement(c.ConfirmInfoRow,{label:t("siweNetwork")},o.default.createElement(c.ConfirmInfoRowText,{text:w})),o.default.createElement(c.ConfirmInfoRow,{label:t("account")},o.default.createElement(c.ConfirmInfoRowAddress,{address:f,chainId:x})),o.default.createElement(c.ConfirmInfoRow,{label:t("version")},o.default.createElement(c.ConfirmInfoRowText,{text:b})),o.default.createElement(c.ConfirmInfoRow,{label:t("chainId")},o.default.createElement(c.ConfirmInfoRowText,{text:`${p}`})),o.default.createElement(c.ConfirmInfoRow,{label:t("nonce")},o.default.createElement(c.ConfirmInfoRowText,{text:h})),o.default.createElement(c.ConfirmInfoRow,{label:t("siweIssued")},o.default.createElement(c.ConfirmInfoRowDate,{unixTimestamp:r.DateTime.fromISO(g,{zone:"utc"}).toUnixInteger()})),y&&o.default.createElement(c.ConfirmInfoRow,{label:t("siweRequestId")},o.default.createElement(c.ConfirmInfoRowText,{text:y})),k&&o.default.createElement(c.ConfirmInfoRow,{label:t("siweResources")},k.map(((e,t)=>o.default.createElement(c.ConfirmInfoRowText,{key:`resource-${t}`,text:e}))))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/personal-sign/siwe-sign/siwe-sign.tsx"}],[7233,{"../../../../../../../components/app/confirm/info/row":6139,"../../../../../../../components/app/name":6253,"../../../../../../../components/component-library":6528,"../../../../../../../helpers/constants/design-system":6979,"../../../../../../../hooks/useI18nContext":7081,"../../../../../context/confirm":7359,"../../shared/static-simulation/static-simulation":7248,"@metamask/name-controller":2337,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RevokeSetApprovalForAllStaticSimulation=void 0;var a=e("@metamask/name-controller"),o=m(e("react")),r=e("../../../../../../../components/app/confirm/info/row"),s=m(e("../../../../../../../components/app/name")),i=e("../../../../../../../components/component-library"),l=e("../../../../../../../helpers/constants/design-system"),c=e("../../../../../../../hooks/useI18nContext"),u=e("../../../../../context/confirm"),d=m(e("../../shared/static-simulation/static-simulation"));function m(e){return e&&e.__esModule?e:{default:e}}n.RevokeSetApprovalForAllStaticSimulation=({spender:e})=>{const t=(0,c.useI18nContext)(),{currentConfirmation:n}=(0,u.useConfirmContext)(),{chainId:m}=n,f=o.default.createElement(r.ConfirmInfoRow,{label:t("nfts")},o.default.createElement(i.Box,{style:{marginLeft:"auto",maxWidth:"100%"}},o.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center},o.default.createElement(s.default,{value:n.txParams.to,type:a.NameType.ETHEREUM_ADDRESS,preferContractSymbol:!0,variation:m})))),p=o.default.createElement(r.ConfirmInfoRow,{label:t("permissionFrom")},o.default.createElement(i.Box,{style:{marginLeft:"auto",maxWidth:"100%"}},o.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center},o.default.createElement(s.default,{value:e,type:a.NameType.ETHEREUM_ADDRESS,preferContractSymbol:!0,variation:m})))),g=o.default.createElement(o.default.Fragment,null,f,p);return o.default.createElement(d.default,{title:t("simulationDetailsTitle"),titleTooltip:t("simulationDetailsTitleTooltip"),description:t("simulationDetailsRevokeSetApprovalForAllDesc"),simulationElements:g})}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/set-approval-for-all-info/revoke-set-approval-for-all-static-simulation/revoke-set-approval-for-all-static-simulation.tsx"}],[7234,{"../../../../context/confirm":7359,"../approve/approve-details/approve-details":7204,"../hooks/useTokenTransactionData":7223,"../shared/advanced-details/advanced-details":7236,"../shared/gas-fees-section/gas-fees-section":7243,"../utils":7264,"./revoke-set-approval-for-all-static-simulation/revoke-set-approval-for-all-static-simulation":7233,"./set-approval-for-all-static-simulation/set-approval-for-all-static-simulation":7235,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../../context/confirm"),s=e("../approve/approve-details/approve-details"),i=e("../shared/advanced-details/advanced-details"),l=e("../shared/gas-fees-section/gas-fees-section"),c=e("../utils"),u=e("../hooks/useTokenTransactionData"),d=e("./revoke-set-approval-for-all-static-simulation/revoke-set-approval-for-all-static-simulation"),m=e("./set-approval-for-all-static-simulation/set-approval-for-all-static-simulation");n.default=()=>{var e;const{currentConfirmation:t}=(0,r.useConfirmContext)(),n=(0,u.useTokenTransactionData)(),a=null==n||null===(e=n.args)||void 0===e?void 0:e._operator,f=(0,c.getIsRevokeSetApprovalForAll)(n);return null!=t&&t.txParams?o.default.createElement(o.default.Fragment,null,f?o.default.createElement(d.RevokeSetApprovalForAllStaticSimulation,{spender:a}):o.default.createElement(m.SetApprovalForAllStaticSimulation,null),o.default.createElement(s.ApproveDetails,{isSetApprovalForAll:!0}),o.default.createElement(l.GasFeesSection,null),o.default.createElement(i.AdvancedDetails,null)):null}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/set-approval-for-all-info/set-approval-for-all-info.tsx"}],[7235,{"../../../../../../../components/app/confirm/info/row":6139,"../../../../../../../components/app/name":6253,"../../../../../../../components/component-library":6528,"../../../../../../../helpers/constants/design-system":6979,"../../../../../../../hooks/useI18nContext":7081,"../../../../../context/confirm":7359,"../../shared/static-simulation/static-simulation":7248,"@metamask/name-controller":2337,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SetApprovalForAllStaticSimulation=void 0;var a=e("@metamask/name-controller"),o=m(e("react")),r=e("../../../../../../../components/app/confirm/info/row"),s=m(e("../../../../../../../components/app/name")),i=e("../../../../../../../components/component-library"),l=e("../../../../../../../helpers/constants/design-system"),c=e("../../../../../../../hooks/useI18nContext"),u=e("../../../../../context/confirm"),d=m(e("../../shared/static-simulation/static-simulation"));function m(e){return e&&e.__esModule?e:{default:e}}n.SetApprovalForAllStaticSimulation=()=>{const e=(0,c.useI18nContext)(),{currentConfirmation:t}=(0,u.useConfirmContext)(),{chainId:n}=t,m=o.default.createElement(r.ConfirmInfoRow,{label:e("withdrawing")},o.default.createElement(i.Box,{style:{marginLeft:"auto",maxWidth:"100%"}},o.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center},o.default.createElement(i.Box,{display:l.Display.Inline,marginInlineEnd:1,minWidth:l.BlockSize.Zero},o.default.createElement(i.Text,{"data-testid":"simulation-token-value",backgroundColor:l.BackgroundColor.backgroundAlternative,borderRadius:l.BorderRadius.XL,paddingInline:2,textAlign:l.TextAlign.Center,alignItems:l.AlignItems.center},e("all"))),o.default.createElement(s.default,{value:t.txParams.to,type:a.NameType.ETHEREUM_ADDRESS,preferContractSymbol:!0,variation:n}))));return o.default.createElement(d.default,{title:e("simulationDetailsTitle"),titleTooltip:e("simulationDetailsTitleTooltip"),description:e("simulationDetailsSetApprovalForAllDesc"),simulationElements:m})}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/set-approval-for-all-info/set-approval-for-all-static-simulation/set-approval-for-all-static-simulation.tsx"}],[7236,{"../../../../../../../../shared/modules/selectors":6032,"../../../../../../../components/app/confirm/info/row":6139,"../../../../../../../components/app/confirm/info/row/section":6141,"../../../../../../../hooks/useI18nContext":7081,"../../../../../../../selectors":7653,"../../../../../../../store/actions":7667,"../../../../../context/confirm":7359,"../../../../../selectors/preferences":7415,"../../../../../utils":7422,"../transaction-data/transaction-data":7249,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AdvancedDetails=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../../../../../../shared/modules/selectors"),s=e("../../../../../../../components/app/confirm/info/row"),i=e("../../../../../../../components/app/confirm/info/row/section"),l=e("../../../../../../../hooks/useI18nContext"),c=e("../../../../../../../selectors"),u=e("../../../../../../../store/actions"),d=e("../../../../../context/confirm"),m=e("../../../../../selectors/preferences"),f=e("../../../../../utils"),p=e("../transaction-data/transaction-data");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const h=()=>{const{currentConfirmation:e}=(0,d.useConfirmContext)(),t=(0,l.useI18nContext)(),n=(0,o.useDispatch)();(0,a.useEffect)((()=>{e&&!(0,f.isSignatureTransactionType)(e)&&n((0,u.getNextNonce)(e.txParams.from))}),[e,n]);const m=(0,o.useSelector)(c.getNextSuggestedNonce),p=(0,o.useSelector)(c.getCustomNonceValue),g=p||m,h=(0,o.useSelector)(r.getIsSmartTransaction);return a.default.createElement(i.ConfirmInfoSection,{"data-testid":"advanced-details-nonce-section"},a.default.createElement(s.ConfirmInfoRow,{label:t("advancedDetailsNonceDesc"),tooltip:t("advancedDetailsNonceTooltip")},a.default.createElement(s.ConfirmInfoRowText,{"data-testid":"advanced-details-displayed-nonce",text:`${g}`,onEditClick:h?undefined:()=>n((0,u.showModal)({name:"CUSTOMIZE_NONCE",customNonceValue:p,nextNonce:m,updateCustomNonce:e=>{n((0,u.updateCustomNonce)(e))},getNextNonce:u.getNextNonce})),editIconClassName:"edit-nonce-btn",editIconDataTestId:"edit-nonce-icon"})))};n.AdvancedDetails=({overrideVisibility:e=!1})=>{const t=(0,o.useSelector)(m.selectConfirmationAdvancedDetailsOpen);return e||t?a.default.createElement(a.default.Fragment,null,a.default.createElement(h,null),a.default.createElement(p.TransactionData,null)):null}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/shared/advanced-details/advanced-details.tsx"}],[7237,{"../../../../../../../components/component-library":6528,"../../../../../../../components/ui/icon/preloader":6857,"../../../../../../../helpers/constants/design-system":6979,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmLoader=void 0;var a=i(e("react")),o=e("../../../../../../../components/component-library"),r=i(e("../../../../../../../components/ui/icon/preloader")),s=e("../../../../../../../helpers/constants/design-system");function i(e){return e&&e.__esModule?e:{default:e}}n.ConfirmLoader=()=>a.default.createElement(o.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,paddingTop:4,paddingBottom:4},a.default.createElement(r.default,{size:20}))}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/shared/confirm-loader/confirm-loader.tsx"}],[7238,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TOKEN_VALUE_UNLIMITED_THRESHOLD=n.HEX_ZERO=n.DAI_CONTRACT_ADDRESS=void 0;n.HEX_ZERO="0x0",n.TOKEN_VALUE_UNLIMITED_THRESHOLD=10**15,n.DAI_CONTRACT_ADDRESS="0x6B175474E89094C44Da98b954EedeAC495271d0F"}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/shared/constants.ts"}],[7239,{"../../../../../../../../shared/constants/network":5972,"../../../../../../../components/app/confirm/info/row/alert-row/alert-row":6131,"../../../../../../../components/app/confirm/info/row/constants":6132,"../../../../../../../components/component-library":6528,"../../../../../../../components/ui/tooltip":6925,"../../../../../../../helpers/constants/design-system":6979,"../../../../../../../hooks/useI18nContext":7081,"../../../../../../../selectors":7653,"../../../../../context/confirm":7359,"../edit-gas-icon/edit-gas-icon-button":7240,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EditGasFeesRow=void 0;var a=g(e("react")),o=e("react-redux"),r=e("../../../../../../../../shared/constants/network"),s=e("../../../../../../../components/app/confirm/info/row/alert-row/alert-row"),i=e("../../../../../../../components/app/confirm/info/row/constants"),l=e("../../../../../../../components/component-library"),c=g(e("../../../../../../../components/ui/tooltip")),u=e("../../../../../../../helpers/constants/design-system"),d=e("../../../../../../../hooks/useI18nContext"),m=e("../../../../../../../selectors"),f=e("../../../../../context/confirm"),p=e("../edit-gas-icon/edit-gas-icon-button");function g(e){return e&&e.__esModule?e:{default:e}}n.EditGasFeesRow=({fiatFee:e,fiatFeeWith18SignificantDigits:t,nativeFee:n,supportsEIP1559:g,setShowCustomizeGasPopover:h})=>{const y=(0,d.useI18nContext)(),{currentConfirmation:v}=(0,f.useConfirmContext)(),k=r.TEST_CHAINS.includes(v.chainId),{showFiatInTestnets:T}=(0,o.useSelector)(m.getPreferences);return a.default.createElement(s.ConfirmInfoAlertRow,{alertKey:i.RowAlertKey.EstimatedFee,ownerId:v.id,"data-testid":"edit-gas-fees-row",label:y("networkFee"),tooltip:y("estimatedFeeTooltip")},a.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,justifyContent:u.JustifyContent.spaceBetween,alignItems:u.AlignItems.center,textAlign:u.TextAlign.Center},a.default.createElement(p.EditGasIconButton,{supportsEIP1559:g,setShowCustomizeGasPopover:h}),a.default.createElement(l.Text,{marginRight:1,color:u.TextColor.textDefault,"data-testid":"first-gas-field"},n),(!k||T)&&(t?a.default.createElement(c.default,{title:t},a.default.createElement(l.Text,{marginRight:2,color:u.TextColor.textAlternative,"data-testid":"native-currency"},e)):a.default.createElement(l.Text,{marginRight:2,color:u.TextColor.textAlternative,"data-testid":"native-currency"},e))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/shared/edit-gas-fees-row/edit-gas-fees-row.tsx"}],[7240,{"../../../../../../../components/component-library":6528,"../../../../../../../contexts/transaction-modal":6947,"../../../../../../../helpers/constants/design-system":6979,"../../../../../hooks/useTransactionEventFragment":7409,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EditGasIconButton=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../../../../../components/component-library"),s=e("../../../../../../../contexts/transaction-modal"),i=e("../../../../../../../helpers/constants/design-system"),l=e("../../../../../hooks/useTransactionEventFragment");n.EditGasIconButton=({supportsEIP1559:e,setShowCustomizeGasPopover:t})=>{const{openModal:n}=(0,s.useTransactionModalContext)(),{updateTransactionEventFragment:a}=(0,l.useTransactionEventFragment)();return o.default.createElement(r.Button,{style:{textDecoration:"none"},size:r.ButtonSize.Sm,variant:r.ButtonVariant.Link,startIconName:r.IconName.Edit,color:i.IconColor.primaryDefault,"data-testid":"edit-gas-fee-icon",onClick:()=>e?(a({gas_edit_attempted:"basic"}),void n("editGasFee")):void t(!0)})}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/shared/edit-gas-icon/edit-gas-icon-button.tsx"}],[7241,{"../../../../../../../components/app/confirm/info/row/alert-row/alert-row":6131,"../../../../../../../components/app/confirm/info/row/constants":6132,"../../../../../../../components/component-library":6528,"../../../../../../../helpers/constants/design-system":6979,"../../../../../../../hooks/useI18nContext":7081,"../../../../../context/confirm":7359,"../../../../../selectors/preferences":7415,"../../../../gas-timing/gas-timing.component":7307,"../../hooks/useEIP1559TxFees":7216,"../../hooks/useFeeCalculations":7217,"../../hooks/useSupportsEIP1559":7221,"../edit-gas-fees-row/edit-gas-fees-row":7239,"../gas-fees-row/gas-fees-row":7242,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.GasFeesDetails=void 0;var a=v(e("react")),o=e("react-redux"),r=e("../../../../../../../components/component-library"),s=e("../../../../../../../helpers/constants/design-system"),i=e("../../../../../../../hooks/useI18nContext"),l=e("../../../../../selectors/preferences"),c=e("../../../../../context/confirm"),u=v(e("../../../../gas-timing/gas-timing.component")),d=e("../../hooks/useEIP1559TxFees"),m=e("../../hooks/useFeeCalculations"),f=e("../../hooks/useSupportsEIP1559"),p=e("../edit-gas-fees-row/edit-gas-fees-row"),g=e("../gas-fees-row/gas-fees-row"),h=e("../../../../../../../components/app/confirm/info/row/alert-row/alert-row"),y=e("../../../../../../../components/app/confirm/info/row/constants");function v(e){return e&&e.__esModule?e:{default:e}}n.GasFeesDetails=({setShowCustomizeGasPopover:e})=>{const t=(0,i.useI18nContext)(),{currentConfirmation:n}=(0,c.useConfirmContext)(),{maxFeePerGas:v,maxPriorityFeePerGas:k}=(0,d.useEIP1559TxFees)(n),{supportsEIP1559:T}=(0,f.useSupportsEIP1559)(n),b=Boolean(null==n?void 0:n.layer1GasFee),{estimatedFeeFiat:x,estimatedFeeFiatWith18SignificantDigits:w,estimatedFeeNative:C,l1FeeFiat:E,l1FeeFiatWith18SignificantDigits:_,l1FeeNative:S,l2FeeFiat:I,l2FeeFiatWith18SignificantDigits:M,l2FeeNative:P,maxFeeFiat:A,maxFeeFiatWith18SignificantDigits:D,maxFeeNative:O}=(0,m.useFeeCalculations)(n),F=(0,o.useSelector)(l.selectConfirmationAdvancedDetailsOpen);return null!=n&&n.txParams?a.default.createElement(a.default.Fragment,null,a.default.createElement(p.EditGasFeesRow,{fiatFee:x,fiatFeeWith18SignificantDigits:w,nativeFee:C,supportsEIP1559:T,setShowCustomizeGasPopover:e}),F&&b&&a.default.createElement(a.default.Fragment,null,a.default.createElement(g.GasFeesRow,{"data-testid":"gas-fee-details-l1",label:t("l1Fee"),tooltipText:t("l1FeeTooltip"),fiatFee:E,fiatFeeWith18SignificantDigits:_,nativeFee:S}),a.default.createElement(g.GasFeesRow,{"data-testid":"gas-fee-details-l2",label:t("l2Fee"),tooltipText:t("l2FeeTooltip"),fiatFee:I,fiatFeeWith18SignificantDigits:M,nativeFee:P})),T&&a.default.createElement(h.ConfirmInfoAlertRow,{alertKey:y.RowAlertKey.Speed,"data-testid":"gas-fee-details-speed",label:t("speed"),ownerId:n.id},a.default.createElement(r.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center},a.default.createElement(u.default,{maxFeePerGas:v,maxPriorityFeePerGas:k}))),F&&a.default.createElement(g.GasFeesRow,{"data-testid":"gas-fee-details-max-fee",label:t("maxFee"),tooltipText:t("maxFeeTooltip"),fiatFee:A,fiatFeeWith18SignificantDigits:D,nativeFee:O})):null}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/shared/gas-fees-details/gas-fees-details.tsx"}],[7242,{"../../../../../../../../shared/constants/network":5972,"../../../../../../../components/app/confirm/info/row":6139,"../../../../../../../components/component-library":6528,"../../../../../../../components/ui/tooltip":6925,"../../../../../../../helpers/constants/design-system":6979,"../../../../../../../selectors":7653,"../../../../../context/confirm":7359,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.GasFeesRow=void 0;var a=m(e("react")),o=e("react-redux"),r=e("../../../../../../../../shared/constants/network"),s=e("../../../../../../../components/app/confirm/info/row"),i=e("../../../../../../../components/component-library"),l=m(e("../../../../../../../components/ui/tooltip")),c=e("../../../../../../../helpers/constants/design-system"),u=e("../../../../../../../selectors"),d=e("../../../../../context/confirm");function m(e){return e&&e.__esModule?e:{default:e}}n.GasFeesRow=({label:e,tooltipText:t,fiatFee:n,fiatFeeWith18SignificantDigits:m,nativeFee:f,"data-testid":p})=>{const{currentConfirmation:g}=(0,d.useConfirmContext)(),h=r.TEST_CHAINS.includes(null==g?void 0:g.chainId),{showFiatInTestnets:y}=(0,o.useSelector)(u.getPreferences);return a.default.createElement(s.ConfirmInfoRow,{"data-testid":p,label:e,tooltip:t,variant:s.ConfirmInfoRowVariant.Default},a.default.createElement(i.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,justifyContent:c.JustifyContent.spaceBetween,alignItems:c.AlignItems.center,textAlign:c.TextAlign.Center,marginLeft:8},a.default.createElement(i.Text,{marginRight:1,color:c.TextColor.textDefault},f),(!h||y)&&(m?a.default.createElement(l.default,{title:m},a.default.createElement(i.Text,{color:c.TextColor.textAlternative},n)):a.default.createElement(i.Text,{color:c.TextColor.textAlternative},n))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/shared/gas-fees-row/gas-fees-row.tsx"}],[7243,{"../../../../../../../../shared/constants/gas":5963,"../../../../../../../components/app/confirm/info/row/section":6141,"../../../../../context/confirm":7359,"../../../../edit-gas-popover":7304,"../../hooks/useSupportsEIP1559":7221,"../gas-fees-details/gas-fees-details":7241,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.GasFeesSection=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../../../../../shared/constants/gas"),s=e("../../../../../../../components/app/confirm/info/row/section"),i=e("../../../../../context/confirm"),l=(a=e("../../../../edit-gas-popover"))&&a.__esModule?a:{default:a},c=e("../../hooks/useSupportsEIP1559"),u=e("../gas-fees-details/gas-fees-details");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const m=({closeCustomizeGasPopover:e,transactionMeta:t})=>o.default.createElement(l.default,{onClose:e,mode:r.EditGasModes.modifyInPlace,transaction:t});n.GasFeesSection=()=>{const{currentConfirmation:e}=(0,i.useConfirmContext)(),[t,n]=(0,o.useState)(!1),a=(0,o.useCallback)((()=>n(!1)),[n]),{supportsEIP1559:r}=(0,c.useSupportsEIP1559)(e);return null!=e&&e.txParams?o.default.createElement(s.ConfirmInfoSection,{"data-testid":"gas-fee-section"},o.default.createElement(u.GasFeesDetails,{setShowCustomizeGasPopover:n}),!r&&t&&o.default.createElement(m,{closeCustomizeGasPopover:a,transactionMeta:e})):null}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/shared/gas-fees-section/gas-fees-section.tsx"}],[7244,{"../../../../../../../../shared/constants/network":5972,"../../../../../../../../shared/lib/transactions-controller-utils":6004,"../../../../../../../../shared/modules/selectors/networks":6033,"../../../../../../../components/component-library":6528,"../../../../../../../components/ui/tooltip":6925,"../../../../../../../ducks/locale/locale":6966,"../../../../../../../helpers/constants/design-system":6979,"../../../../../../../hooks/useFiatFormatter":7077,"../../../../../../../selectors":7653,"../../../../../../../selectors/multichain":7656,"../../../../../context/confirm":7359,"../../../../simulation-details/formatAmount":7313,"../../hooks/useSendingValueMetric":7220,"bignumber.js":4195,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("bignumber.js"),o=k(e("react")),r=e("react-redux"),s=e("../../../../../../../../shared/constants/network"),i=e("../../../../../../../../shared/lib/transactions-controller-utils"),l=e("../../../../../../../../shared/modules/selectors/networks"),c=e("../../../../../../../components/component-library"),u=k(e("../../../../../../../components/ui/tooltip")),d=e("../../../../../../../ducks/locale/locale"),m=e("../../../../../../../helpers/constants/design-system"),f=e("../../../../../../../hooks/useFiatFormatter"),p=e("../../../../../../../selectors"),g=e("../../../../../../../selectors/multichain"),h=e("../../../../../context/confirm"),y=e("../../../../simulation-details/formatAmount"),v=e("../../hooks/useSendingValueMetric");function k(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{var e;const{currentConfirmation:t}=(0,h.useConfirmContext)(),{chainId:n}=t,k=(0,i.calcTokenAmount)(t.txParams.value,18),T=(0,r.useSelector)((e=>(0,p.selectConversionRateByChainId)(e,n))),b=T&&k&&new a.BigNumber(T).times(k,10).toNumber(),x=(0,f.useFiatFormatter)(),w=b&&x(b,{shorten:!0}),C=(0,r.useSelector)(g.getMultichainNetwork),E=null==C||null===(e=C.network)||void 0===e?void 0:e.ticker,_=(0,r.useSelector)(l.getNetworkConfigurationsByChainId),S=null==_?void 0:_[t.chainId],{nativeCurrency:I}=S,M=(0,r.useSelector)(d.getIntlLocale),P=(0,y.formatAmount)(M,k),A=k.toFixed(),D=s.TEST_CHAINS.includes(t.chainId),{showFiatInTestnets:O}=(0,r.useSelector)(p.getPreferences),F=o.default.createElement(c.AvatarToken,{src:s.CHAIN_ID_TOKEN_IMAGE_MAP[t.chainId],name:I,size:c.AvatarTokenSize.Xl,backgroundColor:m.BackgroundColor.backgroundDefault}),N=P===A?o.default.createElement(c.Text,{variant:m.TextVariant.headingLg,color:m.TextColor.inherit,marginTop:3},`${P} ${E}`):o.default.createElement(u.default,{title:A,position:"right"},o.default.createElement(c.Text,{variant:m.TextVariant.headingLg,color:m.TextColor.inherit,marginTop:3},`${P} ${E}`)),R=Boolean(w)&&(!D||O)&&o.default.createElement(c.Text,{variant:m.TextVariant.bodyMd,color:m.TextColor.textAlternative},w);return(0,v.useSendingValueMetric)({transactionMeta:t,fiatValue:b}),o.default.createElement(c.Box,{display:m.Display.Flex,flexDirection:m.FlexDirection.Column,justifyContent:m.JustifyContent.center,alignItems:m.AlignItems.center,padding:4},F,N,R)}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/shared/native-send-heading/native-send-heading.tsx"}],[7245,{"../../../../../../../../shared/constants/network":5972,"../../../../../../../../shared/modules/selectors/networks":6033,"../../../../../../../../shared/modules/string-utils":6036,"../../../../../../../components/component-library":6528,"../../../../../../../components/multichain/nft-item":6710,"../../../../../../../ducks/metamask/metamask":6967,"../../../../../../../helpers/constants/design-system":6979,"../../../../../../../helpers/utils/nfts":7017,"../../../../../context/confirm":7359,"../../../../../hooks/useAssetDetails":7383,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("react-redux"),s=e("../../../../../../../../shared/constants/network"),i=e("../../../../../../../../shared/modules/string-utils"),l=e("../../../../../../../components/component-library"),c=e("../../../../../../../components/multichain/nft-item"),u=e("../../../../../../../ducks/metamask/metamask"),d=e("../../../../../../../helpers/constants/design-system"),m=e("../../../../../../../helpers/utils/nfts"),f=e("../../../../../context/confirm"),p=e("../../../../../hooks/useAssetDetails"),g=e("../../../../../../../../shared/modules/selectors/networks");n.default=()=>{const{currentConfirmation:e}=(0,f.useConfirmContext)(),t=e.txParams.to,n=e.txParams.from,{data:a}=e.txParams,{chainId:h}=e,{assetName:y,tokenImage:v,tokenId:k}=(0,p.useAssetDetails)(t,n,a,h),T=(0,r.useSelector)((e=>(0,u.getNFTsByChainId)(e,h))),b=(0,r.useSelector)(g.getNetworkConfigurationsByChainId),x=k&&T.find((({address:e,tokenId:n})=>(0,i.isEqualCaseInsensitive)(e,t)&&k===n.toString())),w=null==x?void 0:x.imageOriginal,C=null==x?void 0:x.image,E=x?(0,m.getNftImageAlt)(x):"",_=w??(C||""),S=null==_?void 0:_.startsWith("ipfs:"),I=b[h],M=o.default.createElement(l.Box,{style:{width:"48px"}},o.default.createElement(c.NftItem,{src:v,alt:E,name:y,tokenId:k||"",networkName:I.name??"",networkSrc:s.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[h],isIpfsURL:S})),P=o.default.createElement(l.Text,{variant:d.TextVariant.headingLg,color:d.TextColor.inherit,marginTop:3,textAlign:d.TextAlign.Center},y),A=o.default.createElement(l.Text,{variant:d.TextVariant.bodyMd,color:d.TextColor.textAlternative},`#${k}`);return o.default.createElement(l.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.center,alignItems:d.AlignItems.center,padding:4},M,P,A)}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/shared/nft-send-heading/nft-send-heading.tsx"}],[7246,{"../../../../../../../../shared/constants/network":5972,"../../../../../../../components/component-library":6528,"../../../../../../../components/ui/tooltip":6925,"../../../../../../../helpers/constants/design-system":6979,"../../../../../../../hooks/useI18nContext":7081,"../../../../../../../selectors":7653,"../../../../../context/confirm":7359,"../../hooks/use-token-values":7214,"../../hooks/useSendingValueMetric":7220,"../../hooks/useTokenDetails":7222,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=g(e("react")),o=e("react-redux"),r=e("../../../../../../../../shared/constants/network"),s=e("../../../../../../../components/component-library"),i=g(e("../../../../../../../components/ui/tooltip")),l=e("../../../../../../../helpers/constants/design-system"),c=e("../../../../../../../hooks/useI18nContext"),u=e("../../../../../../../selectors"),d=e("../../../../../context/confirm"),m=e("../../hooks/use-token-values"),f=e("../../hooks/useSendingValueMetric"),p=e("../../hooks/useTokenDetails");function g(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const e=(0,c.useI18nContext)(),{currentConfirmation:t}=(0,d.useConfirmContext)(),{tokenImage:n,tokenSymbol:g}=(0,p.useTokenDetails)(t),{decodedTransferValue:h,displayTransferValue:y,fiatDisplayValue:v,fiatValue:k}=(0,m.useTokenValues)(t),T=r.TEST_CHAINS.includes(t.chainId),{showFiatInTestnets:b}=(0,o.useSelector)(u.getPreferences),x=a.default.createElement(s.AvatarToken,{src:n,name:g!==e("unknown")&&g,size:s.AvatarTokenSize.Xl,backgroundColor:g===e("unknown")?l.BackgroundColor.overlayDefault:l.BackgroundColor.backgroundDefault,color:g===e("unknown")?l.TextColor.textMuted:l.TextColor.textDefault}),w=y===h?a.default.createElement(s.Text,{variant:l.TextVariant.headingLg,color:l.TextColor.inherit,marginTop:3},`${y} ${g}`):a.default.createElement(i.default,{title:h,position:"right"},a.default.createElement(s.Text,{variant:l.TextVariant.headingLg,color:l.TextColor.inherit,marginTop:3},`${y} ${g}`)),C=Boolean(v)&&(!T||b)&&a.default.createElement(s.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},v);return(0,f.useSendingValueMetric)({transactionMeta:t,fiatValue:k}),a.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,padding:4},x,w,C)}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/shared/send-heading/send-heading.tsx"}],[7247,{"../../../../../../../components/app/confirm/info/row":6139,"../../../../../../../components/app/confirm/info/row/alert-row/alert-row":6131,"../../../../../../../components/app/confirm/info/row/constants":6132,"../../../../../../../hooks/useI18nContext":7081,"../../../../../context/confirm":7359,"../../../../../utils":7422,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SigningInWithRow=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../../../../../components/app/confirm/info/row"),s=e("../../../../../../../components/app/confirm/info/row/alert-row/alert-row"),i=e("../../../../../../../components/app/confirm/info/row/constants"),l=e("../../../../../../../hooks/useI18nContext"),c=e("../../../../../context/confirm"),u=e("../../../../../utils");n.SigningInWithRow=()=>{var e,t;const n=(0,l.useI18nContext)(),{currentConfirmation:a}=(0,c.useConfirmContext)(),d=(0,u.isSIWESignatureRequest)(a),m=null==a?void 0:a.chainId,f=(null==a||null===(e=a.txParams)||void 0===e?void 0:e.from)??(null==a||null===(t=a.msgParams)||void 0===t?void 0:t.from);return f?o.default.createElement(s.ConfirmInfoAlertRow,{alertKey:i.RowAlertKey.SigningInWith,label:n(d?"signingInWith":"signingWith"),ownerId:a.id,isShownWithAlertsOnly:!d},o.default.createElement(r.ConfirmInfoRowAddress,{address:f,chainId:m})):null}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/shared/sign-in-with-row/sign-in-with-row.tsx"}],[7248,{"../../../../../../../components/app/confirm/info/row":6139,"../../../../../../../components/app/confirm/info/row/section":6141,"../../../../../../../components/component-library":6528,"../../../../../../../components/ui/icon/preloader":6857,"../../../../../../../helpers/constants/design-system":6979,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("react")),o=e("../../../../../../../components/component-library"),r=e("../../../../../../../components/app/confirm/info/row"),s=e("../../../../../../../components/app/confirm/info/row/section"),i=e("../../../../../../../helpers/constants/design-system"),l=c(e("../../../../../../../components/ui/icon/preloader"));function c(e){return e&&e.__esModule?e:{default:e}}const u={display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.spaceBetween};n.default=({title:e,titleTooltip:t,description:n,simulationElements:c,isLoading:d,isCollapsed:m=!1})=>a.default.createElement(s.ConfirmInfoSection,{"data-testid":"confirmation__simulation_section",style:m?u:{}},a.default.createElement(r.ConfirmInfoRow,{label:e,tooltip:t},n&&a.default.createElement(r.ConfirmInfoRowText,{text:n})),d?a.default.createElement(o.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.center},a.default.createElement(l.default,{size:20})):c)}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/shared/static-simulation/static-simulation.tsx"}],[7249,{"../../../../../../../../shared/modules/transaction.utils":6038,"../../../../../../../../shared/types/transaction-decode":6042,"../../../../../../../components/app/confirm/info/row":6139,"../../../../../../../components/app/confirm/info/row/expandable-row":6137,"../../../../../../../components/app/confirm/info/row/section":6141,"../../../../../../../components/component-library":6528,"../../../../../../../components/ui/icon/preloader":6857,"../../../../../../../helpers/constants/design-system":6979,"../../../../../../../hooks/useI18nContext":7081,"../../../../../context/confirm":7359,"../../hooks/useDecodedTransactionData":7215,"@ethersproject/bytes":559,lodash:5108,react:5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Container=v,n.TransactionData=void 0;var a=y(e("react")),o=e("@ethersproject/bytes"),r=y(e("lodash")),s=e("../../hooks/useDecodedTransactionData"),i=e("../../../../../../../components/app/confirm/info/row/section"),l=e("../../../../../../../components/app/confirm/info/row"),c=e("../../../../../../../helpers/constants/design-system"),u=e("../../../../../../../components/component-library"),d=e("../../../../../../../hooks/useI18nContext"),m=e("../../../../../../../components/app/confirm/info/row/expandable-row"),f=y(e("../../../../../../../components/ui/icon/preloader")),p=e("../../../../../../../../shared/types/transaction-decode"),g=e("../../../../../context/confirm"),h=e("../../../../../../../../shared/modules/transaction.utils");function y(e){return e&&e.__esModule?e:{default:e}}function v({children:e,isLoading:t,transactionData:n}){const o=(0,d.useI18nContext)();return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.ConfirmInfoSection,{"data-testid":"advanced-details-data-section"},a.default.createElement(l.ConfirmInfoRow,{label:o("advancedDetailsDataDesc"),copyEnabled:Boolean(n),copyText:n||undefined},a.default.createElement(u.Box,null,t&&a.default.createElement(f.default,{size:20}))),e))}function k({transactionData:e}){const t=(0,d.useI18nContext)();return a.default.createElement(l.ConfirmInfoRow,{label:t("advancedDetailsHexDesc")},a.default.createElement(l.ConfirmInfoRowText,{"data-testid":"advanced-details-transaction-hex",text:e}))}function T({method:e,source:t,isExpandable:n,chainId:o}){const r=(0,d.useI18nContext)(),s=a.default.createElement(u.Box,{paddingLeft:2,"data-testid":`advanced-details-${e.name}-params`},e.params.map(((e,n)=>a.default.createElement(x,{key:n,param:e,index:n,source:t,chainId:o}))));return n?a.default.createElement(m.ConfirmInfoExpandableRow,{label:r("transactionDataFunction"),tooltip:e.description,content:s,startExpanded:!0},a.default.createElement(l.ConfirmInfoRowText,{"data-testid":"advanced-details-data-function",text:e.name})):a.default.createElement(a.default.Fragment,null,a.default.createElement(l.ConfirmInfoRow,{"data-testid":"advanced-details-data-function",label:r("transactionDataFunction"),tooltip:e.description},a.default.createElement(l.ConfirmInfoRowText,{text:e.name})),s)}function b({param:e,source:t,chainId:n}){const{name:r,type:s,value:i}=e;if("address"===s)return a.default.createElement(l.ConfirmInfoRowAddress,{address:i,chainId:n});if("path"===r&&t===p.DecodedTransactionDataSource.Uniswap)return a.default.createElement(w,{pathPools:i,chainId:n});let c=i.toString();return!Array.isArray(i)&&c.startsWith("0x")&&(c=(0,o.hexStripZeros)(c)),a.default.createElement(l.ConfirmInfoRowText,{text:c})}function x({param:e,index:t,source:n,chainId:o}){var s;const{name:i,type:c,description:d}=e,m=i?r.default.startCase(i):`Param #${t+1}`,f=`${c}${d?` - ${d}`:""}`,p=`advanced-details-data-param-${t}`,g=null===(s=e.children)||void 0===s?void 0:s.map(((e,t)=>a.default.createElement(x,{key:t,param:e,index:t,source:n,chainId:o})));return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.ConfirmInfoRow,{label:m,tooltip:f,"data-testid":p},!(null!=g&&g.length)&&a.default.createElement(b,{param:e,source:n,chainId:o})),g&&a.default.createElement(u.Box,{paddingLeft:2},g))}function w({pathPools:e,chainId:t}){return a.default.createElement(u.Box,{display:c.Display.Flex,flexWrap:c.FlexWrap.Wrap,justifyContent:c.JustifyContent.flexEnd},e.map(((e,n)=>a.default.createElement(a.default.Fragment,null,0===n&&a.default.createElement(l.ConfirmInfoRowAddress,{address:e.firstAddress,chainId:t}),a.default.createElement(l.ConfirmInfoRowText,{text:String(e.tickSpacing)}),a.default.createElement(l.ConfirmInfoRowAddress,{address:e.secondAddress,chainId:t})))))}n.TransactionData=()=>{var e;const{currentConfirmation:t}=(0,g.useConfirmContext)(),n=null==t||null===(e=t.txParams)||void 0===e?void 0:e.data,o=(0,s.useDecodedTransactionData)(),{value:r,pending:i}=o;if(i)return a.default.createElement(v,{isLoading:!0});if(!(0,h.hasTransactionData)(n))return null;if(!r)return a.default.createElement(v,{transactionData:n},a.default.createElement(k,{transactionData:n}));const{data:c,source:u}=r,d=c.length>1,{chainId:m}=t;return a.default.createElement(v,{transactionData:n},a.default.createElement(a.default.Fragment,null,c.map(((e,t)=>a.default.createElement(a.default.Fragment,{key:t},a.default.createElement(T,{method:e,source:u,isExpandable:d,chainId:m}),t<c.length-1&&a.default.createElement(l.ConfirmInfoRowDivider,null))))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/shared/transaction-data/transaction-data.tsx"}],[7250,{"../../../../../../../components/app/confirm/info/row":6139,"../../../../../../../components/app/confirm/info/row/alert-row/alert-row":6131,"../../../../../../../components/app/confirm/info/row/constants":6132,"../../../../../../../components/app/confirm/info/row/currency":6134,"../../../../../../../components/app/confirm/info/row/section":6141,"../../../../../../../helpers/constants/common":6977,"../../../../../../../hooks/useI18nContext":7081,"../../../../../../../hooks/useUserPreferencedCurrency":7116,"../../../../../../../selectors/account-abstraction":7644,"../../../../../context/confirm":7359,"../../../../../selectors/preferences":7415,"../../hooks/useFourByte":7218,"../../utils":7264,"../constants":7238,"../sign-in-with-row/sign-in-with-row":7247,"ethereumjs-util":4537,react:5502,"react-redux":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TransactionDetails=n.RecipientRow=n.OriginRow=n.MethodDataRow=void 0;var a=e("ethereumjs-util"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("../../../../../../../components/app/confirm/info/row"),i=e("../../../../../../../components/app/confirm/info/row/alert-row/alert-row"),l=e("../../../../../../../components/app/confirm/info/row/constants"),c=e("../../../../../../../components/app/confirm/info/row/section"),u=e("../../../../../../../hooks/useI18nContext"),d=e("../../../../../../../selectors/account-abstraction"),m=e("../../../../../selectors/preferences"),f=e("../../../../../context/confirm"),p=e("../../hooks/useFourByte"),g=e("../../../../../../../components/app/confirm/info/row/currency"),h=e("../../../../../../../helpers/constants/common"),y=e("../../../../../../../hooks/useUserPreferencedCurrency"),v=e("../constants"),k=e("../../utils"),T=e("../sign-in-with-row/sign-in-with-row");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const x=()=>{const e=(0,u.useI18nContext)(),{currentConfirmation:t}=(0,f.useConfirmContext)(),n=null==t?void 0:t.origin;return n?o.default.createElement(i.ConfirmInfoAlertRow,{alertKey:l.RowAlertKey.RequestFrom,ownerId:t.id,"data-testid":"transaction-details-origin-row",label:e("requestFrom"),tooltip:e("requestFromTransactionDescription")},o.default.createElement(s.ConfirmInfoRowUrl,{url:n})):null};n.OriginRow=x;const w=()=>{var e,t;const n=(0,u.useI18nContext)(),{currentConfirmation:r}=(0,f.useConfirmContext)();if(null==r||null===(e=r.txParams)||void 0===e||!e.to||!(0,a.isValidAddress)((null==r||null===(t=r.txParams)||void 0===t?void 0:t.to)??""))return null;const{chainId:i}=r;return o.default.createElement(s.ConfirmInfoRow,{"data-testid":"transaction-details-recipient-row",label:n("interactingWith"),tooltip:n("interactingWithTransactionDescription")},o.default.createElement(s.ConfirmInfoRowAddress,{address:r.txParams.to,chainId:i}))};n.RecipientRow=w;const C=()=>{const e=(0,u.useI18nContext)(),{currentConfirmation:t}=(0,f.useConfirmContext)(),n=(0,p.useFourByte)(t);return null!=n&&n.name?o.default.createElement(s.ConfirmInfoRow,{"data-testid":"transaction-details-method-data-row",label:e("methodData"),tooltip:e("methodDataTransactionDesc")},o.default.createElement(s.ConfirmInfoRowText,{text:n.name})):null};n.MethodDataRow=C;const E=()=>{var e;const t=(0,u.useI18nContext)(),{currentConfirmation:n}=(0,f.useConfirmContext)(),{currency:a}=(0,y.useUserPreferencedCurrency)(h.PRIMARY),r=null==n||null===(e=n.txParams)||void 0===e?void 0:e.value;return r&&r!==v.HEX_ZERO?o.default.createElement(c.ConfirmInfoSection,null,o.default.createElement(s.ConfirmInfoRow,{"data-testid":"transaction-details-amount-row",label:t("amount")},o.default.createElement(g.ConfirmInfoRowCurrency,{value:r,currency:a}))):null},_=()=>{const e=(0,u.useI18nContext)(),{currentConfirmation:t}=(0,f.useConfirmContext)(),{id:n,chainId:a}=t??{},i=Boolean(null==t?void 0:t.isUserOperation),l=(0,r.useSelector)((e=>(0,d.selectPaymasterAddress)(e,n)));return i&&l?o.default.createElement(c.ConfirmInfoSection,null,o.default.createElement(s.ConfirmInfoRow,{"data-testid":"transaction-details-paymaster-row",label:e("confirmFieldPaymaster"),tooltip:e("confirmFieldTooltipPaymaster")},o.default.createElement(s.ConfirmInfoRowAddress,{address:l,chainId:a}))):null};n.TransactionDetails=()=>{const e=(0,r.useSelector)(m.selectConfirmationAdvancedDetailsOpen),{currentConfirmation:t}=(0,f.useConfirmContext)(),n=(0,o.useMemo)((()=>(0,k.hasValueAndNativeBalanceMismatch)(t)),[t]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(c.ConfirmInfoSection,{"data-testid":"transaction-details-section"},o.default.createElement(x,null),o.default.createElement(w,null),e&&o.default.createElement(C,null),o.default.createElement(T.SigningInWithRow,null)),(e||n)&&o.default.createElement(E,null),o.default.createElement(_,null))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/shared/transaction-details/transaction-details.tsx"}]],[],{});